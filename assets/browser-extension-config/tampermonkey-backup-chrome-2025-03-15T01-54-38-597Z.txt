{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"resizable","options":{"check_for_updates":false,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.espn.com/nfl/recap?gameId=401437784"],"orig_noframes":null,"orig_run_at":"context-menu","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[],"orig_run_in":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null,"run_in":null,"tags":[]},"storage":{"ts":1712102384882,"data":{}},"enabled":true,"position":1,"uuid":"bdfd76c7-157a-4159-a7ff-dbe97076b0c3","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICByZXNpemFibGUKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjEKLy8gQGRlc2NyaXB0aW9uICB0cnkgdG8gdGFrZSBvdmVyIHRoZSB3b3JsZCEKLy8gQGF1dGhvciAgICAgICBZb3UKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy5lc3BuLmNvbS9uZmwvcmVjYXA/Z2FtZUlkPTQwMTQzNzc4NAovLyBAaWNvbiAgICAgICAgIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vczIvZmF2aWNvbnM/c3o9NjQmZG9tYWluPWVzcG4uY29tCi8vIEBncmFudCAgICAgICAgbm9uZQovLyBAcnVuLWF0ICAgICAgIGNvbnRleHQtbWVudQovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICBjb25zdCBkaXZzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2Jyk7CiAgICBkaXZzLmZvckVhY2goKGFEaXYpID0+IHsKICAgICAgICBhRGl2LnN0eWxlLmNzc1RleHQgKz0gJ3Jlc2l6ZTpib3RoO292ZXJmbG93OmF1dG87Ym9yZGVyOjFweCBzb2xpZCBvcmFuZ2U7JzsKICAgIH0pOwp9KSgpOw=="},{"name":"hbomax autofill","options":{"check_for_updates":false,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://auth.max.com/login*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[],"orig_run_in":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":1702930061388,"run_in":null,"tags":[]},"storage":{"ts":1712102384884,"data":{}},"enabled":true,"position":2,"uuid":"0f67a15e-83e4-4319-bec8-86aed4f88370","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBoYm9tYXggYXV0b2ZpbGwKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjEKLy8gQGRlc2NyaXB0aW9uICBlbmFibGUgYXV0b2ZpbGwgZm9yIGhib21heCBsb2dpbiBmaWVsZHMKLy8gQGF1dGhvciAgICAgICB6cm9iCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9hdXRoLm1heC5jb20vbG9naW4qCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zMi9mYXZpY29ucz9zej02NCZkb21haW49bWF4LmNvbQovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1zdGFydAovLyA9PS9Vc2VyU2NyaXB0PT0KCi8qCiogQXV0b2ZpbGwgcGFzc3dvcmQgd2l0aCBpbnB1dCBib3ggaW5qZWN0aW9uIHRyaWNrLiBXaHkgZG9lcyB0aGF0IHdvcms/PwoqCiogQXV0b2ZpbGwgdXNlcm5hbWUgYnkgY2hhbmdpbmcgYXV0b2NvbXBsZXRlIGF0dHJpYnV0ZSBvbiB1c2VybmFtZSBpbnB1dC4KKi8KCihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICAvLyBGb3Igc29tZSByZWFzb24gaW5qZWN0aW5nIGFuIGlucHV0IHR5cGUgb2YgcGFzc3dvcmQgdGV4dCBpbnB1dAogICAgLy8gaW50byB0aGUgcGFnZSBsZXQncyB0aGUgcmVhbCBwYXNzd29yZCBpbnB1dCBhdXRvZmlsbC4KICAgIHZhciBwYXNzd29yZGZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgIHBhc3N3b3JkZmllbGQudHlwZSA9ICJwYXNzd29yZCI7CiAgICBwYXNzd29yZGZpZWxkLmF1dG9jb21wbGV0ZT0iY3VycmVudC1wYXNzd29yZCI7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHBhc3N3b3JkZmllbGQpOwoKICAgIC8qKgogICAgKiBGaW5kcyBhbGwgZWxlbWVudHMgaW4gdGhlIGVudGlyZSBwYWdlIG1hdGNoaW5nIGBzZWxlY3RvcmAsIGV2ZW4gaWYgdGhleSBhcmUgaW4gc2hhZG93Um9vdHMuCiAgICAqIEp1c3QgbGlrZSBgcXVlcnlTZWxlY3RvckFsbGAsIGJ1dCBhdXRvbWF0aWNhbGx5IGV4cGFuZCBvbiBhbGwgY2hpbGQgYHNoYWRvd1Jvb3RgIGVsZW1lbnRzLgogICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS83MTY5MjU1NS8yMjI4NzcxCiAgICAqLwogICAgZnVuY3Rpb24gcXVlcnlTZWxlY3RvckFsbFNoYWRvd3Moc2VsZWN0b3IsIGVsID0gZG9jdW1lbnQuYm9keSkgewogICAgICAgIC8vIHJlY3Vyc2Ugb24gY2hpbGRTaGFkb3dzCiAgICAgICAgY29uc3QgY2hpbGRTaGFkb3dzID0gQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKCcqJykpLgogICAgICAgIG1hcChlbCA9PiBlbC5zaGFkb3dSb290KS5maWx0ZXIoQm9vbGVhbik7CgogICAgICAgIGNvbnN0IGNoaWxkUmVzdWx0cyA9IGNoaWxkU2hhZG93cy5tYXAoY2hpbGQgPT4gcXVlcnlTZWxlY3RvckFsbFNoYWRvd3Moc2VsZWN0b3IsIGNoaWxkKSk7CgogICAgICAgIC8vIGZ1c2UgYWxsIHJlc3VsdHMgaW50byBzaW5ndWxhciwgZmxhdCBhcnJheQogICAgICAgIGNvbnN0IHJlc3VsdCA9IEFycmF5LmZyb20oZWwucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpOwogICAgICAgIHJldHVybiByZXN1bHQuY29uY2F0KGNoaWxkUmVzdWx0cykuZmxhdCgpOwogICAgfQoKICAgIC8vIEEgZnVuY3Rpb24gdGhhdCB3YWl0cyBmb3IgYW4gZWxlbWVudCB0byBleGlzdCBpbiB0aGUgRE9NIGFuZCB0aGVuIGV4ZWN1dGVzIGEgY2FsbGJhY2sgZnVuY3Rpb24uCiAgICBmdW5jdGlvbiB3YWl0Rm9yRWxlbWVudChzZWxlY3RvciwgbWF4QXR0ZW1wdHMgPSAxMCwgY2FsbGJhY2spIHsKICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwOwogICAgICAgIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHF1ZXJ5U2VsZWN0b3JBbGxTaGFkb3dzKHNlbGVjdG9yKVswXQoKICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7CiAgICAgICAgICAgICAgICBjYWxsYmFjayhlbGVtZW50KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhdHRlbXB0IGFnYWluIik7CiAgICAgICAgICAgICAgICBhdHRlbXB0cysrOwogICAgICAgICAgICAgICAgaWYgKGF0dGVtcHRzID49IG1heEF0dGVtcHRzKSB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0VsZW1lbnQgJyArIHNlbGVjdG9yICsgJyBub3QgZm91bmQgYWZ0ZXIgJyArIG1heEF0dGVtcHRzICsgJyBhdHRlbXB0cycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgNTAwKTsKICAgIH0KCiAgICB3YWl0Rm9yRWxlbWVudCgiaW5wdXRbaWQ9J2xvZ2luLXVzZXJuYW1lLWlucHV0J10iLDI1ICwgZnVuY3Rpb24gKGVsZW1lbnQpewogICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCd1c2VybmFtZScpCiAgICB9KTsKCn0pKCk7"},{"name":"HTML5视频播放工具","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":["https://user.qzone.qq.com/*"],"orig_includes":["*/play*","*play/*"],"orig_matches":["https://*.qq.com/*","https://www.weiyun.com/video_*","https://v.youku.com/v_play/*","https://v.youku.com/v_show/id_*","https://vku.youku.com/live/*","https://video.tudou.com/v/*","https://www.iqiyi.com/*","https://live.bilibili.com/*","https://www.bilibili.com/*","https://www.ixigua.com/*","https://www.toutiao.com/video/*","https://www.acfun.cn/*","https://live.acfun.cn/live/*","http://v.pptv.com/show/*","https://v.pptv.com/show/*","https://www.miguvideo.com/*","https://tv.sohu.com/*","https://film.sohu.com/album/*","https://www.mgtv.com/*","https://pan.baidu.com/*","https://yun.baidu.com/*","https://*.163.com/*","https://*.icourse163.org/*","http://video.sina.*/*","https://video.sina.*/*","http://k.sina.*/*","https://k.sina.*/*","https://weibo.com/*","https://*.weibo.com/*","https://pan.baidu.com/*","https://yun.baidu.com/*","http://v.ifeng.com/*","https://v.ifeng.com/*","http://news.mtime.com/*","http://video.mtime.com/*","https://www.youtube.com/*","https://www.ted.com/talks/*","https://www.twitch.tv/*","https://www.yy.com/*","https://www.huya.com/*","https://v.douyu.com/*","https://www.douyu.com/*","https://live.douyin.com/*","https://www.douyin.com/*","https://www.longzhu.com/*","https://www.zhanqi.tv/*"],"orig_noframes":null,"orig_run_at":"document-start","use_blockers":[],"use_connects":[],"use_excludes":["/^[^:/#?]*:\\/\\/([^#?/]*\\.)?www\\.espn\\.com(:[0-9]{1,5})?\\/.*$/"],"use_includes":[],"use_matches":[],"orig_run_in":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":1712614130036,"run_in":null,"tags":[]},"storage":{"ts":1712102384896,"data":{"remberRate":"bfalse"}},"enabled":true,"position":3,"file_url":"https://update.greasyfork.org/scripts/30545/HTML5%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%B7%A5%E5%85%B7.user.js","uuid":"a7d8e7c9-c93b-4f5f-808a-8f178cea9fa3","source":"LyogZ2xvYmFscyBqUXVlcnksICQsIFZ1ZSAqLwovLyA9PVVzZXJTY3JpcHQ9PQovLyBAbmFtZSAgICAgICBIVE1MNeinhumikeaSreaUvuW3peWFtwovLyBAbmFtZTplbgkgICBIVE1MNSBWaWRlbyBQbGF5aW5nIFRvb2xzCi8vIEBuYW1lOml0ICAgIFN0cnVtZW50aSBkaSByaXByb2R1emlvbmUgdmlkZW8gSFRNTDUKLy8gQGRlc2NyaXB0aW9uIOinhumikeaIquWbvu+8m+WIh+aNoueUu+S4reeUu++8m+e8k+WtmOinhumike+8m+S4h+iDvee9kemhteWFqOWxj++8m+a3u+WKoOW/q+aNt+mUru+8muW/q+i/m+OAgeW/q+mAgOOAgeaaguWBnC/mkq3mlL7jgIHpn7Pph4/jgIHkuIvkuIDpm4bjgIHliIfmjaIo572R6aG1KeWFqOWxj+OAgeS4iuS4i+W4p+OAgeaSreaUvumAn+W6puOAguaUr+aMgeinhumikeermeeCue+8muayueeuoeOAgVRFROOAgeS8mC7lnJ/jgIFRUeOAgULnq5njgIHopb/nk5zop4bpopHjgIHniLHlpYfoibrjgIFB56uZ44CBUFBUVuOAgeiKkuaenFRW44CB5ZKq5ZKV6KeG6aKR44CB5paw5rWq44CB5b6u5Y2a44CB572R5piTW+WoseS5kOOAgeS6keivvuWgguOAgeaWsOmXu13jgIHmkJzni5DjgIHpo47ooYzjgIHnmb7luqbkupHop4bpopHnrYnvvJvnm7Tmkq3vvJp0d2l0Y2jjgIHmlpfpsbzjgIFZWeOAgeiZjueJmeOAgem+meePoOOAgeaImOaXl+OAguWPr+WinuWKoOiHquWumuS5ieermeeCuQovLyBAZGVzY3JpcHRpb246ZW4gRW5hYmxlIGhvdGtleXMgZm9yIEhUTUw1IHBsYXliYWNrOiB2aWRlbyBzY3JlZW5zaG90OyBlbmFibGUvZGlzYWJsZSBwaWN0dXJlLWluLXBpY3R1cmU7IGNvcHkgY2FjaGVkIHZpZGVvOyBzZW5kIGFueSB2aWRlbyB0byBmdWxsIHNjcmVlbiBvciBicm93c2VyIHdpbmRvdyBzaXplOyBmYXN0IGZvcndhcmQsIHJld2luZCwgcGF1c2UvcGxheSwgdm9sdW1lLCBza2lwIHRvIG5leHQgdmlkZW8sIHNraXAgdG8gcHJldmlvdXMgb3IgbmV4dCBmcmFtZSwgc2V0IHBsYXliYWNrIHNwZWVkLiBWaWRlbyBzaXRlcyBzdXBwb3J0ZWQ6IFlvdVR1YmUsIFRFRCwgWW91a3UsIFFRLmNvbSwgYmlsaWJpbGksIGl4aWd1YSwgaVFpeWksIHN1cHBvcnQgbWFpbnN0cmVhbSB2aWRlbyBzaXRlcyBpbiBtYWlubGFuZCBDaGluYTsgTGl2ZSBicm9hZGNhc3RzOiBUd2l0Y2gsIERvdXl1LmNvbSwgWVkuY29tLCBIdXlhLmNvbS4gQ3VzdG9tIHNpdGVzIGNhbiBiZSBhZGRlZAovLyBAZGVzY3JpcHRpb246aXQgQWJpbGl0YSB0YXN0aSBkaSBzY2VsdGEgcmFwaWRhIHBlciByaXByb2R1emlvbmUgSFRNTDU6IHNjcmVlbnNob3QgZGVsIHZpZGVvOyBhYmlsaXRhL2Rpc2FiaWxpdGEgcGljdHVyZS1pbi1waWN0dXJlOyBjb3BpYSBpbCB2aWRlbyBuZWxsYSBjYWNoZTsgbWFuZGEgcXVhbHNpYXNpIHZpZGVvIGEgc2NoZXJtbyBpbnRlcm8gbyBhIGRpbWVuc2lvbmUgZmluZXN0cmEgZGVsIGJyb3dzZXI7IGF2YW56YW1lbnRvIHZlbG9jZSwgcmlhdnZvbGdpbWVudG8sIHBhdXNhL3JpcHJvZHV6aW9uZSwgaW1wb3N0YSB2ZWxvY2l0w6AgZGkgcmlwcm9kdXppb25lLiBTaXRpIHZpZGVvIHN1cHBvcnRhdGk6IFlvdVR1YmUsIFRFRCwgU3VwcG9ydG8gZGVpIHNpdGkgdmlkZW8gbWFpbnN0cmVhbSBuZWxsYSBDaW5hIGNvbnRpbmVudGFsZS4gw4ggcG9zc2liaWxlIGFnZ2l1bmdlcmUgc2l0aSBwZXJzb25hbGl6emF0aQovLyBAaG9tZXBhZ2UgaHR0cHM6Ly9iYnMua2FmYW4uY24vdGhyZWFkLTIwOTMwMTQtMS0xLmh0bWwKLy8gQG1hdGNoICAgIGh0dHBzOi8vKi5xcS5jb20vKgovLyBAZXhjbHVkZSAgaHR0cHM6Ly91c2VyLnF6b25lLnFxLmNvbS8qCi8vIEBtYXRjaCAgICBodHRwczovL3d3dy53ZWl5dW4uY29tL3ZpZGVvXyoKLy8gQG1hdGNoICAgIGh0dHBzOi8vdi55b3VrdS5jb20vdl9wbGF5LyoKLy8gQG1hdGNoICAgIGh0dHBzOi8vdi55b3VrdS5jb20vdl9zaG93L2lkXyoKLy8gQG1hdGNoICAgIGh0dHBzOi8vdmt1LnlvdWt1LmNvbS9saXZlLyoKLy8gQG1hdGNoICAgIGh0dHBzOi8vdmlkZW8udHVkb3UuY29tL3YvKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly93d3cuaXFpeWkuY29tLyoKLy8gQG1hdGNoICAgIGh0dHBzOi8vbGl2ZS5iaWxpYmlsaS5jb20vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tLyoKLy8gQG1hdGNoICAgIGh0dHBzOi8vd3d3Lml4aWd1YS5jb20vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly93d3cudG91dGlhby5jb20vdmlkZW8vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly93d3cuYWNmdW4uY24vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly9saXZlLmFjZnVuLmNuL2xpdmUvKgovLyBAbWF0Y2ggICAgaHR0cDovL3YucHB0di5jb20vc2hvdy8qCi8vIEBtYXRjaCAgICBodHRwczovL3YucHB0di5jb20vc2hvdy8qCi8vIEBtYXRjaCAgICBodHRwczovL3d3dy5taWd1dmlkZW8uY29tLyoKLy8gQG1hdGNoICAgIGh0dHBzOi8vdHYuc29odS5jb20vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly9maWxtLnNvaHUuY29tL2FsYnVtLyoKLy8gQG1hdGNoICAgIGh0dHBzOi8vd3d3Lm1ndHYuY29tLyoKLy8gQHZlcnNpb24gICAgMS45LjkKLy8gQG1hdGNoICAgIGh0dHBzOi8vcGFuLmJhaWR1LmNvbS8qCi8vIEBtYXRjaCAgICBodHRwczovL3l1bi5iYWlkdS5jb20vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly8qLjE2My5jb20vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly8qLmljb3Vyc2UxNjMub3JnLyoKLy8gQG1hdGNoICAgIGh0dHA6Ly92aWRlby5zaW5hLiovKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly92aWRlby5zaW5hLiovKgovLyBAbWF0Y2ggICAgaHR0cDovL2suc2luYS4qLyoKLy8gQG1hdGNoICAgIGh0dHBzOi8vay5zaW5hLiovKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly93ZWliby5jb20vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly8qLndlaWJvLmNvbS8qCi8vIEBtYXRjaCAgICBodHRwczovL3Bhbi5iYWlkdS5jb20vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly95dW4uYmFpZHUuY29tLyoKLy8gQG1hdGNoICAgIGh0dHA6Ly92LmlmZW5nLmNvbS8qCi8vIEBtYXRjaCAgICBodHRwczovL3YuaWZlbmcuY29tLyoKLy8gQG1hdGNoICAgIGh0dHA6Ly9uZXdzLm10aW1lLmNvbS8qCi8vIEBtYXRjaCAgICBodHRwOi8vdmlkZW8ubXRpbWUuY29tLyoKLy8gQEdNX2luZm8KLy8gQG1hdGNoICAgIGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tLyoKLy8gQG1hdGNoICAgIGh0dHBzOi8vd3d3LnRlZC5jb20vdGFsa3MvKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly93d3cudHdpdGNoLnR2LyoKCi8vIEBtYXRjaCAgICBodHRwczovL3d3dy55eS5jb20vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly93d3cuaHV5YS5jb20vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly92LmRvdXl1LmNvbS8qCi8vIEBtYXRjaCAgICBodHRwczovL3d3dy5kb3V5dS5jb20vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly9saXZlLmRvdXlpbi5jb20vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly93d3cuZG91eWluLmNvbS8qCgovLyBAbWF0Y2ggICAgaHR0cHM6Ly93d3cubG9uZ3podS5jb20vKgovLyBAbWF0Y2ggICAgaHR0cHM6Ly93d3cuemhhbnFpLnR2LyoKLy8gQHJ1bi1hdCAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQHJlcXVpcmUgICAgaHR0cHM6Ly9jZG4uc3RhdGljZmlsZS5vcmcvdnVlLzIuNi4xMS92dWUubWluLmpzCi8vIEByZXF1aXJlICAgIGh0dHBzOi8vY2RuLnN0YXRpY2ZpbGUub3JnL2pxdWVyeS8zLjYuMC9qcXVlcnkubWluLmpzCi8vIEBncmFudCAgICAgIEdNX2FkZFN0eWxlCi8vIEBpbmNsdWRlICAgICovcGxheSoKLy8gQGluY2x1ZGUgICAgKnBsYXkvKgovLyBAZ3JhbnQgICAgICB3aW5kb3cub251cmxjaGFuZ2UKLy8gQGdyYW50ICAgICAgdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICBHTV9ub3RpZmljYXRpb24KLy8gQGdyYW50ICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICBHTV9nZXRWYWx1ZQovLyBAbmFtZXNwYWNlICBodHRwczovL2dyZWFzeWZvcmsub3JnL3VzZXJzLzcwMzYKLy8gQGxpY2Vuc2UgICAgTUlUCi8vIEBkb3dubG9hZFVSTCBodHRwczovL3VwZGF0ZS5ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzMwNTQ1L0hUTUw1JUU4JUE3JTg2JUU5JUEyJTkxJUU2JTkyJUFEJUU2JTk0JUJFJUU1JUI3JUE1JUU1JTg1JUI3LnVzZXIuanMKLy8gQHVwZGF0ZVVSTCBodHRwczovL3VwZGF0ZS5ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzMwNTQ1L0hUTUw1JUU4JUE3JTg2JUU5JUEyJTkxJUU2JTkyJUFEJUU2JTk0JUJFJUU1JUI3JUE1JUU1JTg1JUI3Lm1ldGEuanMKLy8gPT0vVXNlclNjcmlwdD09CgondXNlIHN0cmljdCc7Cgpjb25zdCBjdXJMYW5nID0gbmF2aWdhdG9yLmxhbmd1YWdlLnNsaWNlKDAsIDIpOwovL+aEn+iwoiBEYXJpbyBDb3N0YSDmj5DkvpvnmoToi7Hor63lkozmhI/lpKfliKnor63nv7vor5EKY29uc3QgaTE4biA9IHsKCSd6aCc6IHsKCQknY29uc29sZSc6ICclY+iEmuacrFslc10g5Y+N6aaI77yaJXNcbiVzJywKCQknY2FjaGVTdG9yaW5nRXJyb3InOiAn55u05o6l5aqS5L2T57G75Z6L77yI5aaCTVA05qC85byP77yJ57yT5a2Y5peg5pWI5p6c77yBJywKCQknY2FjaGVTdG9yaW5nQ29uZmlybSc6ICfop4bpopHliIfniYfmlbDmja7og73lkKbnvJPlrZjvvJ/mo4DmtYvmlrnms5XvvJrliLfmlrDpobXpnaLvvIzlt7Lop4LnnIvop4bpopHniYfmrrXkuI3kuqfnlJ/nvZHnu5zmtYHph4/liJnlj6/nvJPlrZjjgILlpoLmnpzog73nvJPlrZjop4bpopHliIfniYfvvIzpgInmi6nnoa7orqTnm7TmjqXnvJPlrZjlhajpg6jop4bpopHml7bmrrXvvJvngrnlj5bmtojliJnmjInpu5jorqTnvJPlhrLljLrlpKflsI/ov5vooYznvJPlhrLjgIInLAoJCSdjYW50T3BlblBJUCc6ICfml6Dms5Xov5vlhaXnlLvkuK3nlLvmqKHlvI8h6ZSZ6K+vOlxuJywKCQknY2FudEV4aXRQSVAnOiAn5peg5rOV6YCA5Ye655S75Lit55S75qih5byPIemUmeivr++8mlxuJywKCQkncmVtZW1iZXJSYXRlTWVudU9wdGlvbic6ICforrDlv4bmkq3mlL7pgJ/luqYnLAoJCSdzcGVlZFJhdGUnOiAn5pKt5pS+6YCf5bqmICcsCgkJJ3JlYWR5JzogJ+WHhuWkh+Wwsee7qu+8gSDlvoXlkb3kuK0uJywKCQknbWFpblBhZ2VPbmx5JzogJ+WPquWkhOeQhuS4u+mhtemdoicsCgkJJ2Rvd25sb2FkJzogJ+S4i+i9vTogJywKCQkndmlkZW9MYWcnOiAn6KeG6aKR5Y2h6aG/JywKCQknZnVsbFNjcmVlbic6ICflhajlsY8nLAoJCSdoZWxwTWVudU9wdGlvbic6ICfohJrmnKzlip/og73lv6vmjbfplK7ooagnLAoJCSdoZWxwQm9keSc6IGDlj4zlh7vvvJrliIfmjaLvvIjnvZHpobXvvInlhajlsY8gICAgICAgICDpvKDmoIfkuK3plK7vvJrlv6vov5s156eSCgpQ77ya6KeG6aKR5oiq5Zu+ICAgIGnvvJrliIfmjaLnlLvkuK3nlLsgICBN77yaKOWBnOatoinnvJPlrZjop4bpopEoaGxzLmpzKQrihpAg4oaS5pa55ZCR6ZSu77ya5b+r6YCA44CB5b+r6L+bNeenkjsgICDmlrnlkJHplK4gKyBzaGlmdDogMjDnp5IK4oaRIOKGk+aWueWQkemUru+8mumfs+mHj+iwg+iKgiAgIEVTQ++8mumAgOWHuu+8iOe9kemhte+8ieWFqOWxjwrnqbrmoLzplK7vvJrmmoLlgZwv5pKt5pS+ICAgICAgTu+8muaSreaUvuS4i+S4gOmbhgrlm57ovabplK7vvJrliIfmjaLlhajlsY87ICAgICAg5Zue6L2m6ZSuICsgc2hpZnQ6IOWIh+aNoue9kemhteWFqOWxjwpDKOaKlumfs1Yp77ya5Yqg6YCfMC4x5YCNICBYKOaKlumfs1Mp77ya5YeP6YCfMC4x5YCNICBaKOaKlumfs0Ep77ya5YiH5o2i5Yqg6YCf54q25oCBCkTvvJrkuIrkuIDluKcgICAgIEbvvJrkuIvkuIDluKcoeW91dHViZS5jb23nlKhF6ZSuKWAKCX0sCgknZW4nOiB7CgkJJ2NvbnNvbGUnOiAnJWNTY3JpcHRbJXNdIEZlZWRiYWNr77yaJXNcbiVzJywKCQknY2FjaGVTdG9yaW5nRXJyb3InOiAnVHJ5aW5nIHRvIGNhY2hlIGRpcmVjdCBtZWRpYSB0eXBlcyAoc3VjaCBhcyBNUDQgZm9ybWF0KSBoYXMgbm8gZWZmZWN0IScsCgkJJ2NhY2hlU3RvcmluZ0NvbmZpcm0nOiAnRG8geW91IHdhbnQgYWxsIHNlZ21lbnRzIG9mIHRoZSB2aWRlbyB0byBiZSBjYWNoZWQ/IFRoZSBkZXRlY3Rpb24gbWV0aG9kIHVzZWQgaXMgYXMgZm9sbG93czogd2hlbiB0aGUgcGFnZSBpcyByZWZyZXNoZWQsIHRoZSB3YXRjaGVkIHZpZGVvIGNsaXBzIHdpbGwgYmUgY2FjaGVkIHNvIHRoYXQgbm8gYWRkaXRpb25hbCBuZXR3b3JrIHRyYWZmaWMgaXMgZ2VuZXJhdGVkLiBJZiB5b3Ugd2FudCBhbGwgc2VnbWVudHMgb2YgdGhlIHZpZGVvcyB0byBiZSBjYWNoZWQsIHNlbGVjdCBPSzsgb3Igc2VsZWN0IENhbmNlbCB0byBidWZmZXIgYSBwb3J0aW9uIG9mIHRoZSB2aWRlbyBiYXNlZCBvbiB0aGUgZGVmYXVsdCBidWZmZXIgc2l6ZSAod2hpY2ggaXMgdGhlIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvcikuJywKCQknY2FudE9wZW5QSVAnOiAnVW5hYmxlIHRvIGFjY2VzcyBwaWN0dXJlLWluLXBpY3R1cmUgbW9kZSEgRXJyb3LvvJpcbicsCgkJJ2NhbnRFeGl0UElQJzogJ1VuYWJsZSB0byBleGl0IHBpY3R1cmUtaW4tcGljdHVyZSBtb2RlISBFcnJvcu+8mlxuJywKCQkncmVtZW1iZXJSYXRlTWVudU9wdGlvbic6ICdSZW1lbWJlciB2aWRlbyBwbGF5YmFjayBzcGVlZCcsCgkJJ3NwZWVkUmF0ZSc6ICdTcGVlZCByYXRlICcsCgkJJ3JlYWR5JzogJyByZWFkee+8gSBXYWl0aW5nIGZvciB5b3UgY29tbWFuZHMuJywKCQknbWFpblBhZ2VPbmx5JzogJ1Byb2Nlc3MgdGhlIG1haW4gcGFnZSBvbmx5JywKCQknZG93bmxvYWQnOiAnRG93bmxvYWQ6ICcsCgkJJ3ZpZGVvTGFnJzogJ1ZpZGVvIGxhZycsCgkJJ2Z1bGxTY3JlZW4nOiAnRnVsbCBzY3JlZW4nLAoJCSdoZWxwTWVudU9wdGlvbic6ICdIb3RrZXlzIGxpc3Q6JywKCQknaGVscEJvZHknOiBgRG91YmxlLWNsaWNrOiBhY3RpdmF0ZSBmdWxsIHNjcmVlbi4KTWlkZGxlIG1vdXNlIGJ1dHRvbjogZmFzdCBmb3J3YXJkIDUgc2Vjb25kcwoKUCBrZXnvvJogVGFrZSBhIHNjcmVlbnNob3QKSSBrZXnvvJogQWN0aXZhdGUgcGljdHVyZS1pbi1waWN0dXJlIG1vZGUKTSBrZXnvvJogRW5hYmxlL2Rpc2FibGUgY2FjaGluZyBvZiB2aWRlbyhobHMuanMpCgpBcnJvdyBrZXlzIOKGkCBhbmQg4oaS77yaIEZhc3QgZm9yd2FyZCBvciByZXdpbmQgYnkgNSBzZWNvbmRzClNoaWZ0ICsgQXJyb3cga2V5cyDihpAgYW5kIOKGku+8miBGYXN0IGZvcndhcmQgb3IgcmV3aW5kIDIwIHNlY29uZHMKQXJyb3cga2V5cyDihpEgYW5kIOKGk++8miBSYWlzZSBvciBsb3dlciB0aGUgdm9sdW1lCgpFU0PvvJogRXhpdCBmdWxsIHNjcmVlbiAob3IgZXhpdCB2aWRlbyBlbmxhcmdlZCB0byB3aW5kb3cgc2l6ZSkKU3BhY2ViYXLvvJogU3RvcC9QbGF5CkVudGVy77yaIEVuYWJsZS9kaXNhYmxlIGZ1bGwgc2NyZWVuIHZpZGVvClNoaWZ0ICsgRW50ZXI6IFNldC91bnNldCB2aWRlbyBlbmxhcmdlZCB0byB3aW5kb3cgc2l6ZQoKTiBrZXnvvJogUGxheSB0aGUgbmV4dCB2aWRlbyAoaWYgYW55KQpDIGtlee+8miBTcGVlZCB1cCB2aWRlbyBwbGF5YmFjayBieSAwLjEKWCBrZXk6IFNsb3cgZG93biB2aWRlbyBwbGF5YmFjayBieSAwLjEKWiBrZXksIFNldCB2aWRlbyBwbGF5YmFjayBzcGVlZDogMS4wIOKGkOKGkiBYCkQga2V5OiBQcmV2aW91cyBmcmFtZQpGIGtleTogTmV4dCBmcmFtZSAoZXhjZXB0IG9uIFlvdVR1YmUpCkUga2V5OiBOZXh0IGZyYW1lIChZb3VUdWJlIG9ubHkpYAoJfSwKCSdpdCc6IHsKCQknY29uc29sZSc6ICclY1NjcmlwdFslc10gRmVlZGJhY2vvvJolc1xuJXMnLAoJCSdjYWNoZVN0b3JpbmdFcnJvcic6ICdDZXJjYXJlIGRpIG1lbW9yaXp6YXppb25lIG5lbGxhIGNhY2hlIHRpcGkgZGkgbWVkaWEgZGlyZXR0aSAoY29tZSBhZCBlc2VtcGlvIGlsIGZvcm1hdG8gTVA0KSBub24gaGEgYWxjdW5hIGVmZmljYWNpYSEnLAoJCSdjYWNoZVN0b3JpbmdDb25maXJtJzogJ1Z1b2kgY2hlIHR1dHRpIGkgc2VnbWVudGkgZGVsIHZpZGVvIHNpYW5vIG1lbW9yaXp6YXRpIG5lbGxhIGNhY2hlPyBJbCBtZXRvZG8gZGkgcmlsZXZhbWVudG8gdXRpbGl6emF0byDDqCBpbCBzZWd1ZW50ZTogYWxsXCdhZ2dpb3JuYW1lbnRvIGRlbGxhIHBhZ2luYSwgaSB2aWRlbyBjbGlwIGd1YXJkYXRpIHNhcmFubm8gbWVtb3JpenphdGkgbmVsbGEgY2FjaGUgaW4gbW9kbyBkYSBub24gZ2VuZXJhcmUgdWx0ZXJpb3JlIHRyYWZmaWNvIGRpIHJldGUuIFNlIHZ1b2kgY2hlIHR1dHRpIGkgc2VnbWVudGkgZGVpIHZpZGVvIHNpYW5vIG1lbW9yaXp6YXRpIG5lbGxhIGNhY2hlLCBzZWxlemlvbmEgT0s7IHNlbGV6aW9uYSBpbnZlY2UgQW5udWxsYSBwZXIgYnVmZmVyaXp6YXJlIHVuYSBwYXJ0ZSBkZWwgdmlkZW8gaW4gYmFzZSBhbGxhIGRpbWVuc2lvbmUgcHJlZGVmaW5pdGEgZGVsIGJ1ZmZlciAoY29tZSBkYSBjb21wb3J0YW1lbnRvIHByZWRlZmluaXRvIGRlbCBicm93c2VyKS4nLAoJCSdjYW50T3BlblBJUCc6ICdJbXBvc3NpYmlsZSBhY2NlZGVyZSBhbGxhIG1vZGFsaXTDoCBwaWN0dXJlLWluLXBpY3R1cmUhIEVycm9yZe+8mlxuJywKCQknY2FudEV4aXRQSVAnOiAnSW1wb3NzaWJpbGUgdXNjaXJlIGRhbGxhIG1vZGFsaXTDoCBwaWN0dXJlLWluLXBpY3R1cmUhIEVycm9yZe+8mlxuJywKCQkncmVtZW1iZXJSYXRlTWVudU9wdGlvbic6ICdNZW1vcml6emEgbGEgdmVsb2NpdMOgIGRpIHJpcHJvZHV6aW9uZSBkZWkgdmlkZW8nLAoJCSdzcGVlZFJhdGUnOiAnVmVsb2NpdMOgIGRpIHJpcHJvZHV6aW9uZSAnLAoJCSdyZWFkeSc6ICJQcm9udG/vvIEgSW4gYXR0ZXNhIGRlaSBjb21hbmRpIGRlbGwndXRlbnRlLiIsCgkJJ21haW5QYWdlT25seSc6ICdFbGFib3JhemlvbmUgZGVsbGEgc29sYSBwYWdpbmEgcHJpbmNpcGFsZScsCgkJJ2Rvd25sb2FkJzogJ1NjYXJpY2E6ICcsCgkJJ3ZpZGVvTGFnJzogJ1JpdGFyZG8gZGVsIHZpZGVvJywKCQknZnVsbFNjcmVlbic6ICdTY2hlcm1vIGludGVybycsCgkJJ2hlbHBNZW51T3B0aW9uJzogJ0VsZW5jbyBkZWkgdGFzdGkgZGkgc2NlbHRhIHJhcGlkYScsCgkJJ2hlbHBCb2R5JzogYERvcHBpbyBjbGljOiBhdHRpdmEgbG8gc2NoZXJtbyBpbnRlcm8KUHVsc2FudGUgY2VudHJhbGUgZGVsIG1vdXNlOiBhdmFuemFtZW50byByYXBpZG8gZGkgNSBzZWNvbmRpCgpUYXN0byBQOiBFc2VndWkgdW5vIHNjcmVlbnNob3QKVGFzdG8gSe+8miBBdHRpdmEgbW9kYWxpdMOgIHBpY3R1cmUtaW4tcGljdHVyZQpUYXN0byBN77yaIEF0dGl2YS9kaXNhdHRpdmEgbWVtb3JpenphemlvbmUgZGVsIHZpZGVvIG5lbGxhIGNhY2hlKGhscy5qcykKClRhc3RpIGZyZWNjaWEg4oaQIGUg4oaS77yaIEF2YW56YSBvIHJpYXZ2b2xnaSBkaSA1IHNlY29uZGkKU2hpZnQgKyBUYXN0aSBmcmVjY2lhIOKGkCBlIOKGkjogQXZhbnphIG8gcmlhdnZvbGdpIGRpIDIwIHNlY29uZGkKVGFzdGkgZnJlY2NpYSDihpEgZSDihpPvvJogQWx6YSBvIGFiYmFzc2EgaWwgdm9sdW1lCkVTQ++8miBFc2NpIGRhIHNjaGVybW8gaW50ZXJvCkJhcnJhIHNwYXppYXRyaWNlOiBGZXJtYS9SaXByb2R1Y2kKSW52aW/vvJogQXR0aXZhL2Rpc2F0dGl2YSBpbmdyYW5kaW1lbnRvIGRlbCB2aWRlbyBhIHNjaGVybW8gaW50ZXJvClNoaWZ0ICsgSW52aW86IEF0dGl2YS9kaXNhdHRpdmEgaW5ncmFuZGltZW50byBkZWwgdmlkZW8gYSBkaW1lbnNpb25lIGRlbGxhIGZpbmVzdHJhCgpUYXN0byBO77yaIFJpcHJvZHV6aW9uZSBkZWwgdmlkZW8gc3VjY2Vzc2l2byAoc2UgcHJlc2VudGUpClRhc3RvIEM6IFZlbG9jaXp6YSByaXByb2R1emlvbmUgdmlkZW8gZGkgMCwxClRhc3RvIFg6IFJhbGxlbnRhIHJpcHJvZHV6aW9uZSB2aWRlbyBkaSAwLDEKVGFzdG8gWiwgSW1wb3N0YXJlIGxhIHZlbG9jaXTDoCBkaSByaXByb2R1emlvbmUgdmlkZW86IDEsMCDihpDihpIgWApUYXN0byBEOiBWYWkgYWwgZnJhbWUgcHJlY2VkZW50ZQpUYXN0byBGOiBWYWkgYWwgZnJhbWUgc3VjY2Vzc2l2byAoZXNjbHVzbyBZb3VUdWJlKQpUYXN0byBFOiBWYWkgYWwgZnJhbWUgc3VjY2Vzc2l2byAoc29sbyBzdSBZb3VUdWJlKWAKCX0KfTsKY29uc3QgTVNHID0gaTE4bltjdXJMYW5nXSB8fCBpMThuLmVuOwoKY29uc3QgdyA9IHVuc2FmZVdpbmRvdyB8fCB3aW5kb3c7CmNvbnN0IHsgaG9zdCwgcGF0aG5hbWU6IHBhdGggfSA9IGxvY2F0aW9uOwpjb25zdCBkID0gZG9jdW1lbnQsIGZpbmQgPSBbXS5maW5kOwpsZXQgJG1zZywgdiwgX2ZwLCBfZnMsIGJ5OyAvLyBkb2N1bWVudC5ib2R5CmNvbnN0IG9ic2VydmVPcHQgPSB7Y2hpbGRMaXN0IDogdHJ1ZSwgc3VidHJlZSA6IHRydWV9Owpjb25zdCBub29wRm4gPSBmdW5jdGlvbigpe307CmNvbnN0IHZhbGlkRWwgPSBlID0+IGUgJiYgZS5vZmZzZXRXaWR0aCA+IDE7CmNvbnN0IHEgPSAoY3NzLCBwID0gZCkgPT4gcC5xdWVyeVNlbGVjdG9yKGNzcyk7CmNvbnN0IHIxID0gKHJlZ3AsIHMpID0+IHJlZ3AudGVzdChzKSAmJiBSZWdFeHAuJDE7CmNvbnN0IGxvZyA9IGNvbnNvbGUubG9nLmJpbmQoCgljb25zb2xlLAoJTVNHLmNvbnNvbGUsCgknY29sb3I6I2MzYztmb250LXNpemU6MS4yZW0nLAoJR01faW5mby5zY3JpcHQubmFtZSwKCUdNX2luZm8uc2NyaXB0LmhvbWVwYWdlCik7CmNvbnN0IGdtRnVuY09mQ2hlY2tNZW51ID0gKHRpdGxlLCBzYXZlTmFtZSwgZGVmYXVsdFZhbCA9IHRydWUpID0+IHsKCWNvbnN0IHIgPSBHTV9nZXRWYWx1ZShzYXZlTmFtZSwgZGVmYXVsdFZhbCk7CglpZiAocikgdGl0bGUgPSAn4oiaICAnKyB0aXRsZTsKCUdNX3JlZ2lzdGVyTWVudUNvbW1hbmQodGl0bGUsICgpID0+IHsKCQlHTV9zZXRWYWx1ZShzYXZlTmFtZSwgIXIpOwoJCWxvY2F0aW9uLnJlbG9hZCgpOwoJfSk7CglyZXR1cm4gcjsKfTsKY29uc3Qgc2xlZXAgPSBtcyA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsgc2V0VGltZW91dChyZXNvbHZlLCBtcykgfSk7Ci8qIOeUu+S4reeUuwo8c3ZnIHZpZXdCb3g9IjAgMCAyMiAyMiI+PGcgZmlsbD0iI0U2RTZFNiIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTcgNGEyIDIgMCAwMTIgMnY2aC0yVjYuOGEuOC44IDAgMDAtLjgtLjhINC44YS44LjggMCAwMC0uNzk0LjdMNCA2Ljh2OC40YS44LjggMCAwMC43Ljc5NGwuMS4wMDZIMTF2Mkg0YTIgMiAwIDAxLTItMlY2YTIgMiAwIDAxMi0yaDEzeiI+PC9wYXRoPjxyZWN0IHg9IjEzIiB5PSIxNCIgd2lkdGg9IjgiIGhlaWdodD0iNiIgcng9IjEiPjwvcmVjdD48L2c+PC9zdmc+Cuiuvue9rgo8c3ZnIHZpZXdCb3g9IjAgMCAyMiAyMiI+CjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjIiPjwvY2lyY2xlPgo8cGF0aCBkPSJNMTkuMTY0IDguODYxTDE3LjYgOC42YTYuOTc4IDYuOTc4IDAgMDAtMS4xODYtMi4wOTlsLjU3NC0xLjUzM2ExIDEgMCAwMC0uNDM2LTEuMjE3bC0xLjk5Ny0xLjE1M2ExLjAwMSAxLjAwMSAwIDAwLTEuMjcyLjIzbC0xLjAwOCAxLjIyNWE3LjA0IDcuMDQgMCAwMC0yLjU1LjAwMUw4LjcxNiAyLjgyOWExIDEgMCAwMC0xLjI3Mi0uMjNMNS40NDcgMy43NTFhMSAxIDAgMDAtLjQzNiAxLjIxN2wuNTc0IDEuNTMzQTYuOTk3IDYuOTk3IDAgMDA0LjQgOC42bC0xLjU2NC4yNjFBLjk5OS45OTkgMCAwMDIgOS44NDd2Mi4zMDZjMCAuNDg5LjM1My45MDYuODM2Ljk4NmwxLjYxMy4yNjlhNyA3IDAgMDAxLjIyOCAyLjA3NWwtLjU1OCAxLjQ4N2ExIDEgMCAwMC40MzYgMS4yMTdsMS45OTcgMS4xNTNjLjQyMy4yNDQuOTYxLjE0NyAxLjI3Mi0uMjNsMS4wNC0xLjI2M2E3LjA4OSA3LjA4OSAwIDAwMi4yNzIgMGwxLjA0IDEuMjYzYTEgMSAwIDAwMS4yNzIuMjNsMS45OTctMS4xNTNhMSAxIDAgMDAuNDM2LTEuMjE3bC0uNTU3LTEuNDg3Yy41MjEtLjYxLjk0LTEuMzEgMS4yMjgtMi4wNzVsMS42MTMtLjI2OWEuOTk5Ljk5OSAwIDAwLjgzNS0uOTg2VjkuODQ3YS45OTkuOTk5IDAgMDAtLjgzNi0uOTg2ek0xMSAxNWE0IDQgMCAxMTAtOCA0IDQgMCAwMTAgOHoiPjwvcGF0aD4KPC9zdmc+Cm5leHQKPHN2ZyB2aWV3Qm94PSIwIDAgMjIgMjIiPjxwYXRoIGQ9Ik0xNiA1YTEgMSAwIDAwLTEgMXY0LjYxNWExLjQzMSAxLjQzMSAwIDAwLS42MTUtLjgyOUw3LjIxIDUuMjNBMS40MzkgMS40MzkgMCAwMDUgNi40NDV2OS4xMWExLjQ0IDEuNDQgMCAwMDIuMjEgMS4yMTVsNy4xNzUtNC41NTVhMS40MzYgMS40MzYgMCAwMC42MTYtLjgyOFYxNmExIDEgMCAwMDIgMFY2QzE3IDUuNDQ4IDE2LjU1MiA1IDE2IDV6Ij48L3BhdGg+PC9zdmc+CuaIquWbvgo8c3ZnIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDMyIDMyIj48cGF0aCBkPSJNMTYgMjNjLTMuMzA5IDAtNi0yLjY5MS02LTZzMi42OTEtNiA2LTYgNiAyLjY5MSA2IDYtMi42OTEgNi02IDZ6TTE2IDEzYy0yLjIwNiAwLTQgMS43OTQtNCA0czEuNzk0IDQgNCA0YzIuMjA2IDAgNC0xLjc5NCA0LTRzLTEuNzk0LTQtNC00ek0yNyAyOGgtMjJjLTEuNjU0IDAtMy0xLjM0Ni0zLTN2LTE2YzAtMS42NTQgMS4zNDYtMyAzLTNoM2MwLjU1MiAwIDEgMC40NDggMSAxcy0wLjQ0OCAxLTEgMWgtM2MtMC41NTEgMC0xIDAuNDQ5LTEgMXYxNmMwIDAuNTUyIDAuNDQ5IDEgMSAxaDIyYzAuNTUyIDAgMS0wLjQ0OCAxLTF2LTE2YzAtMC41NTEtMC40NDgtMS0xLTFoLTExYy0wLjU1MiAwLTEtMC40NDgtMS0xczAuNDQ4LTEgMS0xaDExYzEuNjU0IDAgMyAxLjM0NiAzIDN2MTZjMCAxLjY1NC0xLjM0NiAzLTMgM3pNMjQgMTAuNWMwIDAuODI4IDAuNjcyIDEuNSAxLjUgMS41czEuNS0wLjY3MiAxLjUtMS41YzAtMC44MjgtMC42NzItMS41LTEuNS0xLjVzLTEuNSAwLjY3Mi0xLjUgMS41ek0xNSA0YzAgMC41NTItMC40NDggMS0xIDFoLTRjLTAuNTUyIDAtMS0wLjQ0OC0xLTF2MGMwLTAuNTUyIDAuNDQ4LTEgMS0xaDRjMC41NTIgMCAxIDAuNDQ4IDEgMXYweiI+PC9wYXRoPjwvc3ZnPgpjb25zdCBjb29raWUgPSBuZXcgUHJveHkobm9vcEZuLCB7CglhcHBseSh0YXJnZXQsIGN0eCwgYXJncykgeyAvL+a4heeQhmNvb2tpZQoJCWNvbnN0IGtleXMgPSBkb2N1bWVudC5jb29raWUubWF0Y2goL1teID07XSsoPz1cPSkvZyk7CgkJaWYgKGtleXMpIHsKCQkJY29uc3QgdmFsID0gJz07IGV4cGlyZXM9JyArIG5ldyBEYXRlKDApLnRvVVRDU3RyaW5nKCkgKyc7IGRvbWFpbj0uOyBwYXRoPS8nOwoJCQlmb3IgKGNvbnN0IGsgb2Yga2V5cykgZG9jdW1lbnQuY29va2llID0gayArIHZhbDsKCQl9CgkJLy8gcmV0dXJuIFJlZmxlY3QuYXBwbHkodGFyZ2V0LCBjdHgsIGFyZ3MpOwoJfSwKCWdldCh0YXJnZXQsIG5hbWUpIHsgLy8g6K+75Y+WY29va2llCgkJY29uc3QgciA9IHIxKG5ldyBSZWdFeHAobmFtZSArJz0oW147XSopJyksIGRvY3VtZW50LmNvb2tpZSk7CgkJaWYgKHIpIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocik7Cgl9LAoJc2V0KHRhcmdldCwgbmFtZSwgdmFsdWUsIHJlY2VpdmVyKSB7IC8vIOWGmeWFpWNvb2tpZQoJCWxldCBzLCB2LCBleHBpcmVzLAoJCW9uZVBhcmFtID0gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnOwoJCWlmIChvbmVQYXJhbSkgewoJCQlleHBpcmVzID0gNjsKCQkJdiA9IHZhbHVlOwoJCX0gZWxzZSB7CgkJCXYgPSB2YWx1ZS52YWw7CgkJCWV4cGlyZXMgPSB2YWx1ZS5leHBpcmVzIHx8IDY7CgkJCWRlbGV0ZSB2YWx1ZS5leHBpcmVzOwoJCX0KCQlzID0gbmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2KTsKCgkJaWYgKGV4cGlyZXMgJiYgKHR5cGVvZiBleHBpcmVzID09ICdudW1iZXInIHx8IGV4cGlyZXMudG9VVENTdHJpbmcpKSB7CgkJCWxldCBkYXRlOwoJCQlpZiAodHlwZW9mIGV4cGlyZXMgPT0gJ251bWJlcicpIHsKCQkJCWRhdGUgPSBuZXcgRGF0ZSgpOwoJCQkJZGF0ZS5zZXRUaW1lKGV4cGlyZXMgKiAyNCAqIDM2MDAwMDAgKyBkYXRlLmdldFRpbWUoKSk7CgkJCX0gZWxzZSB7CgkJCQlkYXRlID0gZXhwaXJlczsKCQkJfQoJCQlzICs9ICc7IGV4cGlyZXM9JyArIGRhdGUudG9VVENTdHJpbmcoKTsKCQl9CgkJaWYgKCFvbmVQYXJhbSkgZm9yIChjb25zdCBrIGluIHZhbHVlKSBzICs9ICc7ICcgKyBrICsgJz0nICsgdmFsdWVba107CgkJZG9jdW1lbnQuY29va2llID0gczsKCQlyZXR1cm4gdHJ1ZTsKCX0sCglkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIG5hbWUsIGRlc2NyaXB0b3IpIHsvLyDliKDpmaRjb29raWUKCQlkb2N1bWVudC5jb29raWUgPSBuYW1lICsgJz07IHBhdGg9LzsgZXhwaXJlcz0nKyBuZXcgRGF0ZSgwKS50b1VUQ1N0cmluZygpOwoJCXJldHVybiB0cnVlOwoJfQp9KTsKY29uc3Qgb25jZUV2ZW50ID0gKGN0eCwgZU5hbWUpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gY3R4LmFkZEV2ZW50TGlzdGVuZXIoZU5hbWUsIHJlc29sdmUpKTsKY29uc3QgcHJvbWlzaWZ5ID0gKGZuKSA9PiAoLi4uYXJncykgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgYXJncy5wdXNoKHJlc29sdmUpOwoJZm4uYXBwbHkodGhpcywgYXJncyk7Cn0pOyAqLwpjb25zdCBob29rQXR0YWNoU2hhZG93ID0gKGNiKSA9PiB7Cgl0cnkgewoJCWNvbnN0IF9hdHRhY2hTaGFkb3cgPSBFbGVtZW50LnByb3RvdHlwZS5hdHRhY2hTaGFkb3c7CgkJRWxlbWVudC5wcm90b3R5cGUuYXR0YWNoU2hhZG93ID0gZnVuY3Rpb24ob3B0KSB7CgkJCW9wdC5tb2RlID0gJ29wZW4nOwoJCQljb25zdCBzaGFkb3dSb290ID0gX2F0dGFjaFNoYWRvdy5jYWxsKHRoaXMsIG9wdCk7CgkJCWNiKHNoYWRvd1Jvb3QpOwoJCQlyZXR1cm4gc2hhZG93Um9vdDsKCQl9OwoJfSBjYXRjaCAoZSkgewoJCWNvbnNvbGUuZXJyb3IoJ0hhY2sgYXR0YWNoU2hhZG93IGVycm9yJywgZSk7Cgl9Cn07CmNvbnN0IGdldFN0eWxlID0gKG8sIHMpID0+IHsKCWlmIChvLnN0eWxlW3NdKSByZXR1cm4gby5zdHlsZVtzXTsKCWlmIChnZXRDb21wdXRlZFN0eWxlKSB7CgkJY29uc3QgeCA9IGdldENvbXB1dGVkU3R5bGUobywgJycpOwoJCXMgPSBzLnJlcGxhY2UoLyhbQS1aXSkvZywnLSQxJykudG9Mb3dlckNhc2UoKTsKCQlyZXR1cm4geCAmJiB4LmdldFByb3BlcnR5VmFsdWUocyk7Cgl9Cn07CmNvbnN0IGRvQ2xpY2sgPSBlID0+IHsKCWlmICh0eXBlb2YgZSA9PT0gJ3N0cmluZycpIGUgPSBxKGUpOwoJaWYgKGUpIHsgZS5jbGljayA/IGUuY2xpY2soKSA6IGUuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnY2xpY2snKSkgfTsKfTsKY29uc3QgY2xpY2tEdWFsQnV0dG9uID0gYnRuID0+IHsgLy8gMuWQiDEg5oyJ6ZKuIEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZwoJIWJ0bi5uZXh0U2libGluZyB8fCBnZXRTdHlsZShidG4sICdkaXNwbGF5JykgIT09ICdub25lJyA/IGRvQ2xpY2soYnRuKSA6IGRvQ2xpY2soYnRuLm5leHRTaWJsaW5nKTsKfTsKY29uc3QgcG9sbGluZyA9IChjYiwgY29uZGl0aW9uLCBzdG9wID0gdHJ1ZSkgPT4gewoJY29uc3QgZm4gPSB0eXBlb2YgY29uZGl0aW9uID09PSAnc3RyaW5nJyA/IHEuYmluZChudWxsLCBjb25kaXRpb24pIDogY29uZGl0aW9uOwoJY29uc3QgdCA9IHNldEludGVydmFsKCgpID0+IHsKCQljb25zdCByID0gZm4oKTsKCQlpZiAocikgewoJCQlzdG9wICYmIGNsZWFySW50ZXJ2YWwodCk7CgkJCWNiKHIpOwoJCX0KCX0sIDMwMCk7CglyZXR1cm4gdDsKfTsKY29uc3QgZ29OZXh0TVYgPSAoKSA9PiB7Cgljb25zdCBzID0gbG9jYXRpb24ucGF0aG5hbWU7Cgljb25zdCBtID0gcy5tYXRjaCgvKFxkKykoXEQqKSQvKTsKCWNvbnN0IGQgPSArbVsxXSArIDE7Cglsb2NhdGlvbi5hc3NpZ24ocy5zbGljZSgwLCBtLmluZGV4KSArIGQgKyBtWzJdKTsKfTsKY29uc3QgZmlyZWZveFZlciA9IHIxKC9GaXJlZm94XC8oXGQrKS8sIG5hdmlnYXRvci51c2VyQWdlbnQpOwpjb25zdCBpc0VkZ2UgPSAvIEVkZ2U/XC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7CmNvbnN0IGZha2VVQSA9IHVhID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXZpZ2F0b3IsICd1c2VyQWdlbnQnLCB7Cgl2YWx1ZTogdWEsCgl3cml0YWJsZTogZmFsc2UsCgljb25maWd1cmFibGU6IGZhbHNlLAoJZW51bWVyYWJsZTogdHJ1ZQp9KTsKY29uc3QgZ2V0TWFpbkRvbWFpbiA9IGhvc3QgPT4gewoJY29uc3QgYSA9IGhvc3Quc3BsaXQoJy4nKTsKCWxldCBpID0gYS5sZW5ndGggLSAyOwoJaWYgKC9eKGNvbT98Y2N8dHZ8bmV0fG9yZ3xnb3Z8ZWR1KSQvLnRlc3QoYVtpXSkpIGktLTsKCXJldHVybiBhW2ldOwp9Owpjb25zdCBpblJhbmdlID0gKG4sIG1pbiwgbWF4KSA9PiBNYXRoLm1heChtaW4sIG4pID09IE1hdGgubWluKG4sIG1heCk7CmNvbnN0IGFkanVzdFJhdGUgPSBuID0+IHsKCW4gKz0gdi5wbGF5YmFja1JhdGU7CglpZiAobiA8IDAuMSkgdi5wbGF5YmFja1JhdGUgPSAuMTsKCWVsc2UgaWYgKG4gPiAxNikgdi5wbGF5YmFja1JhdGUgPSAxNjsKCWVsc2Ugdi5wbGF5YmFja1JhdGUgPSArbi50b0ZpeGVkKDIpOwp9Owpjb25zdCBhZGp1c3RWb2x1bWUgPSBuID0+IHsKCW4gKz0gdi52b2x1bWU7CglpZiAoaW5SYW5nZShuLCAwLCAxKSkgdi52b2x1bWUgPSArbi50b0ZpeGVkKDIpOwp9Owpjb25zdCB0aXAgPSAobXNnKSA9PiB7CglpZiAoISRtc2c/LmdldCgwKT8ub2Zmc2V0SGVpZ2h0KSAkbXNnID0gJCgnPGRpdiBzdHlsZT0ibWF4LXdpZHRoOjQ1NXB4O21pbi13aWR0aDozMzNweDtiYWNrZ3JvdW5kOiNFRUU7Y29sb3I6IzExMTtoZWlnaHQ6MjJweDt0b3A6LTMwcHg7bGVmdDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLCAwKTsgYm9yZGVyLXJhZGl1czo4cHg7Ym9yZGVyOjFweCBzb2xpZCBvcmFuZ2U7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjE1cHg7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDoyMTQ3NDgzNjQ3Ij48L2Rpdj4nKS5hcHBlbmRUbyhieSk7CiAgICBpZiAoIW1zZz8ubGVuZ3RoKSByZXR1cm47Cgljb25zdCBsZW4gPSBtc2cubGVuZ3RoICogMTU7CgkkbXNnLnN0b3AodHJ1ZSwgdHJ1ZSkudGV4dChtc2cpCgkJLmNzcyh7d2lkdGg6YCR7bGVufXB4YH0pCgkJLmFuaW1hdGUoe3RvcDonMTkwcHgnfSkKCQkuYW5pbWF0ZSh7dG9wOicrPTlweCd9LDE5MDApCgkJLmFuaW1hdGUoe3RvcDonLTMwcHgnfSk7Cn07CmNvbnN0IHVhX2Nocm9tZSA9ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85OS4wLjM2MjYuMTIxIFNhZmFyaS81MzcuMzYnOwpjb25zdCB1ID0gZ2V0TWFpbkRvbWFpbihob3N0KTsKY29uc3QgY2ZnID0gewoJaXNMaXZlOiAhMSwKCWRpc2FibGVEQkxDbGljazogITEsCglpc0NsaWNrT25WaWRlbzogITEsCgltdWx0aXBsZVY6ICExLCAvL+WkmuinhumikemhtemdogoJaXNOdW1VUkw6ICExIC8v572R5Z2A5pWw5a2X5YiG6ZuGCn07CmNvbnN0IGJ1cyA9IG5ldyBWdWUoKTsKaWYgKHdpbmRvdy5vbnVybGNoYW5nZSA9PT0gdm9pZCAwKSB7CgloaXN0b3J5LnB1c2hTdGF0ZSA9ICggZiA9PiBmdW5jdGlvbiBwdXNoU3RhdGUoKXsKCQljb25zdCByZXQgPSBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CgkJd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdwdXNoc3RhdGUnKSk7CgkJd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCd1cmxjaGFuZ2UnKSk7CgkJcmV0dXJuIHJldDsKCX0pKGhpc3RvcnkucHVzaFN0YXRlKTsKCgloaXN0b3J5LnJlcGxhY2VTdGF0ZSA9ICggZiA9PiBmdW5jdGlvbiByZXBsYWNlU3RhdGUoKXsKCQljb25zdCByZXQgPSBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CgkJd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXBsYWNlc3RhdGUnKSk7CgkJd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCd1cmxjaGFuZ2UnKSk7CgkJcmV0dXJuIHJldDsKCX0pKGhpc3RvcnkucmVwbGFjZVN0YXRlKTsKCgl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCgpPT57CgkJd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCd1cmxjaGFuZ2UnKSkKCX0pOwp9OwoKY2xhc3MgRnVsbFNjcmVlbiB7Cgljb25zdHJ1Y3RvcihlKSB7CgkJbGV0IGZuID0gZC5leGl0RnVsbHNjcmVlbiB8fCBkLndlYmtpdEV4aXRGdWxsc2NyZWVuIHx8IGQubW96Q2FuY2VsRnVsbFNjcmVlbiB8fCBkLm1zRXhpdEZ1bGxzY3JlZW4gfHwgbm9vcEZuOwoJCXRoaXMuZXhpdCA9IGZuLmJpbmQoZCk7CgkJZm4gPSBlLnJlcXVlc3RGdWxsc2NyZWVuIHx8IGUud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4gfHwgZS5tb3pSZXF1ZXN0RnVsbFNjcmVlbiB8fCBlLm1zUmVxdWVzdEZ1bGxTY3JlZW4gfHwgbm9vcEZuOwoJCXRoaXMuZW50ZXIgPSBmbi5iaW5kKGUpOwoJfQoJc3RhdGljIGlzRnVsbCgpIHsKCQlyZXR1cm4gISEoZC5mdWxsc2NyZWVuIHx8IGQud2Via2l0SXNGdWxsU2NyZWVuIHx8IGQubW96RnVsbFNjcmVlbiB8fAoJCWQuZnVsbHNjcmVlbkVsZW1lbnQgfHwgZC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCB8fCBkLm1vekZ1bGxTY3JlZW5FbGVtZW50KTsKCX0KCXRvZ2dsZSgpIHsKCQlGdWxsU2NyZWVuLmlzRnVsbCgpID8gdGhpcy5leGl0KCkgOiB0aGlzLmVudGVyKCk7Cgl9Cn0KCi8v5LiH6IO9572R6aG15YWo5bGPLCDlj4LogIPkuobvvJpodHRwczovL2dpdGh1Yi5jb20vZ29veWllL3lraDVwCmNsYXNzIEZ1bGxQYWdlIHsKCWNvbnN0cnVjdG9yKGNvbnRhaW5lcikgewoJCXRoaXMuX2lzRnVsbCA9ICExOwoJCXRoaXMuY29udGFpbmVyID0gY29udGFpbmVyIHx8IEZ1bGxQYWdlLmdldFBsYXllckNvbnRhaW5lcih2KTsKCQlHTV9hZGRTdHlsZSgKCQkJYC5nbS1mcC1ib2R5IC5nbS1mcC16VG9wIHsKCQkJCXBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50OwoJCQkJei1pbmRleDogMjE0NzQ4MzY0NiAhaW1wb3J0YW50OwoJCQl9CgkJCS5nbS1mcC13cmFwcGVyLCAuZ20tZnAtYm9keXsgb3ZlcmZsb3c6aGlkZGVuICFpbXBvcnRhbnQ7IH0KCQkJLmdtLWZwLXdyYXBwZXIgLmdtLWZwLWlubmVyQm94IHsKCQkJCXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7CgkJCQloZWlnaHQ6IDEwMCUgIWltcG9ydGFudDsKCQkJfQoJCQkuZ20tZnAtd3JhcHBlciB7CgkJCQlkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OwoJCQkJcG9zaXRpb246IGZpeGVkICFpbXBvcnRhbnQ7CgkJCQl3aWR0aDogMTAwJSAhaW1wb3J0YW50OwoJCQkJaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7CgkJCQlwYWRkaW5nOiAwICFpbXBvcnRhbnQ7CgkJCQltYXJnaW46IDAgIWltcG9ydGFudDsKCQkJCXRvcDogMCAhaW1wb3J0YW50OwoJCQkJbGVmdDogMCAhaW1wb3J0YW50OwoJCQkJYmFja2dyb3VuZDogIzAwMCAhaW1wb3J0YW50OwoJCQkJei1pbmRleDogMjE0NzQ4MzY0NiAhaW1wb3J0YW50OwoJCQl9YAoJCSk7Cgl9CglzdGF0aWMgZ2V0UGxheWVyQ29udGFpbmVyKHZpZGVvKSB7CgkJbGV0IGUgPSB2aWRlbywgcCA9IGUucGFyZW50Tm9kZTsKCQljb25zdCB7IGNsaWVudFdpZHRoOiB3aWQsIGNsaWVudEhlaWdodDogaCB9ID0gZTsKCQlkbyB7CgkJCWUgPSBwOwoJCQlwID0gZS5wYXJlbnROb2RlOwoJCX0gd2hpbGUgKHAgJiYgcCAhPT0gYnkgJiYgcC5jbGllbnRXaWR0aC13aWQgPCA1ICYmIHAuY2xpZW50SGVpZ2h0LWggPCA1KTsKCQkvL2Ug5Li66L+U5Zue5YC877yM5Zyo5q2k5LmL5ZCO5LiN6IO95Y+Y5LqGCgkJLy8gd2hpbGUgKHAgIT09IGJ5KSBwID0gcC5wYXJlbnROb2RlIHx8IHAuaG9zdDsKCQlyZXR1cm4gZTsKCX0KCXN0YXRpYyBpc0Z1bGwoZSkgewoJCXJldHVybiB3LmlubmVyV2lkdGggLSBlLmNsaWVudFdpZHRoIDwgNSAmJiB3LmlubmVySGVpZ2h0IC0gZS5jbGllbnRIZWlnaHQgPCA1OwoJfQoJdG9nZ2xlKCkgewoJCS8vIGFzc2VydCh0aGlzLmNvbnRhaW5lcik7CgkJaWYgKCF0aGlzLmNvbnRhaW5lci5jb250YWlucyh2KSkgdGhpcy5jb250YWluZXIgPSBGdWxsUGFnZS5nZXRQbGF5ZXJDb250YWluZXIodik7CgkJYnVzLiRlbWl0KCdzd2l0Y2hGUCcsICF0aGlzLl9pc0Z1bGwpOwoJCWJ5LmNsYXNzTGlzdC50b2dnbGUoJ2dtLWZwLWJvZHknKTsKCQlsZXQgZSA9IHY7CgkJd2hpbGUgKGUgIT0gdGhpcy5jb250YWluZXIpIHsKCQkJZS5jbGFzc0xpc3QudG9nZ2xlKCdnbS1mcC1pbm5lckJveCcpOwoJCQllID0gZS5wYXJlbnROb2RlOwoJCX0KCQllLmNsYXNzTGlzdC50b2dnbGUoJ2dtLWZwLXdyYXBwZXInKTsKCQllID0gZS5wYXJlbnROb2RlOwoJCXdoaWxlIChlICE9IGJ5KSB7CgkJCWUuY2xhc3NMaXN0LnRvZ2dsZSgnZ20tZnAtelRvcCcpOwoJCQllID0gZS5wYXJlbnROb2RlOwoJCX0KCQl0aGlzLl9pc0Z1bGwgPSAhdGhpcy5faXNGdWxsOwoJfQp9Cgpjb25zdCBjYWNoZU1WID0gewoJY2hlY2soKSB7CgkJY29uc3QgYnVmID0gdi5idWZmZXJlZDsKCQljb25zdCBpID0gYnVmLmxlbmd0aCAtIDE7CgkJdGhpcy5pRW5kID0gYnVmLmVuZChpKTsKCQlyZXR1cm4gdGhpcy5tb2RlID8gdGhpcy5pRW5kID4gdi5kdXJhdGlvbiAtNTUgOiBidWYuc3RhcnQoMCkgPj0gdGhpcy5wbGF5UG9zIHx8IHRoaXMuaUVuZCA+IHYuZHVyYXRpb24gLTU1OwoJfSwKCWZpbmlzaCgpIHsKCQl2LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5vbkNoYWNoZSk7CgkJdi5jdXJyZW50VGltZSA9IHRoaXMucGxheVBvczsKCQl0aGlzLmNoYWNoZWQgPSAhMTsKCQlzZXRUaW1lb3V0KF8gPT4gdi5wYXVzZSgpLCA5OSk7CgkJSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUucGxheSA9IHRoaXMucmF3UGxheTsKCX0sCglvbkNoYWNoZSgpIHsKCQlpZiAodGhpcy5jaGVjaygpKSB0aGlzLmZpbmlzaCgpOwoJCWVsc2Ugdi5jdXJyZW50VGltZSA9IHRoaXMuaUVuZDsKCX0sCglleGVjKCkgewoJCWlmIChjZmcuaXNMaXZlIHx8ICF2KSByZXR1cm47CgkJaWYgKHYuc3JjLnN0YXJ0c1dpdGgoJ2h0dHAnKSkgewoJCQlhbGVydChNU0cuY2FjaGVTdG9yaW5nRXJyb3IpOwoJCQlyZXR1cm47CgkJfQoJCXRoaXMubW9kZSA9IGNvbmZpcm0oTVNHLmNhY2hlU3RvcmluZ0NvbmZpcm0pOwoJCXRoaXMuY2hhY2hlZCA9IHRydWU7IC8v5q2j5Zyo57yT5a2YCgkJdi5wYXVzZSgpOwoJCXRoaXMucmF3UGxheSA9IEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLnBsYXk7CgkJSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUucGxheSA9ICgpID0+IG5ldyBQcm9taXNlKG5vb3BGbik7CgkJdGhpcy5wbGF5UG9zID0gdi5jdXJyZW50VGltZTsKCQl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5vbkNoYWNoZSk7CgkJdGhpcy5jaGVjaygpOwoJCXYuY3VycmVudFRpbWUgPSB0aGlzLmlFbmQ7Cgl9Cn07CmNhY2hlTVYub25DaGFjaGUgPSBjYWNoZU1WLm9uQ2hhY2hlLmJpbmQoY2FjaGVNVik7Cgpjb25zdCBhY3RMaXN0ID0gbmV3IE1hcCgpOwphY3RMaXN0LnNldCg5MCwgXyA9PiB7IC8v5oyJ6ZSuWjog5YiH5o2i5Yqg6YCf54q25oCBCglpZiAodi5wbGF5YmFja1JhdGUgPT0gMSB8fCB2LnBsYXliYWNrUmF0ZSA9PSAwKSB7CgkJdi5wbGF5YmFja1JhdGUgPSArbG9jYWxTdG9yYWdlLm12UGxheVJhdGUgfHwgMS4zOwoJfSBlbHNlIHsKCQkvLyBsb2NhbFN0b3JhZ2UubXZQbGF5UmF0ZSA9IHYucGxheWJhY2tSYXRlOwoJCXYucGxheWJhY2tSYXRlID0gMTsKCX0KfSkKLnNldCg4OCwgYWRqdXN0UmF0ZS5iaW5kKG51bGwsIC0wLjEpKSAvL+aMiemUrlgKLnNldCg2NywgYWRqdXN0UmF0ZS5iaW5kKG51bGwsIDAuMSkpIC8v5oyJ6ZSuQwouc2V0KDQwLCBhZGp1c3RWb2x1bWUuYmluZChudWxsLCAtMC4xKSkgLy/ihpPjgIDpmY3pn7Pph48KLnNldCgzOCwgYWRqdXN0Vm9sdW1lLmJpbmQobnVsbCwgMC4xKSkgLy/ihpHjgIDliqDpn7Pph48KLnNldCgzNywgXyA9PiB7di5jdXJyZW50VGltZSAtPSA1fSkgLy/mjInplK7ihpAKLnNldCgzNysxMDI0LCBfID0+IHt2LmN1cnJlbnRUaW1lIC09IDIwfSkgLy/mjInplK5zaGlmdCvihpAKLnNldCgzOSwgXyA9PiB7di5jdXJyZW50VGltZSArPSA1fSkgLy/mjInplK7ihpIKLnNldCgzOSsxMDI0LCBfID0+IHt2LmN1cnJlbnRUaW1lICs9IDIwfSkgLy/mjInplK5zaGlmdCvihpIKLnNldCg2OCwgXyA9PiB7di5jdXJyZW50VGltZSAtPSAwLjAzO3YucGF1c2UoKX0pIC8v5oyJ6ZSuRO+8muS4iuS4gOW4pwouc2V0KDcwLCBfID0+IHt2LmN1cnJlbnRUaW1lICs9IDAuMDM7di5wYXVzZSgpfSkgLy/mjInplK5G77ya5LiL5LiA5binCi5zZXQoMzIsIF8gPT4gewkvL+aMiemUrnNwYWNlCglpZiAoY2ZnLmJ0blBsYXkpIGNsaWNrRHVhbEJ1dHRvbihjZmcuYnRuUGxheSk7CgllbHNlIHYucGF1c2VkID8gdi5wbGF5KCkgOiB2LnBhdXNlKCk7Cn0pCi5zZXQoMTMsIF8gPT4gewkvL+Wbnui9pumUruOAgiDlhajlsY8KCV9mcyA/IF9mcy50b2dnbGUoKSA6IGNsaWNrRHVhbEJ1dHRvbihjZmcuYnRuRlMpOwp9KQouc2V0KDEzKzEwMjQsIF8gPT4gey8vd2Vi5YWo5bGPCglzZWxmICE9IHRvcCA/IHRvcC5wb3N0TWVzc2FnZSh7aWQ6ICdnbS1oNS10b2dnbGUtaWZyYW1lV2ViRnVsbCd9LCAnKicpCgk6IF9mcCA/IF9mcC50b2dnbGUoKSA6IGNsaWNrRHVhbEJ1dHRvbihjZmcuYnRuRlApOwp9KQouc2V0KDI3KzEwMjQsIG5vb3BGbikJLy/lv73nlaXmjInplK5zaGlmdCArIGVzYwouc2V0KDI3LCBldiA9PiB7CS8v5oyJ6ZSuZXNjCglpZiAoRnVsbFNjcmVlbi5pc0Z1bGwoKSkgewoJCV9mcyA/IF9mcy5leGl0KCkgOiBjbGlja0R1YWxCdXR0b24oY2ZnLmJ0bkZTKTsKCX0gZWxzZSBpZiAoc2VsZiAhPSB0b3ApIHsKCQl0b3AucG9zdE1lc3NhZ2Uoe2lkOiAnZ20taDUtaXMtaWZyYW1lV2ViRnVsbCd9LCAnKicpOwoJfSBlbHNlIGlmIChGdWxsUGFnZS5pc0Z1bGwodikpIHsKCQlfZnAgPyBfZnAudG9nZ2xlKCkgOiBjbGlja0R1YWxCdXR0b24oY2ZnLmJ0bkZQKTsKCX0KfSkKLnNldCg3MywgXyA9PiB7IC8v5oyJ6ZSuSe+8mueUu+S4reeUu+aooeW8jwoJaWYgKCFkLnBpY3R1cmVJblBpY3R1cmVFbGVtZW50KSB7CgkJdi5yZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpLmNhdGNoKGVyciA9PiB7CgkJCWFsZXJ0KE1TRy5jYW50T3BlblBJUCArIGVycikKCQl9KTsKCX0gZWxzZSB7CgkJZC5leGl0UGljdHVyZUluUGljdHVyZSgpLmNhdGNoKGVyciA9PiB7CgkJCWFsZXJ0KE1TRy5jYW50RXhpdFBJUCArIGVycikKCQl9KTsKCX0KfSkKLnNldCg4MCwgXyA9PiB7IC8v5oyJ6ZSuUO+8muaIquWbvgoJY29uc3QgY2FudmFzID0gZC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKCWNhbnZhcy53aWR0aCA9IHYudmlkZW9XaWR0aDsKCWNhbnZhcy5oZWlnaHQgPSB2LnZpZGVvSGVpZ2h0OwoJY2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKHYsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CgoJY2FudmFzLnRvQmxvYigoYmxvYikgPT4gewoJCWNvbnN0IGRhdGFVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwoJCWNvbnN0IGxpbmsgPSBkLmNyZWF0ZUVsZW1lbnQoJ2EnKTsKCQlsaW5rLmhyZWYgPSBkYXRhVVJMOwoJCWxpbmsuZG93bmxvYWQgPSBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KSArJy5wbmcnOwoJCWxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCQlkLmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CgkJbGluay5jbGljaygpOwoJCWxpbmsucmVtb3ZlKCk7CgkJVVJMLnJldm9rZU9iamVjdFVSTChkYXRhVVJMKTsKCX0pOwp9KQouc2V0KDc3LCBfID0+IHsvLyBNIOe8k+WtmOinhumikQoJIC8vY2FjaGVNVi5jaGFjaGVkID8gY2FjaGVNVi5maW5pc2goKSA6IGNhY2hlTVYuZXhlYygpOwp9KQouc2V0KDc4LCBfID0+IHsvLyBOIOS4i+S4gOmbhgoJaWYgKHNlbGYgIT0gdG9wKSB0b3AucG9zdE1lc3NhZ2Uoe2lkOiAnZ20taDUtcGxheS1uZXh0J30sICcqJyk7CgllbHNlIGlmIChjZmcuYnRuTmV4dCkgZG9DbGljayhjZmcuYnRuTmV4dCk7CgllbHNlIGlmIChjZmcuaXNOdW1VUkwpIGdvTmV4dE1WKCk7Cn0pOwoKY29uc3QgYXBwID0gewoJcmF3UHJvcHM6IG5ldyBNYXAoKSwKCXNoZWxsRXZlbnQoKSB7CgkJY29uc3QgZm4gPSBldiA9PiB7CgkJCWlmIChldi50YXJnZXQuY2xvc2VzdCgnc3ZnLGltZyxidXR0b24nKSkgcmV0dXJuOwoJCQlldi5zdG9wUHJvcGFnYXRpb24oKTsgLy8gcHJldmVudERlZmF1bHQKCQkJZXYuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7CgkJCXRoaXMuY2hlY2tVSSgpOwoJCQlhY3RMaXN0LmdldCgxMDM3KSgpOyAvL3dlYuWFqOWxjwoJCX07CgkJY29uc3QgZSA9IGNmZy5pc0NsaWNrT25WaWRlbyA/IHYgOiBjZmcubXZTaGVsbDsKCQllLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGV2ID0+IHsKCQkJaWYgKDEgPT0gZXYuYnV0dG9uKSB7CgkJCQlldi5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJZXYuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQlldi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsKCQkJCWlmICghY2ZnLmlzTGl2ZSkgewoJCQkJCWFjdExpc3QuaGFzKDM5KSA/IGFjdExpc3QuZ2V0KDM5KSgpIDogdi5jdXJyZW50VGltZSArPSA1OwoJCQkJfQoJCQl9CgkJfSk7CgkJIWNmZy5kaXNhYmxlREJMQ2xpY2sgJiYgZS5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGZuKTsKCX0sCglzZXRTaGVsbCgpIHsKCQljb25zdCBlID0gdGhpcy5nZXREUGxheWVyKCkgfHwgdGhpcy5nZXRBcnRwbGF5ZXIoKSB8fCB0aGlzLmdldFZqc1BsYXllcigpIHx8CgkJCShjZmcuc2hlbGxDU1MgJiYgcShjZmcuc2hlbGxDU1MpKSB8fAoJCQkodG9wICE9IHNlbGYgPyBieSA6IEZ1bGxQYWdlLmdldFBsYXllckNvbnRhaW5lcih2KSk7CgkJaWYgKGUgJiYgY2ZnLm12U2hlbGwgIT09IGUpIHsKCQkJY2ZnLm12U2hlbGwgPSBlOwoJCQl0aGlzLnNoZWxsRXZlbnQoKTsKCQl9Cgl9LAoJY2hlY2tNVigpIHsKCQlpZiAodGhpcy52TGlzdCkgewoJCQljb25zdCBlID0gdGhpcy5maW5kTVYoKTsKCQkJaWYgKGUgJiYgZSAhPSB2KSB7CgkJCQl2ID0gZTsKCQkJCWNmZy5idG5QbGF5ID0gY2ZnLmJ0bk5leHQgPSBjZmcuYnRuRlAgPSBjZmcuYnRuRlMgPSBfZnMgPSBfZnAgPSBudWxsOwoJCQkJaWYgKCFjZmcuaXNMaXZlICYmIEdNX2dldFZhbHVlKCdyZW1iZXJSYXRlJywgdHJ1ZSkpIHsKCQkJCQl2LnBsYXliYWNrUmF0ZSA9ICtsb2NhbFN0b3JhZ2UubXZQbGF5UmF0ZSB8fCAxOwoJCQkJCXYuYWRkRXZlbnRMaXN0ZW5lcigncmF0ZWNoYW5nZScsIGV2ID0+IHsKCQkJCQkJaWYgKHYucGxheWJhY2tSYXRlICYmIHYucGxheWJhY2tSYXRlICE9IDEpIGxvY2FsU3RvcmFnZS5tdlBsYXlSYXRlID0gdi5wbGF5YmFja1JhdGU7CgkJCQkJfSk7CgkJCQl9CgkJCQl0aGlzLnNldFNoZWxsKCk7CgkJCX0KCQl9CgkJaWYgKCF2YWxpZEVsKGNmZy5tdlNoZWxsKSkgewoJCQljZmcubXZTaGVsbCA9IG51bGw7CgkJCXRoaXMuc2V0U2hlbGwoKTsKCQl9CgkJdGhpcy5jaGVja1VJKCk7CgkJcmV0dXJuIHY7Cgl9LAoJZ2V0QXJ0cGxheWVyKCkgewoJCWNvbnN0IGUgPSB2LnBhcmVudE5vZGU7CgkJaWYgKCF2Lm1hdGNoZXMoJy5hcnQtdmlkZW8nKSB8fCAhZS5tYXRjaGVzKCcuYXJ0LXZpZGVvLXBsYXllcicpKSByZXR1cm4gITE7CgkJY2ZnLmJ0bkZQID0gcSgnLmFydC1jb250cm9sLWZ1bGxzY3JlZW5XZWInLCBlKTsKCQljZmcuYnRuRlMgPSBxKCcuYXJ0LWNvbnRyb2wtZnVsbHNjcmVlbicsIGUpOwoJCWUuY2xvc2VzdCgnYm9keSA+IConKT8uY2xhc3NMaXN0LmFkZCgnZ20tZHAtelRvcCcpOwoJCXJldHVybiBlOwoJfSwKCWdldERQbGF5ZXIoKSB7CgkJaWYgKCF2Lm1hdGNoZXMoJy5kcGxheWVyLXZpZGVvJykpIHJldHVybiAhMTsKCQljb25zdCBlID0gdi5jbG9zZXN0KCcuZHBsYXllcicpOwoJCWlmIChlKSB7CgkJCWNmZy5idG5GUCA9IHEoJy5kcGxheWVyLWZ1bGwtaW4taWNvbiA+IHNwYW4nLCBlKTsKCQkJY2ZnLmJ0bkZTID0gcSgnLmRwbGF5ZXItZnVsbC1pY29uJywgZSk7CgkJCWUuY2xvc2VzdCgnYm9keSA+IConKS5jbGFzc0xpc3QuYWRkKCdnbS1kcC16VG9wJyk7CgkJfQoJCXJldHVybiBlOwoJfSwKCWdldFZqc1BsYXllcigpIHsKCQljb25zdCBlID0gdi5jbG9zZXN0KCcudmlkZW8tanMnKTsKCQlpZiAoZSkgewoJCQljZmcuYnRuRlMgPSBxKCcudmpzLWNvbnRyb2wtYmFyID4gYnV0dG9uLnZqcy1idXR0b246bnRoLWxhc3Qtb2YtdHlwZSgxKScpOwoJCQljZmcud2ViZnVsbENTUyA9ICcudmpzLWNvbnRyb2wtYmFyID4gYnV0dG9uLnZqcy1idXR0b25bdGl0bGUkPSLlhajlsY8iXTpudGgtbGFzdC1vZi10eXBlKDIpJzsKCQl9CgkJcmV0dXJuIGU7Cgl9LAoJaG90S2V5KGUpIHsKCQljb25zdCB0ID0gZS50YXJnZXQ7CgkJaWYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHwgZS5hbHRLZXkgfHwgdC5jb250ZW50RWRpdGFibGU9PSd0cnVlJyB8fCAvLyBlLmlzQ29tcG9zaW5nCgkJCS9JTlBVVHxURVhUQVJFQXxTRUxFQ1QvLnRlc3QodC5ub2RlTmFtZSkpIHJldHVybjsKCQlpZiAoZS5zaGlmdEtleSAmJiAhWzEzLDM3LDM5XS5pbmNsdWRlcyhlLmtleUNvZGUpKSByZXR1cm47CgkJaWYgKGNmZy5pc0xpdmUgJiYgWzM3LDM5LDc4LDc3LDg4LDY3LDkwXS5pbmNsdWRlcyhlLmtleUNvZGUpKSByZXR1cm47CgkJaWYgKCF0aGlzLmNoZWNrTVYoKSkgcmV0dXJuOwoJCWlmICghZS5zaGlmdEtleSAmJiBjZmcubXZTaGVsbCAmJiBjZmcubXZTaGVsbC5jb250YWlucyh0KSAmJiBbMzIsMzcsMzldLmluY2x1ZGVzKGUua2V5Q29kZSkpIHJldHVybjsKCQljb25zdCBrZXkgPSBlLnNoaWZ0S2V5ID8gZS5rZXlDb2RlICsgMTAyNCA6IGUua2V5Q29kZTsKCQlpZiAoYWN0TGlzdC5oYXMoa2V5KSkgewoJCQllLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwoJCQllLnN0b3BQcm9wYWdhdGlvbigpOwoJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCWFjdExpc3QuZ2V0KGtleSkoZSk7CgkJfQoJfSwKCWNoZWNrVUkoKSB7CgkJaWYgKGNmZy53ZWJmdWxsQ1NTICYmICF2YWxpZEVsKGNmZy5idG5GUCkpIGNmZy5idG5GUCA9IHEoY2ZnLndlYmZ1bGxDU1MpOwoJCWlmIChjZmcuYnRuRlApIF9mcCA9IG51bGw7CgkJZWxzZSBpZiAoIV9mcCAmJiBzZWxmID09IHRvcCkgX2ZwID0gbmV3IEZ1bGxQYWdlKGNmZy5tdlNoZWxsKTsKCgkJaWYgKGNmZy5mdWxsQ1NTICYmICF2YWxpZEVsKGNmZy5idG5GUykpIGNmZy5idG5GUyA9IHEoY2ZnLmZ1bGxDU1MpOwoJCWlmIChjZmcuYnRuRlMpIF9mcyA9IG51bGw7CgkJZWxzZSBpZiAoIV9mcykgX2ZzID0gbmV3IEZ1bGxTY3JlZW4odik7CgoJCWlmIChjZmcubmV4dENTUyAmJiAoIXZhbGlkRWwoY2ZnLmJ0bk5leHQpIHx8ICFjZmcuYnRuTmV4dC5tYXRjaGVzKGNmZy5uZXh0Q1NTKSkpIGNmZy5idG5OZXh0ID0gcShjZmcubmV4dENTUyk7CgkJaWYgKGNmZy5wbGF5Q1NTICYmICF2YWxpZEVsKGNmZy5idG5QbGF5KSkgY2ZnLmJ0blBsYXkgPSBxKGNmZy5wbGF5Q1NTKTsKCX0sCglvbkdyb3dWTGlzdCgpIHsKCQlpZiAodGhpcy52TGlzdC5sZW5ndGggPT0gdGhpcy52Q291bnQpIHJldHVybjsKCQlpZiAodGhpcy52aWV3T2JzZXJ2ZXIpIHsKCQkJZm9yIChsZXQgZSBvZiB0aGlzLnZMaXN0KSB7CgkJCQlpZiAoIXRoaXMudlNldC5oYXMoZSkpIHRoaXMudmlld09ic2VydmVyLm9ic2VydmUoZSk7CgkJCX0KCQl9IGVsc2UgewoJCQljb25zdCBjb25maWcgPSB7CgkJCQlyb290TWFyZ2luOiAnMHB4JywKCQkJCXRocmVzaG9sZDogMC45CgkJCX07CgkJCXRoaXMudmlld09ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHRoaXMub25JbnRlcnNlY3Rpb24uYmluZCh0aGlzKSwgY29uZmlnKTsKCQkJZm9yIChsZXQgZSBvZiB0aGlzLnZMaXN0KSB0aGlzLnZpZXdPYnNlcnZlci5vYnNlcnZlKGUpOwoJCX0KCQl0aGlzLnZTZXQgPSBuZXcgU2V0KHRoaXMudkxpc3QpOwoJCXRoaXMudkNvdW50ID0gdGhpcy52TGlzdC5sZW5ndGg7Cgl9LAoJb25JbnRlcnNlY3Rpb24oZW50cmllcykgewoJCWlmICh0aGlzLnZMaXN0Lmxlbmd0aCA8IDIpIHJldHVybjsKCQljb25zdCBlbnRyeSA9IGZpbmQuY2FsbChlbnRyaWVzLCBrID0+IGsuaXNJbnRlcnNlY3RpbmcpOwoJCWlmICghZW50cnkgfHwgdiA9PSBlbnRyeS50YXJnZXQpIHJldHVybjsKCQl2ID0gZW50cnkudGFyZ2V0OwoJCV9mcyA9IG5ldyBGdWxsU2NyZWVuKHYpOwoJCV9mcCA9IG5ldyBGdWxsUGFnZSh2KTsKCQlidXMuJG9uKCdzd2l0Y2hGUCcsIGFzeW5jICh0b0Z1bGwpID0+IHsKCQkJLy8gY29uc3QgYyA9IHRvRnVsbCA/IHRoaXMudlNldCA6IHRoaXMudkxpc3Q7CgkJCS8vIGZvciAoY29uc3QgZSBvZiBjKSB0aGlzLnZpZXdPYnNlcnZlci51bm9ic2VydmUoZSk7CgkJCXNsZWVwKDIwMCk7CgkJCWlmICghdG9GdWxsKSB2LnNjcm9sbEludG9WaWV3KCk7CgkJfSk7CgkJYnVzLiRlbWl0KCdzd2l0Y2hNVicpOwoJfSwKCWJpbmRFdmVudCgpIHsKCQljbGVhckludGVydmFsKHRoaXMudGltZXIpOwoJCWZvciAoY29uc3QgW2ksa10gb2YgdGhpcy5yYXdQcm9wcykgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShIVE1MVmlkZW9FbGVtZW50LnByb3RvdHlwZSwgaSwgayk7CgkJdGhpcy5yYXdQcm9wcy5jbGVhcigpOwoJCXRoaXMucmF3UHJvcHMgPSBudWxsOwoJCSQoY2ZnLmFkc0NTUykucmVtb3ZlKCk7CgkJYnkgPSBkLmJvZHk7CgkJbG9nKCdiaW5kIGV2ZW50XG4nLCB2KTsKCQlidXMuJGVtaXQoJ2ZvdW5kTVYnKTsKCQljb25zdCBiUmF0ZSA9IGdtRnVuY09mQ2hlY2tNZW51KE1TRy5yZW1lbWJlclJhdGVNZW51T3B0aW9uLCdyZW1iZXJSYXRlJyk7CgkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VybGNoYW5nZScsIGFzeW5jIChpbmZvKSA9PiB7IC8vVE0gZXZlbnQ6IGluZm8udXJsCgkJCWF3YWl0IHNsZWVwKDE5OTApOwoJCQl0aGlzLmNoZWNrTVYoKTsKCQkJaWYgKGJSYXRlKSB2LnBsYXliYWNrUmF0ZSA9ICtsb2NhbFN0b3JhZ2UubXZQbGF5UmF0ZSB8fCAxOwoJCQlidXMuJGVtaXQoJ3VybGNoYW5nZScpOwoJCX0pOwoJCWlmICh0b3AgIT0gc2VsZikgewoJCQl0b3AucG9zdE1lc3NhZ2Uoe2lkOiAnZ20taDUtaW5pdC1NVmZyYW1lJ30sICcqJyk7CgkJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwgZXYgPT4gewoJCQkJaWYgKCFldi5zb3VyY2UgfHwgIWV2LmRhdGEgfHwgIWV2LmRhdGEuaWQpIHJldHVybjsKCQkJCXN3aXRjaCAoZXYuZGF0YS5pZCkgewoJCQkJY2FzZSAnZ20taDUtdG9nZ2xlLWZ1bGxTY3JlZW4nOgoJCQkJCV9mcyA/IF9mcy50b2dnbGUoKSA6IGNsaWNrRHVhbEJ1dHRvbihjZmcuYnRuRlMpOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQl9LCBmYWxzZSk7CgkJfQoJCSQodikub25lKCdjYW5wbGF5dGhyb3VnaCcsIGV2ID0+IHsKCQkJaWYgKCFjZmcuaXNMaXZlICYmIGJSYXRlKSB7CgkJCQl2LnBsYXliYWNrUmF0ZSA9ICtsb2NhbFN0b3JhZ2UubXZQbGF5UmF0ZSB8fCAxOwoJCQkJdGlwKE1TRy5zcGVlZFJhdGUgKyB2LnBsYXliYWNrUmF0ZSk7CgkJCQl2LmFkZEV2ZW50TGlzdGVuZXIoJ3JhdGVjaGFuZ2UnLCBldiA9PiB7CgkJCQkJdGlwKE1TRy5zcGVlZFJhdGUgKyB2LnBsYXliYWNrUmF0ZSk7CgkJCQkJaWYgKHYucGxheWJhY2tSYXRlICYmIHYucGxheWJhY2tSYXRlICE9IDEpIGxvY2FsU3RvcmFnZS5tdlBsYXlSYXRlID0gdi5wbGF5YmFja1JhdGU7CgkJCQl9KTsKCQkJfQoJCQl0aGlzLmNoZWNrTVYoKTsKCQkJYnVzLiRlbWl0KCdjYW5wbGF5Jyk7CgkJfSk7CgkJJChieSkua2V5ZG93bih0aGlzLmhvdEtleS5iaW5kKHRoaXMpKTsKCgkJY2ZnLm12U2hlbGwgPyB0aGlzLnNoZWxsRXZlbnQoKSA6IHRoaXMuc2V0U2hlbGwoKTsKCQl0aGlzLmNoZWNrVUkoKTsKCQlpZiAoY2ZnLm11bHRpcGxlVikgewoJCQluZXcgTXV0YXRpb25PYnNlcnZlcih0aGlzLm9uR3Jvd1ZMaXN0LmJpbmQodGhpcykpLm9ic2VydmUoYnksIG9ic2VydmVPcHQpOwoJCQl0aGlzLnZDb3VudCA9IDA7CgkJCXRoaXMub25Hcm93Vkxpc3QoKTsKCQl9CgkJdGlwKChHTV9pbmZvLnNjcmlwdC5uYW1lX2kxOG4/LltjdXJMYW5nXSB8fCBHTV9pbmZvLnNjcmlwdC5uYW1lKSArIE1TRy5yZWFkeSk7Cgl9LAoJaW5pdCgpIHsKCQljb25zdCByYXdBZWwgPSBFdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcjsKCQlFdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKC4uLmFyZ3MpIHsKCQkJY29uc3QgYmxvY2sgPSAoYXJnc1swXSA9PSAnZGJsY2xpY2snICYmICFhcmdzWzFdLnRvU3RyaW5nKCkuaW5jbHVkZXMoJ2FjdExpc3QuZ2V0KDEwMzcpJykpCgkJCQl8fCAoYXJnc1swXSA9PSAncmF0ZWNoYW5nZScgJiYgJ2JhaWR1Jz09IHUgJiYgIWFyZ3NbMV0udG9TdHJpbmcoKS5pbmNsdWRlcygnbG9jYWxTdG9yYWdlLm12UGxheVJhdGUnKSk7CgkJCWlmICghYmxvY2spIHJldHVybiByYXdBZWwuYXBwbHkodGhpcywgYXJncyk7CgkJfTsKCQlmb3IgKGNvbnN0IGkgb2YgdGhpcy5yYXdQcm9wcy5rZXlzKCkpIHRoaXMucmF3UHJvcHMuc2V0KGksCgkJCVJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlLCBpKSk7CgkJdGhpcy52TGlzdCA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3ZpZGVvJyk7CgkJY29uc3QgZm4gPSBlID0+IGNmZy5jc3NNViA/IGUubWF0Y2hlcyhjZmcuY3NzTVYpIDogZS5vZmZzZXRXaWR0aCA+IDk7CgkJdGhpcy5maW5kTVYgPSBmaW5kLmJpbmQodGhpcy52TGlzdCwgZm4pOwoJCXRoaXMudGltZXIgPSBwb2xsaW5nKGUgPT4gewoJCQl2ID0gZTsKCQkJdGhpcy5iaW5kRXZlbnQoKTsKCQl9LCB0aGlzLmZpbmRNVik7CgoJCWhvb2tBdHRhY2hTaGFkb3coYXN5bmMgc2hhZG93Um9vdCA9PiB7CgkJCWJ1cy4kZW1pdCgnYWRkU2hhZG93Um9vdCcsIHNoYWRvd1Jvb3QpOwoJCQlhd2FpdCBzbGVlcCg2MDApOwoJCQlpZiAodikgcmV0dXJuOwoJCQlpZiAodiA9IHEoJ3ZpZGVvJywgc2hhZG93Um9vdCkpIHsgLy8gdi5nZXRSb290Tm9kZSgpID09IHNoYWRvd1Jvb3QKCQkJCWxvZygnRm91bmQgTVYgaW4gU2hhZG93Um9vdFxuJywgdiwgc2hhZG93Um9vdCk7CgkJCQlpZiAoIWNmZy5zaGVsbENTUykgY2ZnLm12U2hlbGwgPSBzaGFkb3dSb290Lmhvc3Q7CgkJCQl0aGlzLmJpbmRFdmVudCgpOwoKCQkJCXRoaXMudkxpc3QgPSBzaGFkb3dSb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd2aWRlbycpOwoJCQkJdGhpcy5maW5kTVYgPSBmaW5kLmJpbmQodGhpcy52TGlzdCwgZm4pOwoJCQl9CgkJfSk7Cgl9Cn07CgpsZXQgcm91dGVyID0gewoJdGVkKCkgewoJCWNmZy5mdWxsQ1NTID0gJ2J1dHRvblt0aXRsZT1GdWxsc2NyZWVuXSc7Cgl9LAoJeW91dHViZSgpIHsKCQlHTV9hZGRTdHlsZSgKCQkJYC5nbS1mcC1ib2R5ICNwbGF5ZXItY29udGFpbmVyLWlubmVye3BhZGRpbmctdG9wOjAhaW1wb3J0YW50fQoJCQkuZ20tZnAtYm9keSAjcGxheWVyLWNvbnRhaW5lci1vdXRlcnsKCQkJCW1heC13aWR0aDoxMDAlIWltcG9ydGFudDsKCQkJCW1hcmdpbjowIWltcG9ydGFudDsKCQkJfWAKCQkpOwoJCWNmZy5zaGVsbENTUyA9ICcjcGxheWVyJzsKCQljZmcucGxheUNTUyA9ICdidXR0b24ueXRwLXBsYXktYnV0dG9uJzsKCQljZmcubmV4dENTUyA9ICdhLnl0cC1uZXh0LWJ1dHRvbic7CgkJY2ZnLmZ1bGxDU1MgPSAnYnV0dG9uLnl0cC1mdWxsc2NyZWVuLWJ1dHRvbic7CgkJY2ZnLmlzQ2xpY2tPblZpZGVvID0gdHJ1ZTsKCQlhY3RMaXN0LmRlbGV0ZSgzMik7CgkJYWN0TGlzdC5zZXQoNjksIGFjdExpc3QuZ2V0KDcwKSkuZGVsZXRlKDcwKTsgLy9G6ZSuID4+IEXplK4KCX0sCglkb3V5aW4oKSB7CgkJY2ZnLmlzTGl2ZSA9IGhvc3Quc3RhcnRzV2l0aCgnbGl2ZS4nKTsKCQljZmcuZnVsbENTUyA9ICcueGdwbGF5ZXItZnVsbHNjcmVlbic7CgkJLy8gY2ZnLndlYmZ1bGxDU1MgPSBjZmcuaXNMaXZlID8gJy54Z3BsYXllci1mdWxsc2NyZWVuICsgeGctaWNvbicgOiAnLnhncGxheWVyLXBhZ2UtZnVsbC1zY3JlZW4nOwoJCWlmICghY2ZnLmlzTGl2ZSkgewoJCQlHTV9hZGRTdHlsZSgnLnhncGxheWVyLXByb2dyZXNzLWNhY2hle2JhY2tncm91bmQtY29sb3I6Z3JlZW4haW1wb3J0YW50fScpOwoJCQlhY3RMaXN0LnNldCg2NSwgYWN0TGlzdC5nZXQoOTApKS5kZWxldGUoOTApOyAvL1rplK4gPj4gQemUrgoJCQlhY3RMaXN0LnNldCg4MywgYWN0TGlzdC5nZXQoODgpKS5kZWxldGUoODgpOyAvL1jplK4gPj4gU+mUrgoJCQlhY3RMaXN0LnNldCg4NiwgYWN0TGlzdC5nZXQoNjcpKS5kZWxldGUoNjcpOyAvL0PplK4gPj4gVumUrgoJCX0KCX0sCglxcSgpIHsKCQlpZiAoc2VsZiAhPSB0b3AgJiYoaG9zdCA9PSAndi5xcS5jb20nIHx8IGhvc3QgPT0gJ3ZpZGVvLnFxLmNvbScpICkgdGhyb3cgTVNHLm1haW5QYWdlT25seTsKCQlhY3RMaXN0LmRlbGV0ZSgzMik7CgkJY2ZnLnNoZWxsQ1NTID0gJyNwbGF5ZXInOwoJCWNmZy5uZXh0Q1NTID0gJy50eHBfYnRuX25leHRfdSc7CgkJY2ZnLndlYmZ1bGxDU1MgPSAnLnR4cF9idG5fZmFrZSc7CgkJY2ZnLmZ1bGxDU1MgPSAnLnR4cF9idG5fZnVsbHNjcmVlbic7CgkJLy8gdy5fX1BMQVlFUl9fIHx8IHcuUExBWUVSCgkJYXBwLnJhd1Byb3BzLnNldCgncGxheWJhY2tSYXRlJywgMSk7Cgl9LAoJeW91a3UoKSB7CgkJYWN0TGlzdC5kZWxldGUoMzcpOwoJCWFjdExpc3QuZGVsZXRlKDM5KTsKCQlpZiAoaG9zdC5zdGFydHNXaXRoKCd2a3UuJykpIHsKCQkJYnVzLiRvbignY2FucGxheScsICgpID0+IHsKCQkJCWNmZy5pc0xpdmUgPSAhcSgnLnNwdl9wcm9ncmVzcycpOwoJCQl9KTsKCQkJY2ZnLmZ1bGxDU1MgPSAnLmxpdmVfaWNvbl9mdWxsJzsKCQl9IGVsc2UgewoJCQlidXMuJG9uKCdmb3VuZE1WJywoKSA9PiB7ICQoZG9jdW1lbnQpLnVuYmluZCgna2V5dXAnKSB9KTsKCQkJY2ZnLnNoZWxsQ1NTID0gJyN5a1BsYXllcic7CgkJCWNmZy53ZWJmdWxsQ1NTID0gJy5rdWktd2ViZnVsbHNjcmVlbi1pY29uLTAnOwoJCQljZmcuZnVsbENTUyA9ICcua3VpLWZ1bGxzY3JlZW4taWNvbi0wJzsKCQkJY2ZnLm5leHRDU1MgPSAnLmt1aS1uZXh0LWljb24tMCc7CgkJfQoJfSwKCWJpbGliaWxpKCkgewoJCWNmZy5pc0xpdmUgPSBob3N0LnN0YXJ0c1dpdGgoJ2xpdmUuJyk7CgkJaWYgKGNmZy5pc0xpdmUpIHJldHVybjsKCQlhY3RMaXN0LmRlbGV0ZSgzMik7CgoJCWJ1cy4kb24oJ2FkZFNoYWRvd1Jvb3QnLCByID0+IHsKCQkJaWYgKHIuaG9zdC5ub2RlTmFtZSA9PT0gJ0JXUC1WSURFTycpIHsKCQkJCWFwcC52TGlzdCA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2J3cC12aWRlbycpOwoJCQkJYXBwLmZpbmRNViA9IGZpbmQuYmluZChhcHAudkxpc3QsIGUgPT4gZS5vZmZzZXRXaWR0aCA+IDkpOwoJCQkJdiA9IHIuaG9zdDsKCQkJCWFwcC5iaW5kRXZlbnQoKTsKCQkJfQoJCX0pOwoJCWNmZy5zaGVsbENTUyA9ICdkaXZbYXJpYS1sYWJlbD0i5ZOU5ZOp5ZOU5ZOp5pKt5pS+5ZmoIl0nOwoJCWNmZy5uZXh0Q1NTID0gJy5icHgtcGxheWVyLWN0cmwtbmV4dCc7CgkJY2ZnLndlYmZ1bGxDU1MgPSAnLmJweC1wbGF5ZXItY3RybC13ZWInOwoJCWNmZy5mdWxsQ1NTID0gJy5icHgtcGxheWVyLWN0cmwtZnVsbCc7CgkJLyoKCQljb25zdCBzZWVrID0gZnVuY3Rpb24oc3RlcCkgewoJCQljb25zdCBwID0gdGhpcy5wbGF5ZXI7CgkJCXAuc2VlayhwLmdldEN1cnJlbnRUaW1lKCkrIHN0ZXAsIHAuZ2V0U3RhdGUoKSA9PT0gIlBBVVNFRCIpOwoJCX07CgkJYWN0TGlzdC5zZXQoMzgsIF8gPT4gdy5wbGF5ZXIudm9sdW1lKHcucGxheWVyLnZvbHVtZSgpKzAuMSkpIC8v5Yqg6Z+z6YePCgkJLnNldCg0MCwgXyA9PiB3LnBsYXllci52b2x1bWUody5wbGF5ZXIudm9sdW1lKCktMC4xKSkKCQkuc2V0KDM3LCBzZWVrLmJpbmQodywgLTUpKQoJCS5zZXQoMzcrMTAyNCwgc2Vlay5iaW5kKHcsIC0yMCkpIC8vc2hpZnQrbGVmdCAg5b+r6YCAMjDnp5IKCQkuc2V0KDM5LCBzZWVrLmJpbmQodywgNSkpCgkJLnNldCgzOSsxMDI0LCBzZWVrLmJpbmQodywgMjApKSAvL3NoaWZ0K+KGkiAg5b+r6L+bMjDnp5IKCQkuc2V0KDcwLCBzZWVrLmJpbmQodywgMC4wMykpIC8v5oyJ6ZSuRu+8muS4i+S4gOW4pwoJCS5zZXQoNjgsIHNlZWsuYmluZCh3LCAtMC4wMykpOyAvL+aMiemUrkTvvJrkuIrkuIDluKcKCQkqLwoJfSwKCWlxaXlpKCkgewoJCWNmZy5mdWxsQ1NTID0gJy5pcXAtYnRuLWZ1bGxzY3JlZW46bm90KC5mYWtlX19jbGljayknOwoJCWNmZy5uZXh0Q1NTID0gJy5pcXAtYnRuLW5leHQnOwoJfSwKCXBwdHYoKSB7CgkJY2ZnLmZ1bGxDU1MgPSAnLnctem9vbS1jb250YWluZXIgPiBkaXYnOwoJCWNmZy53ZWJmdWxsQ1NTID0gJy53LWV4cGFuZC1jb250YWluZXIgPiBkaXYnOwoJCWNmZy5uZXh0Q1NTID0gJy53LW5leHQnOwoJfSwKCW1ndHYoKSB7CgkJY2ZnLmZ1bGxDU1MgPSAnbWFuZ28tc2NyZWVuJzsKCQljZmcud2ViZnVsbENTUyA9ICdtYW5nby13ZWJzY3JlZW4gPiBhJzsKCQljZmcubmV4dENTUyA9ICdtYW5nby1jb250cm9sLXBsYXluZXh0LWJ0bic7Cgl9LAoJaXhpZ3VhKCkgewoJCWNmZy5mdWxsQ1NTID0gJ2RpdlthcmlhLWxhYmVsPSLlhajlsY8iXSc7CgkJY2ZnLm5leHRDU1MgPSAnLnhncGxheWVyLWNvbnRyb2wtaXRlbS5jb250cm9sX3BsYXluZXh0JzsKCQlHTV9hZGRTdHlsZSgnLmdtLWZwLWJvZHkgLnhncGxheWVye3BhZGRpbmctdG9wOjAhaW1wb3J0YW50fSAuZ20tZnAtd3JhcHBlciAjcGxheWVyX2RlZmF1bHR7bWF4LWhlaWdodDogMTAwJSFpbXBvcnRhbnR9IGgxLnRpdGxlIH5hIHsgcGFkZGluZy1sZWZ0OjEycHg7IGNvbG9yOmJsdWU7IH0nKTsKCgkJYnVzLiRvbignZm91bmRNVicsKCkgPT4gewoJCQljb25zdCBjID0gdy5fU1NSX0hZRFJBVEVEX0RBVEEuYW55VmlkZW8uZ2lkSW5mb3JtYXRpb24ucGFja2VyRGF0YS52aWRlb1Jlc291cmNlLm5vcm1hbC52aWRlb19saXN0OwoJCQljb25zdCB0aXRsZSA9IGRvY3VtZW50LnRpdGxlLnNwbGl0KCcgLSAnKVswXTsKCQkJY29uc3QgcyA9IE9iamVjdC5rZXlzKGMpLm1hcChrID0+CgkJCQlgPGEgaHJlZj0iJHtjW2tdLm1haW5fdXJsfSIgZG93bmxvYWQ9IiR7dGl0bGV9XyR7Y1trXS5kZWZpbml0aW9ufS5tcDQiIHRhcmdldD0iX2JsYW5rIj4ke2Nba10uZGVmaW5pdGlvbn08L2E+YAoJCQkpLmpvaW4oJycpOwoJCQkkKCdoMS50aXRsZScpLnRleHQoTVNHLmRvd25sb2FkKS5hZnRlcihzKTsKCQl9KTsKCX0sCgltaWd1dmlkZW8oKSB7CgkJY2ZnLm5leHRDU1MgPSAnLm5leHQtYnRuJzsKCQljZmcuZnVsbENTUyA9ICcuem9vbS1idG4nOwoJCWNmZy5zaGVsbENTUyA9ICcubW9kLXBsYXllcic7Cgl9LAoJYmFpZHUoKSB7CgkJYXBwLnJhd1Byb3BzLnNldCgncGxheWJhY2tSYXRlJywgMSk7Cgl9LAoJd2VpYm8oKSB7CgkJY2ZnLm11bHRpcGxlViA9IHBhdGguc3RhcnRzV2l0aCgnL3UvJyk7Cgl9LAoJYWNmdW4oKSB7CgkJY2ZnLm5leHRDU1MgPSAnLmJ0bi1uZXh0LXBhcnQgLmNvbnRyb2wtYnRuJzsKCQljZmcud2ViZnVsbENTUyA9ICcuZnVsbHNjcmVlbi13ZWInOwoJCWNmZy5mdWxsQ1NTID0gJy5mdWxsc2NyZWVuLXNjcmVlbic7Cgl9LAoJWycxNjMnXSgpIHsKCQljZmcubXVsdGlwbGVWID0gaG9zdC5zdGFydHNXaXRoKCduZXdzLicpOwoJCUdNX2FkZFN0eWxlKCdkaXYudmlkZW8sdmlkZW97bWF4LWhlaWdodDogMTAwJSAhaW1wb3J0YW50O30nKTsKCQlyZXR1cm4gaG9zdC5zcGxpdCgnLicpLmxlbmd0aCA+IDM7Cgl9LAoJc29odSgpIHsKCQljZmcubmV4dENTUyA9ICdsaS5vbltkYXRhLXZpZF0rbGkgYSc7CgkJY2ZnLmZ1bGxDU1MgPSAnLngtZnVsbHNjcmVlbi1idG4nOwoJCWNmZy53ZWJmdWxsQ1NTID0gJy54LXBhZ2Vmcy1idG4nOwoJfSwKCWZ1bigpIHsKCQljZmcubmV4dENTUyA9ICcuYnRuLWl0ZW0uYnRuLW5leHQnOwoJfSwKCWxlKCkgewoJCUdNX2FkZFN0eWxlKCcuZ20tZnAtYm9keSAubGVfaGVhZHtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fScpOwoJCWNmZy5jc3NNViA9ICcjdmlkZW8gdmlkZW8nOwoJCWNmZy5zaGVsbENTUyA9ICcjdmlkZW8nOwoJCWNmZy5uZXh0Q1NTID0gJy5odl9pY29fbmV4dCc7CgkJY29uc3QgZGVsSGlkZGVuUHJvcCA9IF8gPT4gewoJCQlpZiAoIXYub2Zmc2V0V2lkdGgpIE9iamVjdC52YWx1ZXModi5hdHRyaWJ1dGVzKS5yZXZlcnNlKCkuc29tZShrID0+IHsKCQkJCWlmICh2LmdldEF0dHJpYnV0ZShrLm5hbWUpID09ICcnKSB7CgkJCQkJdi5yZW1vdmVBdHRyaWJ1dGUoay5uYW1lKTsKCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCX0KCQkJfSk7CgkJfTsKCQlidXMuJG9uKCd1cmxjaGFuZ2UnLGRlbEhpZGRlblByb3ApOwoJCWJ1cy4kb25jZSgnY2FucGxheScsZGVsSGlkZGVuUHJvcCk7Cgl9LAoJYWdlbXlzKCkgewoJCWFjdExpc3Quc2V0KDc4LCBfID0+IHsgbG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uLmhyZWYucmVwbGFjZSgvXGQrJC8sIHMgPT4gKytzKSB9KTsKCX0sCglkYW5kYW56YW4oKSB7CgkJR01fcmVnaXN0ZXJNZW51Q29tbWFuZChNU0cudmlkZW9MYWcsICgpID0+IHsKCQkJJ3VzZSBzdHJpY3QnOwoJCQl2LnBhdXNlKCk7CgkJCWNvbnN0IHBvcyA9IHYuY3VycmVudFRpbWU7CgkJCWNvbnN0IGJ1ZiA9IHYuYnVmZmVyZWQ7CgkJCXYuY3VycmVudFRpbWUgPSBidWYuZW5kKGJ1Zi5sZW5ndGggLSAxKSArIDE7CgkJCSQodikub25lKCdwcm9ncmVzcycsIGV2ID0+IHsKCQkJCXYuY3VycmVudFRpbWUgPSBwb3M7CgkJCQl2LnBsYXkoKTsKCQkJfSk7CgkJfSk7CgkJY2ZnLm5leHRDU1MgPSAnLnBsYXlsaXN0IC5vbiArIGxpIGEnOwoJfSwKCWRvdWJhbigpIHsKCQljZmcubmV4dENTUyA9ICdhLm5leHQtc2VyaWVzJzsKCX0sCgloYW5taWR5KCkgewoJCWNmZy5uZXh0Q1NTID0gYGFbaHJlZj0iJHtwYXRofSJdK2FgOwoJfQp9Owpyb3V0ZXIubnVudXl5NSA9IHJvdXRlci5kYW5kYW56YW4xMCA9IHJvdXRlci5kYW5kYW56YW47CgppZiAoIXJvdXRlclt1XSkgeyAvL+ebtOaSreermeeCuQoJcm91dGVyID0gewoJCWRvdXl1KCkgewoJCQljZmcuYWRzQ1NTID0gJ2FbaHJlZio9Indhbi5kb3V5dS5jb20iXSc7CgkJCWNmZy5pc0xpdmUgPSAhaG9zdC5zdGFydHNXaXRoKCd2LicpOwoJCQlpZiAoY2ZnLmlzTGl2ZSkgewoJCQkJY2ZnLmNzc01WID0gJy5sYXlvdXQtUGxheWVyIHZpZGVvJzsKCQkJCWNmZy5zaGVsbENTUyA9ICcjanMtcGxheWVyLXZpZGVvJzsKCQkJCWNmZy53ZWJmdWxsQ1NTID0gJy53ZnMtMmE4ZTgzJzsKCQkJCWNmZy5mdWxsQ1NTID0gJy5mcy03ODExNTMnOwoJCQkJY2ZnLnBsYXlDU1MgPSAnZGl2W2NsYXNzfD1wbGF5XSc7CgkJCQlwYXRoICE9ICcvJyAmJiAkKGV2ID0+IHsKCQkJCQlxKCcudS1zcGVjaWFsU3RhdGVJbnB1dCcpLmNoZWNrZWQgPSB0cnVlOwoJCQkJfSk7CgkJCX0gZWxzZSBidXMuJG9uKCdhZGRTaGFkb3dSb290JywgYXN5bmMgZnVuY3Rpb24ocikgewoJCQkJaWYgKHIuaG9zdC5tYXRjaGVzKCcjZGVtYW5kY29udHJvbGxlci1iYXInKSkgewoJCQkJCWF3YWl0IHNsZWVwKDYwMCk7CgkJCQkJY2ZnLnNoZWxsQ1NTID0gJ2RpdltmdWxsc2NyZWVuXS52aWRlbyc7CgkJCQkJY2ZnLmJ0bkZQID0gcSgnLkNvbnRyb2xsZXJCYXItUGFnZUZ1bGwnLCByKTsKCQkJCQljZmcuYnRuRlMgPSBxKCcuQ29udHJvbGxlckJhci1XaW5kb3dGdWxsJywgcik7CgkJCQl9CgkJCX0pOwoJCX0sCgkJeXkoKSB7CgkJCWNmZy5pc0xpdmUgPSAhcGF0aC5zdGFydHNXaXRoKCcveC8nKTsKCQkJaWYgKGNmZy5pc0xpdmUpIHsKCQkJCWNmZy5mdWxsQ1NTID0gJy55Y19fZnVsbHNjcmVlbi1idG4nOwoJCQkJY2ZnLndlYmZ1bGxDU1MgPSAnLnljX19jaW5lbWEtbW9kZS1idG4nOwoJCQkJY2ZnLnBsYXlDU1MgPSAnLnljX19wbGF5LWJ0bic7CgkJCX0KCQl9LAoJCWh1eWEoKSB7CgkJCWlmIChmaXJlZm94VmVyICYmIGZpcmVmb3hWZXIgPCA1NykgcmV0dXJuIHRydWU7CgkJCWNmZy5kaXNhYmxlREJMQ2xpY2sgPSAhMDsKCQkJY2ZnLndlYmZ1bGxDU1MgPSAnLnBsYXllci1mdWxscGFnZS1idG4nOwoJCQljZmcuZnVsbENTUyA9ICcucGxheWVyLWZ1bGxzY3JlZW4tYnRuJzsKCQkJY2ZnLnBsYXlDU1MgPSAnI3BsYXllci1idG4nOwoJCQljZmcuYWRzQ1NTID0gJyNwbGF5ZXItc3Vic2NyaWJlLXdhcCwjd3JhcC1pbmNvbWUnOwoJCQlwb2xsaW5nKGRvQ2xpY2ssICcubG9naW4tdGlwcy1jbG9zZScpOwoJCQlsb2NhbFN0b3JhZ2VbJ3NpZGViYXIvYWRzJ10gPSAne30nOwoJCQlsb2NhbFN0b3JhZ2VbJ3NpZGViYXIvc3RhdGUnXSA9IDA7CgkJCS8vIGxvY2FsU3RvcmFnZS5UVF9ST09NX1NISUVMRF9DRkdfMF8gPSAneyIxMDAwMCI6MSwiMjAwMDEiOjEsIjIwMDAyIjoxLCIyMDAwMyI6MSwiMzAwMDAiOjF9JzsKCQl9LAoJCXR3aXRjaCgpIHsKCQkJY2ZnLmlzTGl2ZSA9ICFwYXRoLnN0YXJ0c1dpdGgoJy92aWRlb3MvJyk7CgkJCWNmZy5mdWxsQ1NTID0gJ2J1dHRvbltkYXRhLWEtdGFyZ2V0PXBsYXllci1mdWxsc2NyZWVuLWJ1dHRvbl0nOwoJCQljZmcud2ViZnVsbENTUyA9ICdidXR0b25bZGF0YS1hLXRhcmdldD1wbGF5ZXItdGhlYXRyZS1tb2RlLWJ1dHRvbl0nOwoJCQljZmcucGxheUNTUyA9ICdidXR0b25bZGF0YS1hLXRhcmdldD1wbGF5ZXItcGxheS1wYXVzZS1idXR0b25dJzsKCQl9LAoJCWxvbmd6aHUoKSB7CgkJCWNmZy5mdWxsQ1NTID0gJ2EueWEtc2NyZWVuLWJ0bic7CgkJfSwKCQl6aGFucWkoKSB7CgkJCWxvY2FsU3RvcmFnZS5sYXN0UGxheWVyID0gJ2g1JzsKCQkJY2ZnLmZ1bGxDU1MgPSAnLnZpZGVvLWZ1bGxzY3JlZW4nOwoJCX0KCX07CglpZiAocm91dGVyW3VdKSB7CgkJY2ZnLmlzTGl2ZSA9IGNmZy5pc0xpdmUgfHwgIWhvc3Quc3RhcnRzV2l0aCgndi4nKTsKCQkoIXcuY2hyb21lIHx8IGlzRWRnZSkgJiYgZmFrZVVBKHVhX2Nocm9tZSk7Cgl9Cn0KCmNmZy5pc0xpdmUgPSBjZmcuaXNMaXZlIHx8IGhvc3Quc3RhcnRzV2l0aCgnbGl2ZS4nKTsKUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShuYXZpZ2F0b3IsICdwbHVnaW5zJywgewoJZ2V0KCkgeyByZXR1cm4geyBsZW5ndGg6IDAgfSB9Cn0pOwpHTV9yZWdpc3Rlck1lbnVDb21tYW5kKE1TRy5oZWxwTWVudU9wdGlvbiwgYWxlcnQuYmluZCh3LCBNU0cuaGVscEJvZHkpKTsKaWYgKCFyb3V0ZXJbdV0gfHwgIXJvdXRlclt1XSgpKSBhcHAuaW5pdCgpOwppZiAoIXJvdXRlclt1XSAmJiAhY2ZnLmlzTnVtVVJMKSBjZmcuaXNOdW1VUkwgPSAvW19cV11cZCsoXC98XC5bYS16XXszLDh9KT8kLy50ZXN0KHBhdGgpOw==","requires":[{"meta":{"name":"vue.min.js","url":"https://cdn.staticfile.org/vue/2.6.11/vue.min.js","ts":1712102384889,"mimetype":"text/javascript"},"source":"LyohCiAqIFZ1ZS5qcyB2Mi42LjExCiAqIChjKSAyMDE0LTIwMTkgRXZhbiBZb3UKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLgogKi8KIWZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6KGU9ZXx8c2VsZikuVnVlPXQoKX0odGhpcyxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgZT1PYmplY3QuZnJlZXplKHt9KTtmdW5jdGlvbiB0KGUpe3JldHVybiBudWxsPT1lfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIG51bGwhPWV9ZnVuY3Rpb24gcihlKXtyZXR1cm4hMD09PWV9ZnVuY3Rpb24gaShlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV8fCJudW1iZXIiPT10eXBlb2YgZXx8InN5bWJvbCI9PXR5cGVvZiBlfHwiYm9vbGVhbiI9PXR5cGVvZiBlfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIG51bGwhPT1lJiYib2JqZWN0Ij09dHlwZW9mIGV9dmFyIGE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztmdW5jdGlvbiBzKGUpe3JldHVybiJbb2JqZWN0IE9iamVjdF0iPT09YS5jYWxsKGUpfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9cGFyc2VGbG9hdChTdHJpbmcoZSkpO3JldHVybiB0Pj0wJiZNYXRoLmZsb29yKHQpPT09dCYmaXNGaW5pdGUoZSl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gbihlKSYmImZ1bmN0aW9uIj09dHlwZW9mIGUudGhlbiYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY2F0Y2h9ZnVuY3Rpb24gbChlKXtyZXR1cm4gbnVsbD09ZT8iIjpBcnJheS5pc0FycmF5KGUpfHxzKGUpJiZlLnRvU3RyaW5nPT09YT9KU09OLnN0cmluZ2lmeShlLG51bGwsMik6U3RyaW5nKGUpfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9cGFyc2VGbG9hdChlKTtyZXR1cm4gaXNOYU4odCk/ZTp0fWZ1bmN0aW9uIHAoZSx0KXtmb3IodmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKSxyPWUuc3BsaXQoIiwiKSxpPTA7aTxyLmxlbmd0aDtpKyspbltyW2ldXT0hMDtyZXR1cm4gdD9mdW5jdGlvbihlKXtyZXR1cm4gbltlLnRvTG93ZXJDYXNlKCldfTpmdW5jdGlvbihlKXtyZXR1cm4gbltlXX19dmFyIGQ9cCgic2xvdCxjb21wb25lbnQiLCEwKSx2PXAoImtleSxyZWYsc2xvdCxzbG90LXNjb3BlLGlzIik7ZnVuY3Rpb24gaChlLHQpe2lmKGUubGVuZ3RoKXt2YXIgbj1lLmluZGV4T2YodCk7aWYobj4tMSlyZXR1cm4gZS5zcGxpY2UobiwxKX19dmFyIG09T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtmdW5jdGlvbiB5KGUsdCl7cmV0dXJuIG0uY2FsbChlLHQpfWZ1bmN0aW9uIGcoZSl7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHRbbl18fCh0W25dPWUobikpfX12YXIgXz0vLShcdykvZyxiPWcoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShfLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/dC50b1VwcGVyQ2FzZSgpOiIifSl9KSwkPWcoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKX0pLHc9L1xCKFtBLVpdKS9nLEM9ZyhmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKHcsIi0kMSIpLnRvTG93ZXJDYXNlKCl9KTt2YXIgeD1GdW5jdGlvbi5wcm90b3R5cGUuYmluZD9mdW5jdGlvbihlLHQpe3JldHVybiBlLmJpbmQodCl9OmZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoO3JldHVybiByP3I+MT9lLmFwcGx5KHQsYXJndW1lbnRzKTplLmNhbGwodCxuKTplLmNhbGwodCl9cmV0dXJuIG4uX2xlbmd0aD1lLmxlbmd0aCxufTtmdW5jdGlvbiBrKGUsdCl7dD10fHwwO2Zvcih2YXIgbj1lLmxlbmd0aC10LHI9bmV3IEFycmF5KG4pO24tLTspcltuXT1lW24rdF07cmV0dXJuIHJ9ZnVuY3Rpb24gQShlLHQpe2Zvcih2YXIgbiBpbiB0KWVbbl09dFtuXTtyZXR1cm4gZX1mdW5jdGlvbiBPKGUpe2Zvcih2YXIgdD17fSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXSYmQSh0LGVbbl0pO3JldHVybiB0fWZ1bmN0aW9uIFMoZSx0LG4pe312YXIgVD1mdW5jdGlvbihlLHQsbil7cmV0dXJuITF9LEU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9O2Z1bmN0aW9uIE4oZSx0KXtpZihlPT09dClyZXR1cm4hMDt2YXIgbj1vKGUpLHI9byh0KTtpZighbnx8IXIpcmV0dXJuIW4mJiFyJiZTdHJpbmcoZSk9PT1TdHJpbmcodCk7dHJ5e3ZhciBpPUFycmF5LmlzQXJyYXkoZSksYT1BcnJheS5pc0FycmF5KHQpO2lmKGkmJmEpcmV0dXJuIGUubGVuZ3RoPT09dC5sZW5ndGgmJmUuZXZlcnkoZnVuY3Rpb24oZSxuKXtyZXR1cm4gTihlLHRbbl0pfSk7aWYoZSBpbnN0YW5jZW9mIERhdGUmJnQgaW5zdGFuY2VvZiBEYXRlKXJldHVybiBlLmdldFRpbWUoKT09PXQuZ2V0VGltZSgpO2lmKGl8fGEpcmV0dXJuITE7dmFyIHM9T2JqZWN0LmtleXMoZSksYz1PYmplY3Qua2V5cyh0KTtyZXR1cm4gcy5sZW5ndGg9PT1jLmxlbmd0aCYmcy5ldmVyeShmdW5jdGlvbihuKXtyZXR1cm4gTihlW25dLHRbbl0pfSl9Y2F0Y2goZSl7cmV0dXJuITF9fWZ1bmN0aW9uIGooZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZihOKGVbbl0sdCkpcmV0dXJuIG47cmV0dXJuLTF9ZnVuY3Rpb24gRChlKXt2YXIgdD0hMTtyZXR1cm4gZnVuY3Rpb24oKXt0fHwodD0hMCxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fXZhciBMPSJkYXRhLXNlcnZlci1yZW5kZXJlZCIsTT1bImNvbXBvbmVudCIsImRpcmVjdGl2ZSIsImZpbHRlciJdLEk9WyJiZWZvcmVDcmVhdGUiLCJjcmVhdGVkIiwiYmVmb3JlTW91bnQiLCJtb3VudGVkIiwiYmVmb3JlVXBkYXRlIiwidXBkYXRlZCIsImJlZm9yZURlc3Ryb3kiLCJkZXN0cm95ZWQiLCJhY3RpdmF0ZWQiLCJkZWFjdGl2YXRlZCIsImVycm9yQ2FwdHVyZWQiLCJzZXJ2ZXJQcmVmZXRjaCJdLEY9e29wdGlvbk1lcmdlU3RyYXRlZ2llczpPYmplY3QuY3JlYXRlKG51bGwpLHNpbGVudDohMSxwcm9kdWN0aW9uVGlwOiExLGRldnRvb2xzOiExLHBlcmZvcm1hbmNlOiExLGVycm9ySGFuZGxlcjpudWxsLHdhcm5IYW5kbGVyOm51bGwsaWdub3JlZEVsZW1lbnRzOltdLGtleUNvZGVzOk9iamVjdC5jcmVhdGUobnVsbCksaXNSZXNlcnZlZFRhZzpULGlzUmVzZXJ2ZWRBdHRyOlQsaXNVbmtub3duRWxlbWVudDpULGdldFRhZ05hbWVzcGFjZTpTLHBhcnNlUGxhdGZvcm1UYWdOYW1lOkUsbXVzdFVzZVByb3A6VCxhc3luYzohMCxfbGlmZWN5Y2xlSG9va3M6SX0sUD0vYS16QS1aXHUwMEI3XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMzdEXHUwMzdGLVx1MUZGRlx1MjAwQy1cdTIwMERcdTIwM0YtXHUyMDQwXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkQvO2Z1bmN0aW9uIFIoZSx0LG4scil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEhcix3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX12YXIgSD1uZXcgUmVnRXhwKCJbXiIrUC5zb3VyY2UrIi4kX1xcZF0iKTt2YXIgQixVPSJfX3Byb3RvX18iaW57fSx6PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93LFY9InVuZGVmaW5lZCIhPXR5cGVvZiBXWEVudmlyb25tZW50JiYhIVdYRW52aXJvbm1lbnQucGxhdGZvcm0sSz1WJiZXWEVudmlyb25tZW50LnBsYXRmb3JtLnRvTG93ZXJDYXNlKCksSj16JiZ3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLHE9SiYmL21zaWV8dHJpZGVudC8udGVzdChKKSxXPUomJkouaW5kZXhPZigibXNpZSA5LjAiKT4wLFo9SiYmSi5pbmRleE9mKCJlZGdlLyIpPjAsRz0oSiYmSi5pbmRleE9mKCJhbmRyb2lkIiksSiYmL2lwaG9uZXxpcGFkfGlwb2R8aW9zLy50ZXN0KEopfHwiaW9zIj09PUspLFg9KEomJi9jaHJvbWVcL1xkKy8udGVzdChKKSxKJiYvcGhhbnRvbWpzLy50ZXN0KEopLEomJkoubWF0Y2goL2ZpcmVmb3hcLyhcZCspLykpLFk9e30ud2F0Y2gsUT0hMTtpZih6KXRyeXt2YXIgZWU9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KGVlLCJwYXNzaXZlIix7Z2V0OmZ1bmN0aW9uKCl7UT0hMH19KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigidGVzdC1wYXNzaXZlIixudWxsLGVlKX1jYXRjaChlKXt9dmFyIHRlPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PUImJihCPSF6JiYhViYmInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWwmJihnbG9iYWwucHJvY2VzcyYmInNlcnZlciI9PT1nbG9iYWwucHJvY2Vzcy5lbnYuVlVFX0VOVikpLEJ9LG5lPXomJndpbmRvdy5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fO2Z1bmN0aW9uIHJlKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlJiYvbmF0aXZlIGNvZGUvLnRlc3QoZS50b1N0cmluZygpKX12YXIgaWUsb2U9InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJnJlKFN5bWJvbCkmJiJ1bmRlZmluZWQiIT10eXBlb2YgUmVmbGVjdCYmcmUoUmVmbGVjdC5vd25LZXlzKTtpZT0idW5kZWZpbmVkIiE9dHlwZW9mIFNldCYmcmUoU2V0KT9TZXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dGhpcy5zZXQ9T2JqZWN0LmNyZWF0ZShudWxsKX1yZXR1cm4gZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiEwPT09dGhpcy5zZXRbZV19LGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXt0aGlzLnNldFtlXT0hMH0sZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnNldD1PYmplY3QuY3JlYXRlKG51bGwpfSxlfSgpO3ZhciBhZT1TLHNlPTAsY2U9ZnVuY3Rpb24oKXt0aGlzLmlkPXNlKyssdGhpcy5zdWJzPVtdfTtjZS5wcm90b3R5cGUuYWRkU3ViPWZ1bmN0aW9uKGUpe3RoaXMuc3Vicy5wdXNoKGUpfSxjZS5wcm90b3R5cGUucmVtb3ZlU3ViPWZ1bmN0aW9uKGUpe2godGhpcy5zdWJzLGUpfSxjZS5wcm90b3R5cGUuZGVwZW5kPWZ1bmN0aW9uKCl7Y2UudGFyZ2V0JiZjZS50YXJnZXQuYWRkRGVwKHRoaXMpfSxjZS5wcm90b3R5cGUubm90aWZ5PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuc3Vicy5zbGljZSgpLHQ9MCxuPWUubGVuZ3RoO3Q8bjt0KyspZVt0XS51cGRhdGUoKX0sY2UudGFyZ2V0PW51bGw7dmFyIHVlPVtdO2Z1bmN0aW9uIGxlKGUpe3VlLnB1c2goZSksY2UudGFyZ2V0PWV9ZnVuY3Rpb24gZmUoKXt1ZS5wb3AoKSxjZS50YXJnZXQ9dWVbdWUubGVuZ3RoLTFdfXZhciBwZT1mdW5jdGlvbihlLHQsbixyLGksbyxhLHMpe3RoaXMudGFnPWUsdGhpcy5kYXRhPXQsdGhpcy5jaGlsZHJlbj1uLHRoaXMudGV4dD1yLHRoaXMuZWxtPWksdGhpcy5ucz12b2lkIDAsdGhpcy5jb250ZXh0PW8sdGhpcy5mbkNvbnRleHQ9dm9pZCAwLHRoaXMuZm5PcHRpb25zPXZvaWQgMCx0aGlzLmZuU2NvcGVJZD12b2lkIDAsdGhpcy5rZXk9dCYmdC5rZXksdGhpcy5jb21wb25lbnRPcHRpb25zPWEsdGhpcy5jb21wb25lbnRJbnN0YW5jZT12b2lkIDAsdGhpcy5wYXJlbnQ9dm9pZCAwLHRoaXMucmF3PSExLHRoaXMuaXNTdGF0aWM9ITEsdGhpcy5pc1Jvb3RJbnNlcnQ9ITAsdGhpcy5pc0NvbW1lbnQ9ITEsdGhpcy5pc0Nsb25lZD0hMSx0aGlzLmlzT25jZT0hMSx0aGlzLmFzeW5jRmFjdG9yeT1zLHRoaXMuYXN5bmNNZXRhPXZvaWQgMCx0aGlzLmlzQXN5bmNQbGFjZWhvbGRlcj0hMX0sZGU9e2NoaWxkOntjb25maWd1cmFibGU6ITB9fTtkZS5jaGlsZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRJbnN0YW5jZX0sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocGUucHJvdG90eXBlLGRlKTt2YXIgdmU9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9IiIpO3ZhciB0PW5ldyBwZTtyZXR1cm4gdC50ZXh0PWUsdC5pc0NvbW1lbnQ9ITAsdH07ZnVuY3Rpb24gaGUoZSl7cmV0dXJuIG5ldyBwZSh2b2lkIDAsdm9pZCAwLHZvaWQgMCxTdHJpbmcoZSkpfWZ1bmN0aW9uIG1lKGUpe3ZhciB0PW5ldyBwZShlLnRhZyxlLmRhdGEsZS5jaGlsZHJlbiYmZS5jaGlsZHJlbi5zbGljZSgpLGUudGV4dCxlLmVsbSxlLmNvbnRleHQsZS5jb21wb25lbnRPcHRpb25zLGUuYXN5bmNGYWN0b3J5KTtyZXR1cm4gdC5ucz1lLm5zLHQuaXNTdGF0aWM9ZS5pc1N0YXRpYyx0LmtleT1lLmtleSx0LmlzQ29tbWVudD1lLmlzQ29tbWVudCx0LmZuQ29udGV4dD1lLmZuQ29udGV4dCx0LmZuT3B0aW9ucz1lLmZuT3B0aW9ucyx0LmZuU2NvcGVJZD1lLmZuU2NvcGVJZCx0LmFzeW5jTWV0YT1lLmFzeW5jTWV0YSx0LmlzQ2xvbmVkPSEwLHR9dmFyIHllPUFycmF5LnByb3RvdHlwZSxnZT1PYmplY3QuY3JlYXRlKHllKTtbInB1c2giLCJwb3AiLCJzaGlmdCIsInVuc2hpZnQiLCJzcGxpY2UiLCJzb3J0IiwicmV2ZXJzZSJdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9eWVbZV07UihnZSxlLGZ1bmN0aW9uKCl7Zm9yKHZhciBuPVtdLHI9YXJndW1lbnRzLmxlbmd0aDtyLS07KW5bcl09YXJndW1lbnRzW3JdO3ZhciBpLG89dC5hcHBseSh0aGlzLG4pLGE9dGhpcy5fX29iX187c3dpdGNoKGUpe2Nhc2UicHVzaCI6Y2FzZSJ1bnNoaWZ0IjppPW47YnJlYWs7Y2FzZSJzcGxpY2UiOmk9bi5zbGljZSgyKX1yZXR1cm4gaSYmYS5vYnNlcnZlQXJyYXkoaSksYS5kZXAubm90aWZ5KCksb30pfSk7dmFyIF9lPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGdlKSxiZT0hMDtmdW5jdGlvbiAkZShlKXtiZT1lfXZhciB3ZT1mdW5jdGlvbihlKXt2YXIgdDt0aGlzLnZhbHVlPWUsdGhpcy5kZXA9bmV3IGNlLHRoaXMudm1Db3VudD0wLFIoZSwiX19vYl9fIix0aGlzKSxBcnJheS5pc0FycmF5KGUpPyhVPyh0PWdlLGUuX19wcm90b19fPXQpOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9MCxpPW4ubGVuZ3RoO3I8aTtyKyspe3ZhciBvPW5bcl07UihlLG8sdFtvXSl9fShlLGdlLF9lKSx0aGlzLm9ic2VydmVBcnJheShlKSk6dGhpcy53YWxrKGUpfTtmdW5jdGlvbiBDZShlLHQpe3ZhciBuO2lmKG8oZSkmJiEoZSBpbnN0YW5jZW9mIHBlKSlyZXR1cm4geShlLCJfX29iX18iKSYmZS5fX29iX18gaW5zdGFuY2VvZiB3ZT9uPWUuX19vYl9fOmJlJiYhdGUoKSYmKEFycmF5LmlzQXJyYXkoZSl8fHMoZSkpJiZPYmplY3QuaXNFeHRlbnNpYmxlKGUpJiYhZS5faXNWdWUmJihuPW5ldyB3ZShlKSksdCYmbiYmbi52bUNvdW50Kyssbn1mdW5jdGlvbiB4ZShlLHQsbixyLGkpe3ZhciBvPW5ldyBjZSxhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KTtpZighYXx8ITEhPT1hLmNvbmZpZ3VyYWJsZSl7dmFyIHM9YSYmYS5nZXQsYz1hJiZhLnNldDtzJiYhY3x8MiE9PWFyZ3VtZW50cy5sZW5ndGh8fChuPWVbdF0pO3ZhciB1PSFpJiZDZShuKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1zP3MuY2FsbChlKTpuO3JldHVybiBjZS50YXJnZXQmJihvLmRlcGVuZCgpLHUmJih1LmRlcC5kZXBlbmQoKSxBcnJheS5pc0FycmF5KHQpJiZmdW5jdGlvbiBlKHQpe2Zvcih2YXIgbj12b2lkIDAscj0wLGk9dC5sZW5ndGg7cjxpO3IrKykobj10W3JdKSYmbi5fX29iX18mJm4uX19vYl9fLmRlcC5kZXBlbmQoKSxBcnJheS5pc0FycmF5KG4pJiZlKG4pfSh0KSkpLHR9LHNldDpmdW5jdGlvbih0KXt2YXIgcj1zP3MuY2FsbChlKTpuO3Q9PT1yfHx0IT10JiZyIT1yfHxzJiYhY3x8KGM/Yy5jYWxsKGUsdCk6bj10LHU9IWkmJkNlKHQpLG8ubm90aWZ5KCkpfX0pfX1mdW5jdGlvbiBrZShlLHQsbil7aWYoQXJyYXkuaXNBcnJheShlKSYmYyh0KSlyZXR1cm4gZS5sZW5ndGg9TWF0aC5tYXgoZS5sZW5ndGgsdCksZS5zcGxpY2UodCwxLG4pLG47aWYodCBpbiBlJiYhKHQgaW4gT2JqZWN0LnByb3RvdHlwZSkpcmV0dXJuIGVbdF09bixuO3ZhciByPWUuX19vYl9fO3JldHVybiBlLl9pc1Z1ZXx8ciYmci52bUNvdW50P246cj8oeGUoci52YWx1ZSx0LG4pLHIuZGVwLm5vdGlmeSgpLG4pOihlW3RdPW4sbil9ZnVuY3Rpb24gQWUoZSx0KXtpZihBcnJheS5pc0FycmF5KGUpJiZjKHQpKWUuc3BsaWNlKHQsMSk7ZWxzZXt2YXIgbj1lLl9fb2JfXztlLl9pc1Z1ZXx8biYmbi52bUNvdW50fHx5KGUsdCkmJihkZWxldGUgZVt0XSxuJiZuLmRlcC5ub3RpZnkoKSl9fXdlLnByb3RvdHlwZS53YWxrPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1PYmplY3Qua2V5cyhlKSxuPTA7bjx0Lmxlbmd0aDtuKyspeGUoZSx0W25dKX0sd2UucHJvdG90eXBlLm9ic2VydmVBcnJheT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPWUubGVuZ3RoO3Q8bjt0KyspQ2UoZVt0XSl9O3ZhciBPZT1GLm9wdGlvbk1lcmdlU3RyYXRlZ2llcztmdW5jdGlvbiBTZShlLHQpe2lmKCF0KXJldHVybiBlO2Zvcih2YXIgbixyLGksbz1vZT9SZWZsZWN0Lm93bktleXModCk6T2JqZWN0LmtleXModCksYT0wO2E8by5sZW5ndGg7YSsrKSJfX29iX18iIT09KG49b1thXSkmJihyPWVbbl0saT10W25dLHkoZSxuKT9yIT09aSYmcyhyKSYmcyhpKSYmU2UocixpKTprZShlLG4saSkpO3JldHVybiBlfWZ1bmN0aW9uIFRlKGUsdCxuKXtyZXR1cm4gbj9mdW5jdGlvbigpe3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3QuY2FsbChuLG4pOnQsaT0iZnVuY3Rpb24iPT10eXBlb2YgZT9lLmNhbGwobixuKTplO3JldHVybiByP1NlKHIsaSk6aX06dD9lP2Z1bmN0aW9uKCl7cmV0dXJuIFNlKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3QuY2FsbCh0aGlzLHRoaXMpOnQsImZ1bmN0aW9uIj09dHlwZW9mIGU/ZS5jYWxsKHRoaXMsdGhpcyk6ZSl9OnQ6ZX1mdW5jdGlvbiBFZShlLHQpe3ZhciBuPXQ/ZT9lLmNvbmNhdCh0KTpBcnJheS5pc0FycmF5KHQpP3Q6W3RdOmU7cmV0dXJuIG4/ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MDtuPGUubGVuZ3RoO24rKyktMT09PXQuaW5kZXhPZihlW25dKSYmdC5wdXNoKGVbbl0pO3JldHVybiB0fShuKTpufWZ1bmN0aW9uIE5lKGUsdCxuLHIpe3ZhciBpPU9iamVjdC5jcmVhdGUoZXx8bnVsbCk7cmV0dXJuIHQ/QShpLHQpOml9T2UuZGF0YT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG4/VGUoZSx0LG4pOnQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6VGUoZSx0KX0sSS5mb3JFYWNoKGZ1bmN0aW9uKGUpe09lW2VdPUVlfSksTS5mb3JFYWNoKGZ1bmN0aW9uKGUpe09lW2UrInMiXT1OZX0pLE9lLndhdGNoPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKGU9PT1ZJiYoZT12b2lkIDApLHQ9PT1ZJiYodD12b2lkIDApLCF0KXJldHVybiBPYmplY3QuY3JlYXRlKGV8fG51bGwpO2lmKCFlKXJldHVybiB0O3ZhciBpPXt9O2Zvcih2YXIgbyBpbiBBKGksZSksdCl7dmFyIGE9aVtvXSxzPXRbb107YSYmIUFycmF5LmlzQXJyYXkoYSkmJihhPVthXSksaVtvXT1hP2EuY29uY2F0KHMpOkFycmF5LmlzQXJyYXkocyk/czpbc119cmV0dXJuIGl9LE9lLnByb3BzPU9lLm1ldGhvZHM9T2UuaW5qZWN0PU9lLmNvbXB1dGVkPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCFlKXJldHVybiB0O3ZhciBpPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIEEoaSxlKSx0JiZBKGksdCksaX0sT2UucHJvdmlkZT1UZTt2YXIgamU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9lOnR9O2Z1bmN0aW9uIERlKGUsdCxuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHQ9dC5vcHRpb25zKSxmdW5jdGlvbihlLHQpe3ZhciBuPWUucHJvcHM7aWYobil7dmFyIHIsaSxvPXt9O2lmKEFycmF5LmlzQXJyYXkobikpZm9yKHI9bi5sZW5ndGg7ci0tOykic3RyaW5nIj09dHlwZW9mKGk9bltyXSkmJihvW2IoaSldPXt0eXBlOm51bGx9KTtlbHNlIGlmKHMobikpZm9yKHZhciBhIGluIG4paT1uW2FdLG9bYihhKV09cyhpKT9pOnt0eXBlOml9O2UucHJvcHM9b319KHQpLGZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5pbmplY3Q7aWYobil7dmFyIHI9ZS5pbmplY3Q9e307aWYoQXJyYXkuaXNBcnJheShuKSlmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKylyW25baV1dPXtmcm9tOm5baV19O2Vsc2UgaWYocyhuKSlmb3IodmFyIG8gaW4gbil7dmFyIGE9bltvXTtyW29dPXMoYSk/QSh7ZnJvbTpvfSxhKTp7ZnJvbTphfX19fSh0KSxmdW5jdGlvbihlKXt2YXIgdD1lLmRpcmVjdGl2ZXM7aWYodClmb3IodmFyIG4gaW4gdCl7dmFyIHI9dFtuXTsiZnVuY3Rpb24iPT10eXBlb2YgciYmKHRbbl09e2JpbmQ6cix1cGRhdGU6cn0pfX0odCksIXQuX2Jhc2UmJih0LmV4dGVuZHMmJihlPURlKGUsdC5leHRlbmRzLG4pKSx0Lm1peGlucykpZm9yKHZhciByPTAsaT10Lm1peGlucy5sZW5ndGg7cjxpO3IrKyllPURlKGUsdC5taXhpbnNbcl0sbik7dmFyIG8sYT17fTtmb3IobyBpbiBlKWMobyk7Zm9yKG8gaW4gdCl5KGUsbyl8fGMobyk7ZnVuY3Rpb24gYyhyKXt2YXIgaT1PZVtyXXx8amU7YVtyXT1pKGVbcl0sdFtyXSxuLHIpfXJldHVybiBhfWZ1bmN0aW9uIExlKGUsdCxuLHIpe2lmKCJzdHJpbmciPT10eXBlb2Ygbil7dmFyIGk9ZVt0XTtpZih5KGksbikpcmV0dXJuIGlbbl07dmFyIG89YihuKTtpZih5KGksbykpcmV0dXJuIGlbb107dmFyIGE9JChvKTtyZXR1cm4geShpLGEpP2lbYV06aVtuXXx8aVtvXXx8aVthXX19ZnVuY3Rpb24gTWUoZSx0LG4scil7dmFyIGk9dFtlXSxvPSF5KG4sZSksYT1uW2VdLHM9UGUoQm9vbGVhbixpLnR5cGUpO2lmKHM+LTEpaWYobyYmIXkoaSwiZGVmYXVsdCIpKWE9ITE7ZWxzZSBpZigiIj09PWF8fGE9PT1DKGUpKXt2YXIgYz1QZShTdHJpbmcsaS50eXBlKTsoYzwwfHxzPGMpJiYoYT0hMCl9aWYodm9pZCAwPT09YSl7YT1mdW5jdGlvbihlLHQsbil7aWYoIXkodCwiZGVmYXVsdCIpKXJldHVybjt2YXIgcj10LmRlZmF1bHQ7aWYoZSYmZS4kb3B0aW9ucy5wcm9wc0RhdGEmJnZvaWQgMD09PWUuJG9wdGlvbnMucHJvcHNEYXRhW25dJiZ2b2lkIDAhPT1lLl9wcm9wc1tuXSlyZXR1cm4gZS5fcHJvcHNbbl07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHImJiJGdW5jdGlvbiIhPT1JZSh0LnR5cGUpP3IuY2FsbChlKTpyfShyLGksZSk7dmFyIHU9YmU7JGUoITApLENlKGEpLCRlKHUpfXJldHVybiBhfWZ1bmN0aW9uIEllKGUpe3ZhciB0PWUmJmUudG9TdHJpbmcoKS5tYXRjaCgvXlxzKmZ1bmN0aW9uIChcdyspLyk7cmV0dXJuIHQ/dFsxXToiIn1mdW5jdGlvbiBGZShlLHQpe3JldHVybiBJZShlKT09PUllKHQpfWZ1bmN0aW9uIFBlKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIEZlKHQsZSk/MDotMTtmb3IodmFyIG49MCxyPXQubGVuZ3RoO248cjtuKyspaWYoRmUodFtuXSxlKSlyZXR1cm4gbjtyZXR1cm4tMX1mdW5jdGlvbiBSZShlLHQsbil7bGUoKTt0cnl7aWYodClmb3IodmFyIHI9dDtyPXIuJHBhcmVudDspe3ZhciBpPXIuJG9wdGlvbnMuZXJyb3JDYXB0dXJlZDtpZihpKWZvcih2YXIgbz0wO288aS5sZW5ndGg7bysrKXRyeXtpZighMT09PWlbb10uY2FsbChyLGUsdCxuKSlyZXR1cm59Y2F0Y2goZSl7QmUoZSxyLCJlcnJvckNhcHR1cmVkIGhvb2siKX19QmUoZSx0LG4pfWZpbmFsbHl7ZmUoKX19ZnVuY3Rpb24gSGUoZSx0LG4scixpKXt2YXIgbzt0cnl7KG89bj9lLmFwcGx5KHQsbik6ZS5jYWxsKHQpKSYmIW8uX2lzVnVlJiZ1KG8pJiYhby5faGFuZGxlZCYmKG8uY2F0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIFJlKGUscixpKyIgKFByb21pc2UvYXN5bmMpIil9KSxvLl9oYW5kbGVkPSEwKX1jYXRjaChlKXtSZShlLHIsaSl9cmV0dXJuIG99ZnVuY3Rpb24gQmUoZSx0LG4pe2lmKEYuZXJyb3JIYW5kbGVyKXRyeXtyZXR1cm4gRi5lcnJvckhhbmRsZXIuY2FsbChudWxsLGUsdCxuKX1jYXRjaCh0KXt0IT09ZSYmVWUodCxudWxsLCJjb25maWcuZXJyb3JIYW5kbGVyIil9VWUoZSx0LG4pfWZ1bmN0aW9uIFVlKGUsdCxuKXtpZigheiYmIVZ8fCJ1bmRlZmluZWQiPT10eXBlb2YgY29uc29sZSl0aHJvdyBlO2NvbnNvbGUuZXJyb3IoZSl9dmFyIHplLFZlPSExLEtlPVtdLEplPSExO2Z1bmN0aW9uIHFlKCl7SmU9ITE7dmFyIGU9S2Uuc2xpY2UoMCk7S2UubGVuZ3RoPTA7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XSgpfWlmKCJ1bmRlZmluZWQiIT10eXBlb2YgUHJvbWlzZSYmcmUoUHJvbWlzZSkpe3ZhciBXZT1Qcm9taXNlLnJlc29sdmUoKTt6ZT1mdW5jdGlvbigpe1dlLnRoZW4ocWUpLEcmJnNldFRpbWVvdXQoUyl9LFZlPSEwfWVsc2UgaWYocXx8InVuZGVmaW5lZCI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyfHwhcmUoTXV0YXRpb25PYnNlcnZlcikmJiJbb2JqZWN0IE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3Rvcl0iIT09TXV0YXRpb25PYnNlcnZlci50b1N0cmluZygpKXplPSJ1bmRlZmluZWQiIT10eXBlb2Ygc2V0SW1tZWRpYXRlJiZyZShzZXRJbW1lZGlhdGUpP2Z1bmN0aW9uKCl7c2V0SW1tZWRpYXRlKHFlKX06ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KHFlLDApfTtlbHNle3ZhciBaZT0xLEdlPW5ldyBNdXRhdGlvbk9ic2VydmVyKHFlKSxYZT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTdHJpbmcoWmUpKTtHZS5vYnNlcnZlKFhlLHtjaGFyYWN0ZXJEYXRhOiEwfSksemU9ZnVuY3Rpb24oKXtaZT0oWmUrMSklMixYZS5kYXRhPVN0cmluZyhaZSl9LFZlPSEwfWZ1bmN0aW9uIFllKGUsdCl7dmFyIG47aWYoS2UucHVzaChmdW5jdGlvbigpe2lmKGUpdHJ5e2UuY2FsbCh0KX1jYXRjaChlKXtSZShlLHQsIm5leHRUaWNrIil9ZWxzZSBuJiZuKHQpfSksSmV8fChKZT0hMCx6ZSgpKSwhZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBQcm9taXNlKXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlKXtuPWV9KX12YXIgUWU9bmV3IGllO2Z1bmN0aW9uIGV0KGUpeyFmdW5jdGlvbiBlKHQsbil7dmFyIHIsaTt2YXIgYT1BcnJheS5pc0FycmF5KHQpO2lmKCFhJiYhbyh0KXx8T2JqZWN0LmlzRnJvemVuKHQpfHx0IGluc3RhbmNlb2YgcGUpcmV0dXJuO2lmKHQuX19vYl9fKXt2YXIgcz10Ll9fb2JfXy5kZXAuaWQ7aWYobi5oYXMocykpcmV0dXJuO24uYWRkKHMpfWlmKGEpZm9yKHI9dC5sZW5ndGg7ci0tOyllKHRbcl0sbik7ZWxzZSBmb3IoaT1PYmplY3Qua2V5cyh0KSxyPWkubGVuZ3RoO3ItLTspZSh0W2lbcl1dLG4pfShlLFFlKSxRZS5jbGVhcigpfXZhciB0dD1nKGZ1bmN0aW9uKGUpe3ZhciB0PSImIj09PWUuY2hhckF0KDApLG49In4iPT09KGU9dD9lLnNsaWNlKDEpOmUpLmNoYXJBdCgwKSxyPSIhIj09PShlPW4/ZS5zbGljZSgxKTplKS5jaGFyQXQoMCk7cmV0dXJue25hbWU6ZT1yP2Uuc2xpY2UoMSk6ZSxvbmNlOm4sY2FwdHVyZTpyLHBhc3NpdmU6dH19KTtmdW5jdGlvbiBudChlLHQpe2Z1bmN0aW9uIG4oKXt2YXIgZT1hcmd1bWVudHMscj1uLmZucztpZighQXJyYXkuaXNBcnJheShyKSlyZXR1cm4gSGUocixudWxsLGFyZ3VtZW50cyx0LCJ2LW9uIGhhbmRsZXIiKTtmb3IodmFyIGk9ci5zbGljZSgpLG89MDtvPGkubGVuZ3RoO28rKylIZShpW29dLG51bGwsZSx0LCJ2LW9uIGhhbmRsZXIiKX1yZXR1cm4gbi5mbnM9ZSxufWZ1bmN0aW9uIHJ0KGUsbixpLG8sYSxzKXt2YXIgYyx1LGwsZjtmb3IoYyBpbiBlKXU9ZVtjXSxsPW5bY10sZj10dChjKSx0KHUpfHwodChsKT8odCh1LmZucykmJih1PWVbY109bnQodSxzKSkscihmLm9uY2UpJiYodT1lW2NdPWEoZi5uYW1lLHUsZi5jYXB0dXJlKSksaShmLm5hbWUsdSxmLmNhcHR1cmUsZi5wYXNzaXZlLGYucGFyYW1zKSk6dSE9PWwmJihsLmZucz11LGVbY109bCkpO2ZvcihjIGluIG4pdChlW2NdKSYmbygoZj10dChjKSkubmFtZSxuW2NdLGYuY2FwdHVyZSl9ZnVuY3Rpb24gaXQoZSxpLG8pe3ZhciBhO2UgaW5zdGFuY2VvZiBwZSYmKGU9ZS5kYXRhLmhvb2t8fChlLmRhdGEuaG9vaz17fSkpO3ZhciBzPWVbaV07ZnVuY3Rpb24gYygpe28uYXBwbHkodGhpcyxhcmd1bWVudHMpLGgoYS5mbnMsYyl9dChzKT9hPW50KFtjXSk6bihzLmZucykmJnIocy5tZXJnZWQpPyhhPXMpLmZucy5wdXNoKGMpOmE9bnQoW3MsY10pLGEubWVyZ2VkPSEwLGVbaV09YX1mdW5jdGlvbiBvdChlLHQscixpLG8pe2lmKG4odCkpe2lmKHkodCxyKSlyZXR1cm4gZVtyXT10W3JdLG98fGRlbGV0ZSB0W3JdLCEwO2lmKHkodCxpKSlyZXR1cm4gZVtyXT10W2ldLG98fGRlbGV0ZSB0W2ldLCEwfXJldHVybiExfWZ1bmN0aW9uIGF0KGUpe3JldHVybiBpKGUpP1toZShlKV06QXJyYXkuaXNBcnJheShlKT9mdW5jdGlvbiBlKG8sYSl7dmFyIHM9W107dmFyIGMsdSxsLGY7Zm9yKGM9MDtjPG8ubGVuZ3RoO2MrKyl0KHU9b1tjXSl8fCJib29sZWFuIj09dHlwZW9mIHV8fChsPXMubGVuZ3RoLTEsZj1zW2xdLEFycmF5LmlzQXJyYXkodSk/dS5sZW5ndGg+MCYmKHN0KCh1PWUodSwoYXx8IiIpKyJfIitjKSlbMF0pJiZzdChmKSYmKHNbbF09aGUoZi50ZXh0K3VbMF0udGV4dCksdS5zaGlmdCgpKSxzLnB1c2guYXBwbHkocyx1KSk6aSh1KT9zdChmKT9zW2xdPWhlKGYudGV4dCt1KToiIiE9PXUmJnMucHVzaChoZSh1KSk6c3QodSkmJnN0KGYpP3NbbF09aGUoZi50ZXh0K3UudGV4dCk6KHIoby5faXNWTGlzdCkmJm4odS50YWcpJiZ0KHUua2V5KSYmbihhKSYmKHUua2V5PSJfX3ZsaXN0IithKyJfIitjKyJfXyIpLHMucHVzaCh1KSkpO3JldHVybiBzfShlKTp2b2lkIDB9ZnVuY3Rpb24gc3QoZSl7cmV0dXJuIG4oZSkmJm4oZS50ZXh0KSYmITE9PT1lLmlzQ29tbWVudH1mdW5jdGlvbiBjdChlLHQpe2lmKGUpe2Zvcih2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpLHI9b2U/UmVmbGVjdC5vd25LZXlzKGUpOk9iamVjdC5rZXlzKGUpLGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIG89cltpXTtpZigiX19vYl9fIiE9PW8pe2Zvcih2YXIgYT1lW29dLmZyb20scz10O3M7KXtpZihzLl9wcm92aWRlZCYmeShzLl9wcm92aWRlZCxhKSl7bltvXT1zLl9wcm92aWRlZFthXTticmVha31zPXMuJHBhcmVudH1pZighcyYmImRlZmF1bHQiaW4gZVtvXSl7dmFyIGM9ZVtvXS5kZWZhdWx0O25bb109ImZ1bmN0aW9uIj09dHlwZW9mIGM/Yy5jYWxsKHQpOmN9fX1yZXR1cm4gbn19ZnVuY3Rpb24gdXQoZSx0KXtpZighZXx8IWUubGVuZ3RoKXJldHVybnt9O2Zvcih2YXIgbj17fSxyPTAsaT1lLmxlbmd0aDtyPGk7cisrKXt2YXIgbz1lW3JdLGE9by5kYXRhO2lmKGEmJmEuYXR0cnMmJmEuYXR0cnMuc2xvdCYmZGVsZXRlIGEuYXR0cnMuc2xvdCxvLmNvbnRleHQhPT10JiZvLmZuQ29udGV4dCE9PXR8fCFhfHxudWxsPT1hLnNsb3QpKG4uZGVmYXVsdHx8KG4uZGVmYXVsdD1bXSkpLnB1c2gobyk7ZWxzZXt2YXIgcz1hLnNsb3QsYz1uW3NdfHwobltzXT1bXSk7InRlbXBsYXRlIj09PW8udGFnP2MucHVzaC5hcHBseShjLG8uY2hpbGRyZW58fFtdKTpjLnB1c2gobyl9fWZvcih2YXIgdSBpbiBuKW5bdV0uZXZlcnkobHQpJiZkZWxldGUgblt1XTtyZXR1cm4gbn1mdW5jdGlvbiBsdChlKXtyZXR1cm4gZS5pc0NvbW1lbnQmJiFlLmFzeW5jRmFjdG9yeXx8IiAiPT09ZS50ZXh0fWZ1bmN0aW9uIGZ0KHQsbixyKXt2YXIgaSxvPU9iamVjdC5rZXlzKG4pLmxlbmd0aD4wLGE9dD8hIXQuJHN0YWJsZTohbyxzPXQmJnQuJGtleTtpZih0KXtpZih0Ll9ub3JtYWxpemVkKXJldHVybiB0Ll9ub3JtYWxpemVkO2lmKGEmJnImJnIhPT1lJiZzPT09ci4ka2V5JiYhbyYmIXIuJGhhc05vcm1hbClyZXR1cm4gcjtmb3IodmFyIGMgaW4gaT17fSx0KXRbY10mJiIkIiE9PWNbMF0mJihpW2NdPXB0KG4sYyx0W2NdKSl9ZWxzZSBpPXt9O2Zvcih2YXIgdSBpbiBuKXUgaW4gaXx8KGlbdV09ZHQobix1KSk7cmV0dXJuIHQmJk9iamVjdC5pc0V4dGVuc2libGUodCkmJih0Ll9ub3JtYWxpemVkPWkpLFIoaSwiJHN0YWJsZSIsYSksUihpLCIka2V5IixzKSxSKGksIiRoYXNOb3JtYWwiLG8pLGl9ZnVuY3Rpb24gcHQoZSx0LG4pe3ZhciByPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD9uLmFwcGx5KG51bGwsYXJndW1lbnRzKTpuKHt9KTtyZXR1cm4oZT1lJiYib2JqZWN0Ij09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpP1tlXTphdChlKSkmJigwPT09ZS5sZW5ndGh8fDE9PT1lLmxlbmd0aCYmZVswXS5pc0NvbW1lbnQpP3ZvaWQgMDplfTtyZXR1cm4gbi5wcm94eSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Z2V0OnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxyfWZ1bmN0aW9uIGR0KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGVbdF19fWZ1bmN0aW9uIHZ0KGUsdCl7dmFyIHIsaSxhLHMsYztpZihBcnJheS5pc0FycmF5KGUpfHwic3RyaW5nIj09dHlwZW9mIGUpZm9yKHI9bmV3IEFycmF5KGUubGVuZ3RoKSxpPTAsYT1lLmxlbmd0aDtpPGE7aSsrKXJbaV09dChlW2ldLGkpO2Vsc2UgaWYoIm51bWJlciI9PXR5cGVvZiBlKWZvcihyPW5ldyBBcnJheShlKSxpPTA7aTxlO2krKylyW2ldPXQoaSsxLGkpO2Vsc2UgaWYobyhlKSlpZihvZSYmZVtTeW1ib2wuaXRlcmF0b3JdKXtyPVtdO2Zvcih2YXIgdT1lW1N5bWJvbC5pdGVyYXRvcl0oKSxsPXUubmV4dCgpOyFsLmRvbmU7KXIucHVzaCh0KGwudmFsdWUsci5sZW5ndGgpKSxsPXUubmV4dCgpfWVsc2UgZm9yKHM9T2JqZWN0LmtleXMoZSkscj1uZXcgQXJyYXkocy5sZW5ndGgpLGk9MCxhPXMubGVuZ3RoO2k8YTtpKyspYz1zW2ldLHJbaV09dChlW2NdLGMsaSk7cmV0dXJuIG4ocil8fChyPVtdKSxyLl9pc1ZMaXN0PSEwLHJ9ZnVuY3Rpb24gaHQoZSx0LG4scil7dmFyIGksbz10aGlzLiRzY29wZWRTbG90c1tlXTtvPyhuPW58fHt9LHImJihuPUEoQSh7fSxyKSxuKSksaT1vKG4pfHx0KTppPXRoaXMuJHNsb3RzW2VdfHx0O3ZhciBhPW4mJm4uc2xvdDtyZXR1cm4gYT90aGlzLiRjcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIse3Nsb3Q6YX0saSk6aX1mdW5jdGlvbiBtdChlKXtyZXR1cm4gTGUodGhpcy4kb3B0aW9ucywiZmlsdGVycyIsZSl8fEV9ZnVuY3Rpb24geXQoZSx0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT8tMT09PWUuaW5kZXhPZih0KTplIT09dH1mdW5jdGlvbiBndChlLHQsbixyLGkpe3ZhciBvPUYua2V5Q29kZXNbdF18fG47cmV0dXJuIGkmJnImJiFGLmtleUNvZGVzW3RdP3l0KGkscik6bz95dChvLGUpOnI/QyhyKSE9PXQ6dm9pZCAwfWZ1bmN0aW9uIF90KGUsdCxuLHIsaSl7aWYobilpZihvKG4pKXt2YXIgYTtBcnJheS5pc0FycmF5KG4pJiYobj1PKG4pKTt2YXIgcz1mdW5jdGlvbihvKXtpZigiY2xhc3MiPT09b3x8InN0eWxlIj09PW98fHYobykpYT1lO2Vsc2V7dmFyIHM9ZS5hdHRycyYmZS5hdHRycy50eXBlO2E9cnx8Ri5tdXN0VXNlUHJvcCh0LHMsbyk/ZS5kb21Qcm9wc3x8KGUuZG9tUHJvcHM9e30pOmUuYXR0cnN8fChlLmF0dHJzPXt9KX12YXIgYz1iKG8pLHU9QyhvKTtjIGluIGF8fHUgaW4gYXx8KGFbb109bltvXSxpJiYoKGUub258fChlLm9uPXt9KSlbInVwZGF0ZToiK29dPWZ1bmN0aW9uKGUpe25bb109ZX0pKX07Zm9yKHZhciBjIGluIG4pcyhjKX1lbHNlO3JldHVybiBlfWZ1bmN0aW9uIGJ0KGUsdCl7dmFyIG49dGhpcy5fc3RhdGljVHJlZXN8fCh0aGlzLl9zdGF0aWNUcmVlcz1bXSkscj1uW2VdO3JldHVybiByJiYhdD9yOih3dChyPW5bZV09dGhpcy4kb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnNbZV0uY2FsbCh0aGlzLl9yZW5kZXJQcm94eSxudWxsLHRoaXMpLCJfX3N0YXRpY19fIitlLCExKSxyKX1mdW5jdGlvbiAkdChlLHQsbil7cmV0dXJuIHd0KGUsIl9fb25jZV9fIit0KyhuPyJfIituOiIiKSwhMCksZX1mdW5jdGlvbiB3dChlLHQsbil7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyllW3JdJiYic3RyaW5nIiE9dHlwZW9mIGVbcl0mJkN0KGVbcl0sdCsiXyIrcixuKTtlbHNlIEN0KGUsdCxuKX1mdW5jdGlvbiBDdChlLHQsbil7ZS5pc1N0YXRpYz0hMCxlLmtleT10LGUuaXNPbmNlPW59ZnVuY3Rpb24geHQoZSx0KXtpZih0KWlmKHModCkpe3ZhciBuPWUub249ZS5vbj9BKHt9LGUub24pOnt9O2Zvcih2YXIgciBpbiB0KXt2YXIgaT1uW3JdLG89dFtyXTtuW3JdPWk/W10uY29uY2F0KGksbyk6b319ZWxzZTtyZXR1cm4gZX1mdW5jdGlvbiBrdChlLHQsbixyKXt0PXR8fHskc3RhYmxlOiFufTtmb3IodmFyIGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXTtBcnJheS5pc0FycmF5KG8pP2t0KG8sdCxuKTpvJiYoby5wcm94eSYmKG8uZm4ucHJveHk9ITApLHRbby5rZXldPW8uZm4pfXJldHVybiByJiYodC4ka2V5PXIpLHR9ZnVuY3Rpb24gQXQoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rPTIpe3ZhciByPXRbbl07InN0cmluZyI9PXR5cGVvZiByJiZyJiYoZVt0W25dXT10W24rMV0pfXJldHVybiBlfWZ1bmN0aW9uIE90KGUsdCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP3QrZTplfWZ1bmN0aW9uIFN0KGUpe2UuX289JHQsZS5fbj1mLGUuX3M9bCxlLl9sPXZ0LGUuX3Q9aHQsZS5fcT1OLGUuX2k9aixlLl9tPWJ0LGUuX2Y9bXQsZS5faz1ndCxlLl9iPV90LGUuX3Y9aGUsZS5fZT12ZSxlLl91PWt0LGUuX2c9eHQsZS5fZD1BdCxlLl9wPU90fWZ1bmN0aW9uIFR0KHQsbixpLG8sYSl7dmFyIHMsYz10aGlzLHU9YS5vcHRpb25zO3kobywiX3VpZCIpPyhzPU9iamVjdC5jcmVhdGUobykpLl9vcmlnaW5hbD1vOihzPW8sbz1vLl9vcmlnaW5hbCk7dmFyIGw9cih1Ll9jb21waWxlZCksZj0hbDt0aGlzLmRhdGE9dCx0aGlzLnByb3BzPW4sdGhpcy5jaGlsZHJlbj1pLHRoaXMucGFyZW50PW8sdGhpcy5saXN0ZW5lcnM9dC5vbnx8ZSx0aGlzLmluamVjdGlvbnM9Y3QodS5pbmplY3QsbyksdGhpcy5zbG90cz1mdW5jdGlvbigpe3JldHVybiBjLiRzbG90c3x8ZnQodC5zY29wZWRTbG90cyxjLiRzbG90cz11dChpLG8pKSxjLiRzbG90c30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsInNjb3BlZFNsb3RzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZnQodC5zY29wZWRTbG90cyx0aGlzLnNsb3RzKCkpfX0pLGwmJih0aGlzLiRvcHRpb25zPXUsdGhpcy4kc2xvdHM9dGhpcy5zbG90cygpLHRoaXMuJHNjb3BlZFNsb3RzPWZ0KHQuc2NvcGVkU2xvdHMsdGhpcy4kc2xvdHMpKSx1Ll9zY29wZUlkP3RoaXMuX2M9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9UHQocyxlLHQsbixyLGYpO3JldHVybiBpJiYhQXJyYXkuaXNBcnJheShpKSYmKGkuZm5TY29wZUlkPXUuX3Njb3BlSWQsaS5mbkNvbnRleHQ9byksaX06dGhpcy5fYz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gUHQocyxlLHQsbixyLGYpfX1mdW5jdGlvbiBFdChlLHQsbixyLGkpe3ZhciBvPW1lKGUpO3JldHVybiBvLmZuQ29udGV4dD1uLG8uZm5PcHRpb25zPXIsdC5zbG90JiYoKG8uZGF0YXx8KG8uZGF0YT17fSkpLnNsb3Q9dC5zbG90KSxvfWZ1bmN0aW9uIE50KGUsdCl7Zm9yKHZhciBuIGluIHQpZVtiKG4pXT10W25dfVN0KFR0LnByb3RvdHlwZSk7dmFyIGp0PXtpbml0OmZ1bmN0aW9uKGUsdCl7aWYoZS5jb21wb25lbnRJbnN0YW5jZSYmIWUuY29tcG9uZW50SW5zdGFuY2UuX2lzRGVzdHJveWVkJiZlLmRhdGEua2VlcEFsaXZlKXt2YXIgcj1lO2p0LnByZXBhdGNoKHIscil9ZWxzZXsoZS5jb21wb25lbnRJbnN0YW5jZT1mdW5jdGlvbihlLHQpe3ZhciByPXtfaXNDb21wb25lbnQ6ITAsX3BhcmVudFZub2RlOmUscGFyZW50OnR9LGk9ZS5kYXRhLmlubGluZVRlbXBsYXRlO24oaSkmJihyLnJlbmRlcj1pLnJlbmRlcixyLnN0YXRpY1JlbmRlckZucz1pLnN0YXRpY1JlbmRlckZucyk7cmV0dXJuIG5ldyBlLmNvbXBvbmVudE9wdGlvbnMuQ3RvcihyKX0oZSxXdCkpLiRtb3VudCh0P2UuZWxtOnZvaWQgMCx0KX19LHByZXBhdGNoOmZ1bmN0aW9uKHQsbil7dmFyIHI9bi5jb21wb25lbnRPcHRpb25zOyFmdW5jdGlvbih0LG4scixpLG8pe3ZhciBhPWkuZGF0YS5zY29wZWRTbG90cyxzPXQuJHNjb3BlZFNsb3RzLGM9ISEoYSYmIWEuJHN0YWJsZXx8cyE9PWUmJiFzLiRzdGFibGV8fGEmJnQuJHNjb3BlZFNsb3RzLiRrZXkhPT1hLiRrZXkpLHU9ISEob3x8dC4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW58fGMpO3QuJG9wdGlvbnMuX3BhcmVudFZub2RlPWksdC4kdm5vZGU9aSx0Ll92bm9kZSYmKHQuX3Zub2RlLnBhcmVudD1pKTtpZih0LiRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbj1vLHQuJGF0dHJzPWkuZGF0YS5hdHRyc3x8ZSx0LiRsaXN0ZW5lcnM9cnx8ZSxuJiZ0LiRvcHRpb25zLnByb3BzKXskZSghMSk7Zm9yKHZhciBsPXQuX3Byb3BzLGY9dC4kb3B0aW9ucy5fcHJvcEtleXN8fFtdLHA9MDtwPGYubGVuZ3RoO3ArKyl7dmFyIGQ9ZltwXSx2PXQuJG9wdGlvbnMucHJvcHM7bFtkXT1NZShkLHYsbix0KX0kZSghMCksdC4kb3B0aW9ucy5wcm9wc0RhdGE9bn1yPXJ8fGU7dmFyIGg9dC4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO3QuJG9wdGlvbnMuX3BhcmVudExpc3RlbmVycz1yLHF0KHQscixoKSx1JiYodC4kc2xvdHM9dXQobyxpLmNvbnRleHQpLHQuJGZvcmNlVXBkYXRlKCkpfShuLmNvbXBvbmVudEluc3RhbmNlPXQuY29tcG9uZW50SW5zdGFuY2Usci5wcm9wc0RhdGEsci5saXN0ZW5lcnMsbixyLmNoaWxkcmVuKX0saW5zZXJ0OmZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5jb250ZXh0LHI9ZS5jb21wb25lbnRJbnN0YW5jZTtyLl9pc01vdW50ZWR8fChyLl9pc01vdW50ZWQ9ITAsWXQociwibW91bnRlZCIpKSxlLmRhdGEua2VlcEFsaXZlJiYobi5faXNNb3VudGVkPygodD1yKS5faW5hY3RpdmU9ITEsZW4ucHVzaCh0KSk6WHQociwhMCkpfSxkZXN0cm95OmZ1bmN0aW9uKGUpe3ZhciB0PWUuY29tcG9uZW50SW5zdGFuY2U7dC5faXNEZXN0cm95ZWR8fChlLmRhdGEua2VlcEFsaXZlP2Z1bmN0aW9uIGUodCxuKXtpZihuJiYodC5fZGlyZWN0SW5hY3RpdmU9ITAsR3QodCkpKXJldHVybjtpZighdC5faW5hY3RpdmUpe3QuX2luYWN0aXZlPSEwO2Zvcih2YXIgcj0wO3I8dC4kY2hpbGRyZW4ubGVuZ3RoO3IrKyllKHQuJGNoaWxkcmVuW3JdKTtZdCh0LCJkZWFjdGl2YXRlZCIpfX0odCwhMCk6dC4kZGVzdHJveSgpKX19LER0PU9iamVjdC5rZXlzKGp0KTtmdW5jdGlvbiBMdChpLGEscyxjLGwpe2lmKCF0KGkpKXt2YXIgZj1zLiRvcHRpb25zLl9iYXNlO2lmKG8oaSkmJihpPWYuZXh0ZW5kKGkpKSwiZnVuY3Rpb24iPT10eXBlb2YgaSl7dmFyIHA7aWYodChpLmNpZCkmJnZvaWQgMD09PShpPWZ1bmN0aW9uKGUsaSl7aWYocihlLmVycm9yKSYmbihlLmVycm9yQ29tcCkpcmV0dXJuIGUuZXJyb3JDb21wO2lmKG4oZS5yZXNvbHZlZCkpcmV0dXJuIGUucmVzb2x2ZWQ7dmFyIGE9SHQ7YSYmbihlLm93bmVycykmJi0xPT09ZS5vd25lcnMuaW5kZXhPZihhKSYmZS5vd25lcnMucHVzaChhKTtpZihyKGUubG9hZGluZykmJm4oZS5sb2FkaW5nQ29tcCkpcmV0dXJuIGUubG9hZGluZ0NvbXA7aWYoYSYmIW4oZS5vd25lcnMpKXt2YXIgcz1lLm93bmVycz1bYV0sYz0hMCxsPW51bGwsZj1udWxsO2EuJG9uKCJob29rOmRlc3Ryb3llZCIsZnVuY3Rpb24oKXtyZXR1cm4gaChzLGEpfSk7dmFyIHA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj1zLmxlbmd0aDt0PG47dCsrKXNbdF0uJGZvcmNlVXBkYXRlKCk7ZSYmKHMubGVuZ3RoPTAsbnVsbCE9PWwmJihjbGVhclRpbWVvdXQobCksbD1udWxsKSxudWxsIT09ZiYmKGNsZWFyVGltZW91dChmKSxmPW51bGwpKX0sZD1EKGZ1bmN0aW9uKHQpe2UucmVzb2x2ZWQ9QnQodCxpKSxjP3MubGVuZ3RoPTA6cCghMCl9KSx2PUQoZnVuY3Rpb24odCl7bihlLmVycm9yQ29tcCkmJihlLmVycm9yPSEwLHAoITApKX0pLG09ZShkLHYpO3JldHVybiBvKG0pJiYodShtKT90KGUucmVzb2x2ZWQpJiZtLnRoZW4oZCx2KTp1KG0uY29tcG9uZW50KSYmKG0uY29tcG9uZW50LnRoZW4oZCx2KSxuKG0uZXJyb3IpJiYoZS5lcnJvckNvbXA9QnQobS5lcnJvcixpKSksbihtLmxvYWRpbmcpJiYoZS5sb2FkaW5nQ29tcD1CdChtLmxvYWRpbmcsaSksMD09PW0uZGVsYXk/ZS5sb2FkaW5nPSEwOmw9c2V0VGltZW91dChmdW5jdGlvbigpe2w9bnVsbCx0KGUucmVzb2x2ZWQpJiZ0KGUuZXJyb3IpJiYoZS5sb2FkaW5nPSEwLHAoITEpKX0sbS5kZWxheXx8MjAwKSksbihtLnRpbWVvdXQpJiYoZj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zj1udWxsLHQoZS5yZXNvbHZlZCkmJnYobnVsbCl9LG0udGltZW91dCkpKSksYz0hMSxlLmxvYWRpbmc/ZS5sb2FkaW5nQ29tcDplLnJlc29sdmVkfX0ocD1pLGYpKSlyZXR1cm4gZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbz12ZSgpO3JldHVybiBvLmFzeW5jRmFjdG9yeT1lLG8uYXN5bmNNZXRhPXtkYXRhOnQsY29udGV4dDpuLGNoaWxkcmVuOnIsdGFnOml9LG99KHAsYSxzLGMsbCk7YT1hfHx7fSwkbihpKSxuKGEubW9kZWwpJiZmdW5jdGlvbihlLHQpe3ZhciByPWUubW9kZWwmJmUubW9kZWwucHJvcHx8InZhbHVlIixpPWUubW9kZWwmJmUubW9kZWwuZXZlbnR8fCJpbnB1dCI7KHQuYXR0cnN8fCh0LmF0dHJzPXt9KSlbcl09dC5tb2RlbC52YWx1ZTt2YXIgbz10Lm9ufHwodC5vbj17fSksYT1vW2ldLHM9dC5tb2RlbC5jYWxsYmFjaztuKGEpPyhBcnJheS5pc0FycmF5KGEpPy0xPT09YS5pbmRleE9mKHMpOmEhPT1zKSYmKG9baV09W3NdLmNvbmNhdChhKSk6b1tpXT1zfShpLm9wdGlvbnMsYSk7dmFyIGQ9ZnVuY3Rpb24oZSxyLGkpe3ZhciBvPXIub3B0aW9ucy5wcm9wcztpZighdChvKSl7dmFyIGE9e30scz1lLmF0dHJzLGM9ZS5wcm9wcztpZihuKHMpfHxuKGMpKWZvcih2YXIgdSBpbiBvKXt2YXIgbD1DKHUpO290KGEsYyx1LGwsITApfHxvdChhLHMsdSxsLCExKX1yZXR1cm4gYX19KGEsaSk7aWYocihpLm9wdGlvbnMuZnVuY3Rpb25hbCkpcmV0dXJuIGZ1bmN0aW9uKHQscixpLG8sYSl7dmFyIHM9dC5vcHRpb25zLGM9e30sdT1zLnByb3BzO2lmKG4odSkpZm9yKHZhciBsIGluIHUpY1tsXT1NZShsLHUscnx8ZSk7ZWxzZSBuKGkuYXR0cnMpJiZOdChjLGkuYXR0cnMpLG4oaS5wcm9wcykmJk50KGMsaS5wcm9wcyk7dmFyIGY9bmV3IFR0KGksYyxhLG8sdCkscD1zLnJlbmRlci5jYWxsKG51bGwsZi5fYyxmKTtpZihwIGluc3RhbmNlb2YgcGUpcmV0dXJuIEV0KHAsaSxmLnBhcmVudCxzKTtpZihBcnJheS5pc0FycmF5KHApKXtmb3IodmFyIGQ9YXQocCl8fFtdLHY9bmV3IEFycmF5KGQubGVuZ3RoKSxoPTA7aDxkLmxlbmd0aDtoKyspdltoXT1FdChkW2hdLGksZi5wYXJlbnQscyk7cmV0dXJuIHZ9fShpLGQsYSxzLGMpO3ZhciB2PWEub247aWYoYS5vbj1hLm5hdGl2ZU9uLHIoaS5vcHRpb25zLmFic3RyYWN0KSl7dmFyIG09YS5zbG90O2E9e30sbSYmKGEuc2xvdD1tKX0hZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuaG9va3x8KGUuaG9vaz17fSksbj0wO248RHQubGVuZ3RoO24rKyl7dmFyIHI9RHRbbl0saT10W3JdLG89anRbcl07aT09PW98fGkmJmkuX21lcmdlZHx8KHRbcl09aT9NdChvLGkpOm8pfX0oYSk7dmFyIHk9aS5vcHRpb25zLm5hbWV8fGw7cmV0dXJuIG5ldyBwZSgidnVlLWNvbXBvbmVudC0iK2kuY2lkKyh5PyItIit5OiIiKSxhLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHMse0N0b3I6aSxwcm9wc0RhdGE6ZCxsaXN0ZW5lcnM6dix0YWc6bCxjaGlsZHJlbjpjfSxwKX19fWZ1bmN0aW9uIE10KGUsdCl7dmFyIG49ZnVuY3Rpb24obixyKXtlKG4sciksdChuLHIpfTtyZXR1cm4gbi5fbWVyZ2VkPSEwLG59dmFyIEl0PTEsRnQ9MjtmdW5jdGlvbiBQdChlLGEscyxjLHUsbCl7cmV0dXJuKEFycmF5LmlzQXJyYXkocyl8fGkocykpJiYodT1jLGM9cyxzPXZvaWQgMCkscihsKSYmKHU9RnQpLGZ1bmN0aW9uKGUsaSxhLHMsYyl7aWYobihhKSYmbihhLl9fb2JfXykpcmV0dXJuIHZlKCk7bihhKSYmbihhLmlzKSYmKGk9YS5pcyk7aWYoIWkpcmV0dXJuIHZlKCk7QXJyYXkuaXNBcnJheShzKSYmImZ1bmN0aW9uIj09dHlwZW9mIHNbMF0mJigoYT1hfHx7fSkuc2NvcGVkU2xvdHM9e2RlZmF1bHQ6c1swXX0scy5sZW5ndGg9MCk7Yz09PUZ0P3M9YXQocyk6Yz09PUl0JiYocz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZihBcnJheS5pc0FycmF5KGVbdF0pKXJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLGUpO3JldHVybiBlfShzKSk7dmFyIHUsbDtpZigic3RyaW5nIj09dHlwZW9mIGkpe3ZhciBmO2w9ZS4kdm5vZGUmJmUuJHZub2RlLm5zfHxGLmdldFRhZ05hbWVzcGFjZShpKSx1PUYuaXNSZXNlcnZlZFRhZyhpKT9uZXcgcGUoRi5wYXJzZVBsYXRmb3JtVGFnTmFtZShpKSxhLHMsdm9pZCAwLHZvaWQgMCxlKTphJiZhLnByZXx8IW4oZj1MZShlLiRvcHRpb25zLCJjb21wb25lbnRzIixpKSk/bmV3IHBlKGksYSxzLHZvaWQgMCx2b2lkIDAsZSk6THQoZixhLGUscyxpKX1lbHNlIHU9THQoaSxhLGUscyk7cmV0dXJuIEFycmF5LmlzQXJyYXkodSk/dTpuKHUpPyhuKGwpJiZmdW5jdGlvbiBlKGksbyxhKXtpLm5zPW87ImZvcmVpZ25PYmplY3QiPT09aS50YWcmJihvPXZvaWQgMCxhPSEwKTtpZihuKGkuY2hpbGRyZW4pKWZvcih2YXIgcz0wLGM9aS5jaGlsZHJlbi5sZW5ndGg7czxjO3MrKyl7dmFyIHU9aS5jaGlsZHJlbltzXTtuKHUudGFnKSYmKHQodS5ucyl8fHIoYSkmJiJzdmciIT09dS50YWcpJiZlKHUsbyxhKX19KHUsbCksbihhKSYmZnVuY3Rpb24oZSl7byhlLnN0eWxlKSYmZXQoZS5zdHlsZSk7byhlLmNsYXNzKSYmZXQoZS5jbGFzcyl9KGEpLHUpOnZlKCl9KGUsYSxzLGMsdSl9dmFyIFJ0LEh0PW51bGw7ZnVuY3Rpb24gQnQoZSx0KXtyZXR1cm4oZS5fX2VzTW9kdWxlfHxvZSYmIk1vZHVsZSI9PT1lW1N5bWJvbC50b1N0cmluZ1RhZ10pJiYoZT1lLmRlZmF1bHQpLG8oZSk/dC5leHRlbmQoZSk6ZX1mdW5jdGlvbiBVdChlKXtyZXR1cm4gZS5pc0NvbW1lbnQmJmUuYXN5bmNGYWN0b3J5fWZ1bmN0aW9uIHp0KGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciByPWVbdF07aWYobihyKSYmKG4oci5jb21wb25lbnRPcHRpb25zKXx8VXQocikpKXJldHVybiByfX1mdW5jdGlvbiBWdChlLHQpe1J0LiRvbihlLHQpfWZ1bmN0aW9uIEt0KGUsdCl7UnQuJG9mZihlLHQpfWZ1bmN0aW9uIEp0KGUsdCl7dmFyIG49UnQ7cmV0dXJuIGZ1bmN0aW9uIHIoKXtudWxsIT09dC5hcHBseShudWxsLGFyZ3VtZW50cykmJm4uJG9mZihlLHIpfX1mdW5jdGlvbiBxdChlLHQsbil7UnQ9ZSxydCh0LG58fHt9LFZ0LEt0LEp0LGUpLFJ0PXZvaWQgMH12YXIgV3Q9bnVsbDtmdW5jdGlvbiBadChlKXt2YXIgdD1XdDtyZXR1cm4gV3Q9ZSxmdW5jdGlvbigpe1d0PXR9fWZ1bmN0aW9uIEd0KGUpe2Zvcig7ZSYmKGU9ZS4kcGFyZW50KTspaWYoZS5faW5hY3RpdmUpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gWHQoZSx0KXtpZih0KXtpZihlLl9kaXJlY3RJbmFjdGl2ZT0hMSxHdChlKSlyZXR1cm59ZWxzZSBpZihlLl9kaXJlY3RJbmFjdGl2ZSlyZXR1cm47aWYoZS5faW5hY3RpdmV8fG51bGw9PT1lLl9pbmFjdGl2ZSl7ZS5faW5hY3RpdmU9ITE7Zm9yKHZhciBuPTA7bjxlLiRjaGlsZHJlbi5sZW5ndGg7bisrKVh0KGUuJGNoaWxkcmVuW25dKTtZdChlLCJhY3RpdmF0ZWQiKX19ZnVuY3Rpb24gWXQoZSx0KXtsZSgpO3ZhciBuPWUuJG9wdGlvbnNbdF0scj10KyIgaG9vayI7aWYobilmb3IodmFyIGk9MCxvPW4ubGVuZ3RoO2k8bztpKyspSGUobltpXSxlLG51bGwsZSxyKTtlLl9oYXNIb29rRXZlbnQmJmUuJGVtaXQoImhvb2s6Iit0KSxmZSgpfXZhciBRdD1bXSxlbj1bXSx0bj17fSxubj0hMSxybj0hMSxvbj0wO3ZhciBhbj0wLHNuPURhdGUubm93O2lmKHomJiFxKXt2YXIgY249d2luZG93LnBlcmZvcm1hbmNlO2NuJiYiZnVuY3Rpb24iPT10eXBlb2YgY24ubm93JiZzbigpPmRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpLnRpbWVTdGFtcCYmKHNuPWZ1bmN0aW9uKCl7cmV0dXJuIGNuLm5vdygpfSl9ZnVuY3Rpb24gdW4oKXt2YXIgZSx0O2Zvcihhbj1zbigpLHJuPSEwLFF0LnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pZC10LmlkfSksb249MDtvbjxRdC5sZW5ndGg7b24rKykoZT1RdFtvbl0pLmJlZm9yZSYmZS5iZWZvcmUoKSx0PWUuaWQsdG5bdF09bnVsbCxlLnJ1bigpO3ZhciBuPWVuLnNsaWNlKCkscj1RdC5zbGljZSgpO29uPVF0Lmxlbmd0aD1lbi5sZW5ndGg9MCx0bj17fSxubj1ybj0hMSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdLl9pbmFjdGl2ZT0hMCxYdChlW3RdLCEwKX0obiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7Zm9yKDt0LS07KXt2YXIgbj1lW3RdLHI9bi52bTtyLl93YXRjaGVyPT09biYmci5faXNNb3VudGVkJiYhci5faXNEZXN0cm95ZWQmJll0KHIsInVwZGF0ZWQiKX19KHIpLG5lJiZGLmRldnRvb2xzJiZuZS5lbWl0KCJmbHVzaCIpfXZhciBsbj0wLGZuPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dGhpcy52bT1lLGkmJihlLl93YXRjaGVyPXRoaXMpLGUuX3dhdGNoZXJzLnB1c2godGhpcykscj8odGhpcy5kZWVwPSEhci5kZWVwLHRoaXMudXNlcj0hIXIudXNlcix0aGlzLmxhenk9ISFyLmxhenksdGhpcy5zeW5jPSEhci5zeW5jLHRoaXMuYmVmb3JlPXIuYmVmb3JlKTp0aGlzLmRlZXA9dGhpcy51c2VyPXRoaXMubGF6eT10aGlzLnN5bmM9ITEsdGhpcy5jYj1uLHRoaXMuaWQ9Kytsbix0aGlzLmFjdGl2ZT0hMCx0aGlzLmRpcnR5PXRoaXMubGF6eSx0aGlzLmRlcHM9W10sdGhpcy5uZXdEZXBzPVtdLHRoaXMuZGVwSWRzPW5ldyBpZSx0aGlzLm5ld0RlcElkcz1uZXcgaWUsdGhpcy5leHByZXNzaW9uPSIiLCJmdW5jdGlvbiI9PXR5cGVvZiB0P3RoaXMuZ2V0dGVyPXQ6KHRoaXMuZ2V0dGVyPWZ1bmN0aW9uKGUpe2lmKCFILnRlc3QoZSkpe3ZhciB0PWUuc3BsaXQoIi4iKTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe2lmKCFlKXJldHVybjtlPWVbdFtuXV19cmV0dXJuIGV9fX0odCksdGhpcy5nZXR0ZXJ8fCh0aGlzLmdldHRlcj1TKSksdGhpcy52YWx1ZT10aGlzLmxhenk/dm9pZCAwOnRoaXMuZ2V0KCl9O2ZuLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt2YXIgZTtsZSh0aGlzKTt2YXIgdD10aGlzLnZtO3RyeXtlPXRoaXMuZ2V0dGVyLmNhbGwodCx0KX1jYXRjaChlKXtpZighdGhpcy51c2VyKXRocm93IGU7UmUoZSx0LCdnZXR0ZXIgZm9yIHdhdGNoZXIgIicrdGhpcy5leHByZXNzaW9uKyciJyl9ZmluYWxseXt0aGlzLmRlZXAmJmV0KGUpLGZlKCksdGhpcy5jbGVhbnVwRGVwcygpfXJldHVybiBlfSxmbi5wcm90b3R5cGUuYWRkRGVwPWZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQ7dGhpcy5uZXdEZXBJZHMuaGFzKHQpfHwodGhpcy5uZXdEZXBJZHMuYWRkKHQpLHRoaXMubmV3RGVwcy5wdXNoKGUpLHRoaXMuZGVwSWRzLmhhcyh0KXx8ZS5hZGRTdWIodGhpcykpfSxmbi5wcm90b3R5cGUuY2xlYW51cERlcHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5kZXBzLmxlbmd0aDtlLS07KXt2YXIgdD10aGlzLmRlcHNbZV07dGhpcy5uZXdEZXBJZHMuaGFzKHQuaWQpfHx0LnJlbW92ZVN1Yih0aGlzKX12YXIgbj10aGlzLmRlcElkczt0aGlzLmRlcElkcz10aGlzLm5ld0RlcElkcyx0aGlzLm5ld0RlcElkcz1uLHRoaXMubmV3RGVwSWRzLmNsZWFyKCksbj10aGlzLmRlcHMsdGhpcy5kZXBzPXRoaXMubmV3RGVwcyx0aGlzLm5ld0RlcHM9bix0aGlzLm5ld0RlcHMubGVuZ3RoPTB9LGZuLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmxhenk/dGhpcy5kaXJ0eT0hMDp0aGlzLnN5bmM/dGhpcy5ydW4oKTpmdW5jdGlvbihlKXt2YXIgdD1lLmlkO2lmKG51bGw9PXRuW3RdKXtpZih0blt0XT0hMCxybil7Zm9yKHZhciBuPVF0Lmxlbmd0aC0xO24+b24mJlF0W25dLmlkPmUuaWQ7KW4tLTtRdC5zcGxpY2UobisxLDAsZSl9ZWxzZSBRdC5wdXNoKGUpO25ufHwobm49ITAsWWUodW4pKX19KHRoaXMpfSxmbi5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7aWYodGhpcy5hY3RpdmUpe3ZhciBlPXRoaXMuZ2V0KCk7aWYoZSE9PXRoaXMudmFsdWV8fG8oZSl8fHRoaXMuZGVlcCl7dmFyIHQ9dGhpcy52YWx1ZTtpZih0aGlzLnZhbHVlPWUsdGhpcy51c2VyKXRyeXt0aGlzLmNiLmNhbGwodGhpcy52bSxlLHQpfWNhdGNoKGUpe1JlKGUsdGhpcy52bSwnY2FsbGJhY2sgZm9yIHdhdGNoZXIgIicrdGhpcy5leHByZXNzaW9uKyciJyl9ZWxzZSB0aGlzLmNiLmNhbGwodGhpcy52bSxlLHQpfX19LGZuLnByb3RvdHlwZS5ldmFsdWF0ZT1mdW5jdGlvbigpe3RoaXMudmFsdWU9dGhpcy5nZXQoKSx0aGlzLmRpcnR5PSExfSxmbi5wcm90b3R5cGUuZGVwZW5kPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZGVwcy5sZW5ndGg7ZS0tOyl0aGlzLmRlcHNbZV0uZGVwZW5kKCl9LGZuLnByb3RvdHlwZS50ZWFyZG93bj1mdW5jdGlvbigpe2lmKHRoaXMuYWN0aXZlKXt0aGlzLnZtLl9pc0JlaW5nRGVzdHJveWVkfHxoKHRoaXMudm0uX3dhdGNoZXJzLHRoaXMpO2Zvcih2YXIgZT10aGlzLmRlcHMubGVuZ3RoO2UtLTspdGhpcy5kZXBzW2VdLnJlbW92ZVN1Yih0aGlzKTt0aGlzLmFjdGl2ZT0hMX19O3ZhciBwbj17ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OlMsc2V0OlN9O2Z1bmN0aW9uIGRuKGUsdCxuKXtwbi5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1t0XVtuXX0scG4uc2V0PWZ1bmN0aW9uKGUpe3RoaXNbdF1bbl09ZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbixwbil9ZnVuY3Rpb24gdm4oZSl7ZS5fd2F0Y2hlcnM9W107dmFyIHQ9ZS4kb3B0aW9uczt0LnByb3BzJiZmdW5jdGlvbihlLHQpe3ZhciBuPWUuJG9wdGlvbnMucHJvcHNEYXRhfHx7fSxyPWUuX3Byb3BzPXt9LGk9ZS4kb3B0aW9ucy5fcHJvcEtleXM9W107ZS4kcGFyZW50JiYkZSghMSk7dmFyIG89ZnVuY3Rpb24obyl7aS5wdXNoKG8pO3ZhciBhPU1lKG8sdCxuLGUpO3hlKHIsbyxhKSxvIGluIGV8fGRuKGUsIl9wcm9wcyIsbyl9O2Zvcih2YXIgYSBpbiB0KW8oYSk7JGUoITApfShlLHQucHJvcHMpLHQubWV0aG9kcyYmZnVuY3Rpb24oZSx0KXtlLiRvcHRpb25zLnByb3BzO2Zvcih2YXIgbiBpbiB0KWVbbl09ImZ1bmN0aW9uIiE9dHlwZW9mIHRbbl0/Uzp4KHRbbl0sZSl9KGUsdC5tZXRob2RzKSx0LmRhdGE/ZnVuY3Rpb24oZSl7dmFyIHQ9ZS4kb3B0aW9ucy5kYXRhO3ModD1lLl9kYXRhPSJmdW5jdGlvbiI9PXR5cGVvZiB0P2Z1bmN0aW9uKGUsdCl7bGUoKTt0cnl7cmV0dXJuIGUuY2FsbCh0LHQpfWNhdGNoKGUpe3JldHVybiBSZShlLHQsImRhdGEoKSIpLHt9fWZpbmFsbHl7ZmUoKX19KHQsZSk6dHx8e30pfHwodD17fSk7dmFyIG49T2JqZWN0LmtleXModCkscj1lLiRvcHRpb25zLnByb3BzLGk9KGUuJG9wdGlvbnMubWV0aG9kcyxuLmxlbmd0aCk7Zm9yKDtpLS07KXt2YXIgbz1uW2ldO3ImJnkocixvKXx8KGE9dm9pZCAwLDM2IT09KGE9KG8rIiIpLmNoYXJDb2RlQXQoMCkpJiY5NSE9PWEmJmRuKGUsIl9kYXRhIixvKSl9dmFyIGE7Q2UodCwhMCl9KGUpOkNlKGUuX2RhdGE9e30sITApLHQuY29tcHV0ZWQmJmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5fY29tcHV0ZWRXYXRjaGVycz1PYmplY3QuY3JlYXRlKG51bGwpLHI9dGUoKTtmb3IodmFyIGkgaW4gdCl7dmFyIG89dFtpXSxhPSJmdW5jdGlvbiI9PXR5cGVvZiBvP286by5nZXQ7cnx8KG5baV09bmV3IGZuKGUsYXx8UyxTLGhuKSksaSBpbiBlfHxtbihlLGksbyl9fShlLHQuY29tcHV0ZWQpLHQud2F0Y2gmJnQud2F0Y2ghPT1ZJiZmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KXt2YXIgcj10W25dO2lmKEFycmF5LmlzQXJyYXkocikpZm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspX24oZSxuLHJbaV0pO2Vsc2UgX24oZSxuLHIpfX0oZSx0LndhdGNoKX12YXIgaG49e2xhenk6ITB9O2Z1bmN0aW9uIG1uKGUsdCxuKXt2YXIgcj0hdGUoKTsiZnVuY3Rpb24iPT10eXBlb2Ygbj8ocG4uZ2V0PXI/eW4odCk6Z24obikscG4uc2V0PVMpOihwbi5nZXQ9bi5nZXQ/ciYmITEhPT1uLmNhY2hlP3luKHQpOmduKG4uZ2V0KTpTLHBuLnNldD1uLnNldHx8UyksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxwbil9ZnVuY3Rpb24geW4oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29tcHV0ZWRXYXRjaGVycyYmdGhpcy5fY29tcHV0ZWRXYXRjaGVyc1tlXTtpZih0KXJldHVybiB0LmRpcnR5JiZ0LmV2YWx1YXRlKCksY2UudGFyZ2V0JiZ0LmRlcGVuZCgpLHQudmFsdWV9fWZ1bmN0aW9uIGduKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodGhpcyx0aGlzKX19ZnVuY3Rpb24gX24oZSx0LG4scil7cmV0dXJuIHMobikmJihyPW4sbj1uLmhhbmRsZXIpLCJzdHJpbmciPT10eXBlb2YgbiYmKG49ZVtuXSksZS4kd2F0Y2godCxuLHIpfXZhciBibj0wO2Z1bmN0aW9uICRuKGUpe3ZhciB0PWUub3B0aW9ucztpZihlLnN1cGVyKXt2YXIgbj0kbihlLnN1cGVyKTtpZihuIT09ZS5zdXBlck9wdGlvbnMpe2Uuc3VwZXJPcHRpb25zPW47dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLm9wdGlvbnMscj1lLnNlYWxlZE9wdGlvbnM7Zm9yKHZhciBpIGluIG4pbltpXSE9PXJbaV0mJih0fHwodD17fSksdFtpXT1uW2ldKTtyZXR1cm4gdH0oZSk7ciYmQShlLmV4dGVuZE9wdGlvbnMsciksKHQ9ZS5vcHRpb25zPURlKG4sZS5leHRlbmRPcHRpb25zKSkubmFtZSYmKHQuY29tcG9uZW50c1t0Lm5hbWVdPWUpfX1yZXR1cm4gdH1mdW5jdGlvbiB3bihlKXt0aGlzLl9pbml0KGUpfWZ1bmN0aW9uIENuKGUpe2UuY2lkPTA7dmFyIHQ9MTtlLmV4dGVuZD1mdW5jdGlvbihlKXtlPWV8fHt9O3ZhciBuPXRoaXMscj1uLmNpZCxpPWUuX0N0b3J8fChlLl9DdG9yPXt9KTtpZihpW3JdKXJldHVybiBpW3JdO3ZhciBvPWUubmFtZXx8bi5vcHRpb25zLm5hbWUsYT1mdW5jdGlvbihlKXt0aGlzLl9pbml0KGUpfTtyZXR1cm4oYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWEsYS5jaWQ9dCsrLGEub3B0aW9ucz1EZShuLm9wdGlvbnMsZSksYS5zdXBlcj1uLGEub3B0aW9ucy5wcm9wcyYmZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vcHRpb25zLnByb3BzO2Zvcih2YXIgbiBpbiB0KWRuKGUucHJvdG90eXBlLCJfcHJvcHMiLG4pfShhKSxhLm9wdGlvbnMuY29tcHV0ZWQmJmZ1bmN0aW9uKGUpe3ZhciB0PWUub3B0aW9ucy5jb21wdXRlZDtmb3IodmFyIG4gaW4gdCltbihlLnByb3RvdHlwZSxuLHRbbl0pfShhKSxhLmV4dGVuZD1uLmV4dGVuZCxhLm1peGluPW4ubWl4aW4sYS51c2U9bi51c2UsTS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV09bltlXX0pLG8mJihhLm9wdGlvbnMuY29tcG9uZW50c1tvXT1hKSxhLnN1cGVyT3B0aW9ucz1uLm9wdGlvbnMsYS5leHRlbmRPcHRpb25zPWUsYS5zZWFsZWRPcHRpb25zPUEoe30sYS5vcHRpb25zKSxpW3JdPWEsYX19ZnVuY3Rpb24geG4oZSl7cmV0dXJuIGUmJihlLkN0b3Iub3B0aW9ucy5uYW1lfHxlLnRhZyl9ZnVuY3Rpb24ga24oZSx0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLmluZGV4T2YodCk+LTE6InN0cmluZyI9PXR5cGVvZiBlP2Uuc3BsaXQoIiwiKS5pbmRleE9mKHQpPi0xOihuPWUsIltvYmplY3QgUmVnRXhwXSI9PT1hLmNhbGwobikmJmUudGVzdCh0KSk7dmFyIG59ZnVuY3Rpb24gQW4oZSx0KXt2YXIgbj1lLmNhY2hlLHI9ZS5rZXlzLGk9ZS5fdm5vZGU7Zm9yKHZhciBvIGluIG4pe3ZhciBhPW5bb107aWYoYSl7dmFyIHM9eG4oYS5jb21wb25lbnRPcHRpb25zKTtzJiYhdChzKSYmT24obixvLHIsaSl9fX1mdW5jdGlvbiBPbihlLHQsbixyKXt2YXIgaT1lW3RdOyFpfHxyJiZpLnRhZz09PXIudGFnfHxpLmNvbXBvbmVudEluc3RhbmNlLiRkZXN0cm95KCksZVt0XT1udWxsLGgobix0KX0hZnVuY3Rpb24odCl7dC5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpcztuLl91aWQ9Ym4rKyxuLl9pc1Z1ZT0hMCx0JiZ0Ll9pc0NvbXBvbmVudD9mdW5jdGlvbihlLHQpe3ZhciBuPWUuJG9wdGlvbnM9T2JqZWN0LmNyZWF0ZShlLmNvbnN0cnVjdG9yLm9wdGlvbnMpLHI9dC5fcGFyZW50Vm5vZGU7bi5wYXJlbnQ9dC5wYXJlbnQsbi5fcGFyZW50Vm5vZGU9cjt2YXIgaT1yLmNvbXBvbmVudE9wdGlvbnM7bi5wcm9wc0RhdGE9aS5wcm9wc0RhdGEsbi5fcGFyZW50TGlzdGVuZXJzPWkubGlzdGVuZXJzLG4uX3JlbmRlckNoaWxkcmVuPWkuY2hpbGRyZW4sbi5fY29tcG9uZW50VGFnPWkudGFnLHQucmVuZGVyJiYobi5yZW5kZXI9dC5yZW5kZXIsbi5zdGF0aWNSZW5kZXJGbnM9dC5zdGF0aWNSZW5kZXJGbnMpfShuLHQpOm4uJG9wdGlvbnM9RGUoJG4obi5jb25zdHJ1Y3RvciksdHx8e30sbiksbi5fcmVuZGVyUHJveHk9bixuLl9zZWxmPW4sZnVuY3Rpb24oZSl7dmFyIHQ9ZS4kb3B0aW9ucyxuPXQucGFyZW50O2lmKG4mJiF0LmFic3RyYWN0KXtmb3IoO24uJG9wdGlvbnMuYWJzdHJhY3QmJm4uJHBhcmVudDspbj1uLiRwYXJlbnQ7bi4kY2hpbGRyZW4ucHVzaChlKX1lLiRwYXJlbnQ9bixlLiRyb290PW4/bi4kcm9vdDplLGUuJGNoaWxkcmVuPVtdLGUuJHJlZnM9e30sZS5fd2F0Y2hlcj1udWxsLGUuX2luYWN0aXZlPW51bGwsZS5fZGlyZWN0SW5hY3RpdmU9ITEsZS5faXNNb3VudGVkPSExLGUuX2lzRGVzdHJveWVkPSExLGUuX2lzQmVpbmdEZXN0cm95ZWQ9ITF9KG4pLGZ1bmN0aW9uKGUpe2UuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLGUuX2hhc0hvb2tFdmVudD0hMTt2YXIgdD1lLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7dCYmcXQoZSx0KX0obiksZnVuY3Rpb24odCl7dC5fdm5vZGU9bnVsbCx0Ll9zdGF0aWNUcmVlcz1udWxsO3ZhciBuPXQuJG9wdGlvbnMscj10LiR2bm9kZT1uLl9wYXJlbnRWbm9kZSxpPXImJnIuY29udGV4dDt0LiRzbG90cz11dChuLl9yZW5kZXJDaGlsZHJlbixpKSx0LiRzY29wZWRTbG90cz1lLHQuX2M9ZnVuY3Rpb24oZSxuLHIsaSl7cmV0dXJuIFB0KHQsZSxuLHIsaSwhMSl9LHQuJGNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oZSxuLHIsaSl7cmV0dXJuIFB0KHQsZSxuLHIsaSwhMCl9O3ZhciBvPXImJnIuZGF0YTt4ZSh0LCIkYXR0cnMiLG8mJm8uYXR0cnN8fGUsbnVsbCwhMCkseGUodCwiJGxpc3RlbmVycyIsbi5fcGFyZW50TGlzdGVuZXJzfHxlLG51bGwsITApfShuKSxZdChuLCJiZWZvcmVDcmVhdGUiKSxmdW5jdGlvbihlKXt2YXIgdD1jdChlLiRvcHRpb25zLmluamVjdCxlKTt0JiYoJGUoITEpLE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24obil7eGUoZSxuLHRbbl0pfSksJGUoITApKX0obiksdm4obiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS4kb3B0aW9ucy5wcm92aWRlO3QmJihlLl9wcm92aWRlZD0iZnVuY3Rpb24iPT10eXBlb2YgdD90LmNhbGwoZSk6dCl9KG4pLFl0KG4sImNyZWF0ZWQiKSxuLiRvcHRpb25zLmVsJiZuLiRtb3VudChuLiRvcHRpb25zLmVsKX19KHduKSxmdW5jdGlvbihlKXt2YXIgdD17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9fSxuPXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvcHN9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIiRkYXRhIix0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIiRwcm9wcyIsbiksZS5wcm90b3R5cGUuJHNldD1rZSxlLnByb3RvdHlwZS4kZGVsZXRlPUFlLGUucHJvdG90eXBlLiR3YXRjaD1mdW5jdGlvbihlLHQsbil7aWYocyh0KSlyZXR1cm4gX24odGhpcyxlLHQsbik7KG49bnx8e30pLnVzZXI9ITA7dmFyIHI9bmV3IGZuKHRoaXMsZSx0LG4pO2lmKG4uaW1tZWRpYXRlKXRyeXt0LmNhbGwodGhpcyxyLnZhbHVlKX1jYXRjaChlKXtSZShlLHRoaXMsJ2NhbGxiYWNrIGZvciBpbW1lZGlhdGUgd2F0Y2hlciAiJytyLmV4cHJlc3Npb24rJyInKX1yZXR1cm4gZnVuY3Rpb24oKXtyLnRlYXJkb3duKCl9fX0od24pLGZ1bmN0aW9uKGUpe3ZhciB0PS9eaG9vazovO2UucHJvdG90eXBlLiRvbj1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIGk9MCxvPWUubGVuZ3RoO2k8bztpKyspci4kb24oZVtpXSxuKTtlbHNlKHIuX2V2ZW50c1tlXXx8KHIuX2V2ZW50c1tlXT1bXSkpLnB1c2gobiksdC50ZXN0KGUpJiYoci5faGFzSG9va0V2ZW50PSEwKTtyZXR1cm4gcn0sZS5wcm90b3R5cGUuJG9uY2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2Z1bmN0aW9uIHIoKXtuLiRvZmYoZSxyKSx0LmFwcGx5KG4sYXJndW1lbnRzKX1yZXR1cm4gci5mbj10LG4uJG9uKGUsciksbn0sZS5wcm90b3R5cGUuJG9mZj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG4uX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLG47aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciByPTAsaT1lLmxlbmd0aDtyPGk7cisrKW4uJG9mZihlW3JdLHQpO3JldHVybiBufXZhciBvLGE9bi5fZXZlbnRzW2VdO2lmKCFhKXJldHVybiBuO2lmKCF0KXJldHVybiBuLl9ldmVudHNbZV09bnVsbCxuO2Zvcih2YXIgcz1hLmxlbmd0aDtzLS07KWlmKChvPWFbc10pPT09dHx8by5mbj09PXQpe2Euc3BsaWNlKHMsMSk7YnJlYWt9cmV0dXJuIG59LGUucHJvdG90eXBlLiRlbWl0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2V2ZW50c1tlXTtpZih0KXt0PXQubGVuZ3RoPjE/ayh0KTp0O2Zvcih2YXIgbj1rKGFyZ3VtZW50cywxKSxyPSdldmVudCBoYW5kbGVyIGZvciAiJytlKyciJyxpPTAsbz10Lmxlbmd0aDtpPG87aSsrKUhlKHRbaV0sdGhpcyxuLHRoaXMscil9cmV0dXJuIHRoaXN9fSh3biksZnVuY3Rpb24oZSl7ZS5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMscj1uLiRlbCxpPW4uX3Zub2RlLG89WnQobik7bi5fdm5vZGU9ZSxuLiRlbD1pP24uX19wYXRjaF9fKGksZSk6bi5fX3BhdGNoX18obi4kZWwsZSx0LCExKSxvKCksciYmKHIuX192dWVfXz1udWxsKSxuLiRlbCYmKG4uJGVsLl9fdnVlX189biksbi4kdm5vZGUmJm4uJHBhcmVudCYmbi4kdm5vZGU9PT1uLiRwYXJlbnQuX3Zub2RlJiYobi4kcGFyZW50LiRlbD1uLiRlbCl9LGUucHJvdG90eXBlLiRmb3JjZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX3dhdGNoZXImJnRoaXMuX3dhdGNoZXIudXBkYXRlKCl9LGUucHJvdG90eXBlLiRkZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighZS5faXNCZWluZ0Rlc3Ryb3llZCl7WXQoZSwiYmVmb3JlRGVzdHJveSIpLGUuX2lzQmVpbmdEZXN0cm95ZWQ9ITA7dmFyIHQ9ZS4kcGFyZW50OyF0fHx0Ll9pc0JlaW5nRGVzdHJveWVkfHxlLiRvcHRpb25zLmFic3RyYWN0fHxoKHQuJGNoaWxkcmVuLGUpLGUuX3dhdGNoZXImJmUuX3dhdGNoZXIudGVhcmRvd24oKTtmb3IodmFyIG49ZS5fd2F0Y2hlcnMubGVuZ3RoO24tLTspZS5fd2F0Y2hlcnNbbl0udGVhcmRvd24oKTtlLl9kYXRhLl9fb2JfXyYmZS5fZGF0YS5fX29iX18udm1Db3VudC0tLGUuX2lzRGVzdHJveWVkPSEwLGUuX19wYXRjaF9fKGUuX3Zub2RlLG51bGwpLFl0KGUsImRlc3Ryb3llZCIpLGUuJG9mZigpLGUuJGVsJiYoZS4kZWwuX192dWVfXz1udWxsKSxlLiR2bm9kZSYmKGUuJHZub2RlLnBhcmVudD1udWxsKX19fSh3biksZnVuY3Rpb24oZSl7U3QoZS5wcm90b3R5cGUpLGUucHJvdG90eXBlLiRuZXh0VGljaz1mdW5jdGlvbihlKXtyZXR1cm4gWWUoZSx0aGlzKX0sZS5wcm90b3R5cGUuX3JlbmRlcj1mdW5jdGlvbigpe3ZhciBlLHQ9dGhpcyxuPXQuJG9wdGlvbnMscj1uLnJlbmRlcixpPW4uX3BhcmVudFZub2RlO2kmJih0LiRzY29wZWRTbG90cz1mdChpLmRhdGEuc2NvcGVkU2xvdHMsdC4kc2xvdHMsdC4kc2NvcGVkU2xvdHMpKSx0LiR2bm9kZT1pO3RyeXtIdD10LGU9ci5jYWxsKHQuX3JlbmRlclByb3h5LHQuJGNyZWF0ZUVsZW1lbnQpfWNhdGNoKG4pe1JlKG4sdCwicmVuZGVyIiksZT10Ll92bm9kZX1maW5hbGx5e0h0PW51bGx9cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJjE9PT1lLmxlbmd0aCYmKGU9ZVswXSksZSBpbnN0YW5jZW9mIHBlfHwoZT12ZSgpKSxlLnBhcmVudD1pLGV9fSh3bik7dmFyIFNuPVtTdHJpbmcsUmVnRXhwLEFycmF5XSxUbj17S2VlcEFsaXZlOntuYW1lOiJrZWVwLWFsaXZlIixhYnN0cmFjdDohMCxwcm9wczp7aW5jbHVkZTpTbixleGNsdWRlOlNuLG1heDpbU3RyaW5nLE51bWJlcl19LGNyZWF0ZWQ6ZnVuY3Rpb24oKXt0aGlzLmNhY2hlPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5rZXlzPVtdfSxkZXN0cm95ZWQ6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5jYWNoZSlPbih0aGlzLmNhY2hlLGUsdGhpcy5rZXlzKX0sbW91bnRlZDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy4kd2F0Y2goImluY2x1ZGUiLGZ1bmN0aW9uKHQpe0FuKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGtuKHQsZSl9KX0pLHRoaXMuJHdhdGNoKCJleGNsdWRlIixmdW5jdGlvbih0KXtBbihlLGZ1bmN0aW9uKGUpe3JldHVybiFrbih0LGUpfSl9KX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy4kc2xvdHMuZGVmYXVsdCx0PXp0KGUpLG49dCYmdC5jb21wb25lbnRPcHRpb25zO2lmKG4pe3ZhciByPXhuKG4pLGk9dGhpcy5pbmNsdWRlLG89dGhpcy5leGNsdWRlO2lmKGkmJighcnx8IWtuKGkscikpfHxvJiZyJiZrbihvLHIpKXJldHVybiB0O3ZhciBhPXRoaXMuY2FjaGUscz10aGlzLmtleXMsYz1udWxsPT10LmtleT9uLkN0b3IuY2lkKyhuLnRhZz8iOjoiK24udGFnOiIiKTp0LmtleTthW2NdPyh0LmNvbXBvbmVudEluc3RhbmNlPWFbY10uY29tcG9uZW50SW5zdGFuY2UsaChzLGMpLHMucHVzaChjKSk6KGFbY109dCxzLnB1c2goYyksdGhpcy5tYXgmJnMubGVuZ3RoPnBhcnNlSW50KHRoaXMubWF4KSYmT24oYSxzWzBdLHMsdGhpcy5fdm5vZGUpKSx0LmRhdGEua2VlcEFsaXZlPSEwfXJldHVybiB0fHxlJiZlWzBdfX19OyFmdW5jdGlvbihlKXt2YXIgdD17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEZ9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiY29uZmlnIix0KSxlLnV0aWw9e3dhcm46YWUsZXh0ZW5kOkEsbWVyZ2VPcHRpb25zOkRlLGRlZmluZVJlYWN0aXZlOnhlfSxlLnNldD1rZSxlLmRlbGV0ZT1BZSxlLm5leHRUaWNrPVllLGUub2JzZXJ2YWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gQ2UoZSksZX0sZS5vcHRpb25zPU9iamVjdC5jcmVhdGUobnVsbCksTS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Uub3B0aW9uc1t0KyJzIl09T2JqZWN0LmNyZWF0ZShudWxsKX0pLGUub3B0aW9ucy5fYmFzZT1lLEEoZS5vcHRpb25zLmNvbXBvbmVudHMsVG4pLGZ1bmN0aW9uKGUpe2UudXNlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2luc3RhbGxlZFBsdWdpbnN8fCh0aGlzLl9pbnN0YWxsZWRQbHVnaW5zPVtdKTtpZih0LmluZGV4T2YoZSk+LTEpcmV0dXJuIHRoaXM7dmFyIG49ayhhcmd1bWVudHMsMSk7cmV0dXJuIG4udW5zaGlmdCh0aGlzKSwiZnVuY3Rpb24iPT10eXBlb2YgZS5pbnN0YWxsP2UuaW5zdGFsbC5hcHBseShlLG4pOiJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmFwcGx5KG51bGwsbiksdC5wdXNoKGUpLHRoaXN9fShlKSxmdW5jdGlvbihlKXtlLm1peGluPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9wdGlvbnM9RGUodGhpcy5vcHRpb25zLGUpLHRoaXN9fShlKSxDbihlKSxmdW5jdGlvbihlKXtNLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0XT1mdW5jdGlvbihlLG4pe3JldHVybiBuPygiY29tcG9uZW50Ij09PXQmJnMobikmJihuLm5hbWU9bi5uYW1lfHxlLG49dGhpcy5vcHRpb25zLl9iYXNlLmV4dGVuZChuKSksImRpcmVjdGl2ZSI9PT10JiYiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49e2JpbmQ6bix1cGRhdGU6bn0pLHRoaXMub3B0aW9uc1t0KyJzIl1bZV09bixuKTp0aGlzLm9wdGlvbnNbdCsicyJdW2VdfX0pfShlKX0od24pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3bi5wcm90b3R5cGUsIiRpc1NlcnZlciIse2dldDp0ZX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3bi5wcm90b3R5cGUsIiRzc3JDb250ZXh0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHZub2RlJiZ0aGlzLiR2bm9kZS5zc3JDb250ZXh0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3biwiRnVuY3Rpb25hbFJlbmRlckNvbnRleHQiLHt2YWx1ZTpUdH0pLHduLnZlcnNpb249IjIuNi4xMSI7dmFyIEVuPXAoInN0eWxlLGNsYXNzIiksTm49cCgiaW5wdXQsdGV4dGFyZWEsb3B0aW9uLHNlbGVjdCxwcm9ncmVzcyIpLGpuPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4idmFsdWUiPT09biYmTm4oZSkmJiJidXR0b24iIT09dHx8InNlbGVjdGVkIj09PW4mJiJvcHRpb24iPT09ZXx8ImNoZWNrZWQiPT09biYmImlucHV0Ij09PWV8fCJtdXRlZCI9PT1uJiYidmlkZW8iPT09ZX0sRG49cCgiY29udGVudGVkaXRhYmxlLGRyYWdnYWJsZSxzcGVsbGNoZWNrIiksTG49cCgiZXZlbnRzLGNhcmV0LHR5cGluZyxwbGFpbnRleHQtb25seSIpLE1uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEhuKHQpfHwiZmFsc2UiPT09dD8iZmFsc2UiOiJjb250ZW50ZWRpdGFibGUiPT09ZSYmTG4odCk/dDoidHJ1ZSJ9LEluPXAoImFsbG93ZnVsbHNjcmVlbixhc3luYyxhdXRvZm9jdXMsYXV0b3BsYXksY2hlY2tlZCxjb21wYWN0LGNvbnRyb2xzLGRlY2xhcmUsZGVmYXVsdCxkZWZhdWx0Y2hlY2tlZCxkZWZhdWx0bXV0ZWQsZGVmYXVsdHNlbGVjdGVkLGRlZmVyLGRpc2FibGVkLGVuYWJsZWQsZm9ybW5vdmFsaWRhdGUsaGlkZGVuLGluZGV0ZXJtaW5hdGUsaW5lcnQsaXNtYXAsaXRlbXNjb3BlLGxvb3AsbXVsdGlwbGUsbXV0ZWQsbm9ocmVmLG5vcmVzaXplLG5vc2hhZGUsbm92YWxpZGF0ZSxub3dyYXAsb3BlbixwYXVzZW9uZXhpdCxyZWFkb25seSxyZXF1aXJlZCxyZXZlcnNlZCxzY29wZWQsc2VhbWxlc3Msc2VsZWN0ZWQsc29ydGFibGUsdHJhbnNsYXRlLHRydWVzcGVlZCx0eXBlbXVzdG1hdGNoLHZpc2libGUiKSxGbj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsUG49ZnVuY3Rpb24oZSl7cmV0dXJuIjoiPT09ZS5jaGFyQXQoNSkmJiJ4bGluayI9PT1lLnNsaWNlKDAsNSl9LFJuPWZ1bmN0aW9uKGUpe3JldHVybiBQbihlKT9lLnNsaWNlKDYsZS5sZW5ndGgpOiIifSxIbj1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZXx8ITE9PT1lfTtmdW5jdGlvbiBCbihlKXtmb3IodmFyIHQ9ZS5kYXRhLHI9ZSxpPWU7bihpLmNvbXBvbmVudEluc3RhbmNlKTspKGk9aS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUpJiZpLmRhdGEmJih0PVVuKGkuZGF0YSx0KSk7Zm9yKDtuKHI9ci5wYXJlbnQpOylyJiZyLmRhdGEmJih0PVVuKHQsci5kYXRhKSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYobihlKXx8bih0KSlyZXR1cm4gem4oZSxWbih0KSk7cmV0dXJuIiJ9KHQuc3RhdGljQ2xhc3MsdC5jbGFzcyl9ZnVuY3Rpb24gVW4oZSx0KXtyZXR1cm57c3RhdGljQ2xhc3M6em4oZS5zdGF0aWNDbGFzcyx0LnN0YXRpY0NsYXNzKSxjbGFzczpuKGUuY2xhc3MpP1tlLmNsYXNzLHQuY2xhc3NdOnQuY2xhc3N9fWZ1bmN0aW9uIHpuKGUsdCl7cmV0dXJuIGU/dD9lKyIgIit0OmU6dHx8IiJ9ZnVuY3Rpb24gVm4oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9IiIsaT0wLG89ZS5sZW5ndGg7aTxvO2krKyluKHQ9Vm4oZVtpXSkpJiYiIiE9PXQmJihyJiYocis9IiAiKSxyKz10KTtyZXR1cm4gcn0oZSk6byhlKT9mdW5jdGlvbihlKXt2YXIgdD0iIjtmb3IodmFyIG4gaW4gZSllW25dJiYodCYmKHQrPSIgIiksdCs9bik7cmV0dXJuIHR9KGUpOiJzdHJpbmciPT10eXBlb2YgZT9lOiIifXZhciBLbj17c3ZnOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsbWF0aDoiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCJ9LEpuPXAoImh0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLGFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsaGVhZGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhncm91cCxuYXYsc2VjdGlvbixkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbixmaWd1cmUscGljdHVyZSxocixpbWcsbGksbWFpbixvbCxwLHByZSx1bCxhLGIsYWJicixiZGksYmRvLGJyLGNpdGUsY29kZSxkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnRjLHJ1YnkscyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSxjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsdGgsdHIsYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbixvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLGRldGFpbHMsZGlhbG9nLG1lbnUsbWVudWl0ZW0sc3VtbWFyeSxjb250ZW50LGVsZW1lbnQsc2hhZG93LHRlbXBsYXRlLGJsb2NrcXVvdGUsaWZyYW1lLHRmb290IikscW49cCgic3ZnLGFuaW1hdGUsY2lyY2xlLGNsaXBwYXRoLGN1cnNvcixkZWZzLGRlc2MsZWxsaXBzZSxmaWx0ZXIsZm9udC1mYWNlLGZvcmVpZ25PYmplY3QsZyxnbHlwaCxpbWFnZSxsaW5lLG1hcmtlcixtYXNrLG1pc3NpbmctZ2x5cGgscGF0aCxwYXR0ZXJuLHBvbHlnb24scG9seWxpbmUscmVjdCxzd2l0Y2gsc3ltYm9sLHRleHQsdGV4dHBhdGgsdHNwYW4sdXNlLHZpZXciLCEwKSxXbj1mdW5jdGlvbihlKXtyZXR1cm4gSm4oZSl8fHFuKGUpfTtmdW5jdGlvbiBabihlKXtyZXR1cm4gcW4oZSk/InN2ZyI6Im1hdGgiPT09ZT8ibWF0aCI6dm9pZCAwfXZhciBHbj1PYmplY3QuY3JlYXRlKG51bGwpO3ZhciBYbj1wKCJ0ZXh0LG51bWJlcixwYXNzd29yZCxzZWFyY2gsZW1haWwsdGVsLHVybCIpO2Z1bmN0aW9uIFluKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7dmFyIHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTtyZXR1cm4gdHx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iil9cmV0dXJuIGV9dmFyIFFuPU9iamVjdC5mcmVlemUoe2NyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO3JldHVybiJzZWxlY3QiIT09ZT9uOih0LmRhdGEmJnQuZGF0YS5hdHRycyYmdm9pZCAwIT09dC5kYXRhLmF0dHJzLm11bHRpcGxlJiZuLnNldEF0dHJpYnV0ZSgibXVsdGlwbGUiLCJtdWx0aXBsZSIpLG4pfSxjcmVhdGVFbGVtZW50TlM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKEtuW2VdLHQpfSxjcmVhdGVUZXh0Tm9kZTpmdW5jdGlvbihlKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSl9LGNyZWF0ZUNvbW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoZSl9LGluc2VydEJlZm9yZTpmdW5jdGlvbihlLHQsbil7ZS5pbnNlcnRCZWZvcmUodCxuKX0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24oZSx0KXtlLnJlbW92ZUNoaWxkKHQpfSxhcHBlbmRDaGlsZDpmdW5jdGlvbihlLHQpe2UuYXBwZW5kQ2hpbGQodCl9LHBhcmVudE5vZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZX0sbmV4dFNpYmxpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubmV4dFNpYmxpbmd9LHRhZ05hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudGFnTmFtZX0sc2V0VGV4dENvbnRlbnQ6ZnVuY3Rpb24oZSx0KXtlLnRleHRDb250ZW50PXR9LHNldFN0eWxlU2NvcGU6ZnVuY3Rpb24oZSx0KXtlLnNldEF0dHJpYnV0ZSh0LCIiKX19KSxlcj17Y3JlYXRlOmZ1bmN0aW9uKGUsdCl7dHIodCl9LHVwZGF0ZTpmdW5jdGlvbihlLHQpe2UuZGF0YS5yZWYhPT10LmRhdGEucmVmJiYodHIoZSwhMCksdHIodCkpfSxkZXN0cm95OmZ1bmN0aW9uKGUpe3RyKGUsITApfX07ZnVuY3Rpb24gdHIoZSx0KXt2YXIgcj1lLmRhdGEucmVmO2lmKG4ocikpe3ZhciBpPWUuY29udGV4dCxvPWUuY29tcG9uZW50SW5zdGFuY2V8fGUuZWxtLGE9aS4kcmVmczt0P0FycmF5LmlzQXJyYXkoYVtyXSk/aChhW3JdLG8pOmFbcl09PT1vJiYoYVtyXT12b2lkIDApOmUuZGF0YS5yZWZJbkZvcj9BcnJheS5pc0FycmF5KGFbcl0pP2Fbcl0uaW5kZXhPZihvKTwwJiZhW3JdLnB1c2gobyk6YVtyXT1bb106YVtyXT1vfX12YXIgbnI9bmV3IHBlKCIiLHt9LFtdKSxycj1bImNyZWF0ZSIsImFjdGl2YXRlIiwidXBkYXRlIiwicmVtb3ZlIiwiZGVzdHJveSJdO2Z1bmN0aW9uIGlyKGUsaSl7cmV0dXJuIGUua2V5PT09aS5rZXkmJihlLnRhZz09PWkudGFnJiZlLmlzQ29tbWVudD09PWkuaXNDb21tZW50JiZuKGUuZGF0YSk9PT1uKGkuZGF0YSkmJmZ1bmN0aW9uKGUsdCl7aWYoImlucHV0IiE9PWUudGFnKXJldHVybiEwO3ZhciByLGk9bihyPWUuZGF0YSkmJm4ocj1yLmF0dHJzKSYmci50eXBlLG89bihyPXQuZGF0YSkmJm4ocj1yLmF0dHJzKSYmci50eXBlO3JldHVybiBpPT09b3x8WG4oaSkmJlhuKG8pfShlLGkpfHxyKGUuaXNBc3luY1BsYWNlaG9sZGVyKSYmZS5hc3luY0ZhY3Rvcnk9PT1pLmFzeW5jRmFjdG9yeSYmdChpLmFzeW5jRmFjdG9yeS5lcnJvcikpfWZ1bmN0aW9uIG9yKGUsdCxyKXt2YXIgaSxvLGE9e307Zm9yKGk9dDtpPD1yOysraSluKG89ZVtpXS5rZXkpJiYoYVtvXT1pKTtyZXR1cm4gYX12YXIgYXI9e2NyZWF0ZTpzcix1cGRhdGU6c3IsZGVzdHJveTpmdW5jdGlvbihlKXtzcihlLG5yKX19O2Z1bmN0aW9uIHNyKGUsdCl7KGUuZGF0YS5kaXJlY3RpdmVzfHx0LmRhdGEuZGlyZWN0aXZlcykmJmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG89ZT09PW5yLGE9dD09PW5yLHM9dXIoZS5kYXRhLmRpcmVjdGl2ZXMsZS5jb250ZXh0KSxjPXVyKHQuZGF0YS5kaXJlY3RpdmVzLHQuY29udGV4dCksdT1bXSxsPVtdO2ZvcihuIGluIGMpcj1zW25dLGk9Y1tuXSxyPyhpLm9sZFZhbHVlPXIudmFsdWUsaS5vbGRBcmc9ci5hcmcsZnIoaSwidXBkYXRlIix0LGUpLGkuZGVmJiZpLmRlZi5jb21wb25lbnRVcGRhdGVkJiZsLnB1c2goaSkpOihmcihpLCJiaW5kIix0LGUpLGkuZGVmJiZpLmRlZi5pbnNlcnRlZCYmdS5wdXNoKGkpKTtpZih1Lmxlbmd0aCl7dmFyIGY9ZnVuY3Rpb24oKXtmb3IodmFyIG49MDtuPHUubGVuZ3RoO24rKylmcih1W25dLCJpbnNlcnRlZCIsdCxlKX07bz9pdCh0LCJpbnNlcnQiLGYpOmYoKX1sLmxlbmd0aCYmaXQodCwicG9zdHBhdGNoIixmdW5jdGlvbigpe2Zvcih2YXIgbj0wO248bC5sZW5ndGg7bisrKWZyKGxbbl0sImNvbXBvbmVudFVwZGF0ZWQiLHQsZSl9KTtpZighbylmb3IobiBpbiBzKWNbbl18fGZyKHNbbl0sInVuYmluZCIsZSxlLGEpfShlLHQpfXZhciBjcj1PYmplY3QuY3JlYXRlKG51bGwpO2Z1bmN0aW9uIHVyKGUsdCl7dmFyIG4scixpPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoIWUpcmV0dXJuIGk7Zm9yKG49MDtuPGUubGVuZ3RoO24rKykocj1lW25dKS5tb2RpZmllcnN8fChyLm1vZGlmaWVycz1jciksaVtscihyKV09cixyLmRlZj1MZSh0LiRvcHRpb25zLCJkaXJlY3RpdmVzIixyLm5hbWUpO3JldHVybiBpfWZ1bmN0aW9uIGxyKGUpe3JldHVybiBlLnJhd05hbWV8fGUubmFtZSsiLiIrT2JqZWN0LmtleXMoZS5tb2RpZmllcnN8fHt9KS5qb2luKCIuIil9ZnVuY3Rpb24gZnIoZSx0LG4scixpKXt2YXIgbz1lLmRlZiYmZS5kZWZbdF07aWYobyl0cnl7byhuLmVsbSxlLG4scixpKX1jYXRjaChyKXtSZShyLG4uY29udGV4dCwiZGlyZWN0aXZlICIrZS5uYW1lKyIgIit0KyIgaG9vayIpfX12YXIgcHI9W2VyLGFyXTtmdW5jdGlvbiBkcihlLHIpe3ZhciBpPXIuY29tcG9uZW50T3B0aW9ucztpZighKG4oaSkmJiExPT09aS5DdG9yLm9wdGlvbnMuaW5oZXJpdEF0dHJzfHx0KGUuZGF0YS5hdHRycykmJnQoci5kYXRhLmF0dHJzKSkpe3ZhciBvLGEscz1yLmVsbSxjPWUuZGF0YS5hdHRyc3x8e30sdT1yLmRhdGEuYXR0cnN8fHt9O2ZvcihvIGluIG4odS5fX29iX18pJiYodT1yLmRhdGEuYXR0cnM9QSh7fSx1KSksdSlhPXVbb10sY1tvXSE9PWEmJnZyKHMsbyxhKTtmb3IobyBpbihxfHxaKSYmdS52YWx1ZSE9PWMudmFsdWUmJnZyKHMsInZhbHVlIix1LnZhbHVlKSxjKXQodVtvXSkmJihQbihvKT9zLnJlbW92ZUF0dHJpYnV0ZU5TKEZuLFJuKG8pKTpEbihvKXx8cy5yZW1vdmVBdHRyaWJ1dGUobykpfX1mdW5jdGlvbiB2cihlLHQsbil7ZS50YWdOYW1lLmluZGV4T2YoIi0iKT4tMT9ocihlLHQsbik6SW4odCk/SG4obik/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6KG49ImFsbG93ZnVsbHNjcmVlbiI9PT10JiYiRU1CRUQiPT09ZS50YWdOYW1lPyJ0cnVlIjp0LGUuc2V0QXR0cmlidXRlKHQsbikpOkRuKHQpP2Uuc2V0QXR0cmlidXRlKHQsTW4odCxuKSk6UG4odCk/SG4obik/ZS5yZW1vdmVBdHRyaWJ1dGVOUyhGbixSbih0KSk6ZS5zZXRBdHRyaWJ1dGVOUyhGbix0LG4pOmhyKGUsdCxuKX1mdW5jdGlvbiBocihlLHQsbil7aWYoSG4obikpZS5yZW1vdmVBdHRyaWJ1dGUodCk7ZWxzZXtpZihxJiYhVyYmIlRFWFRBUkVBIj09PWUudGFnTmFtZSYmInBsYWNlaG9sZGVyIj09PXQmJiIiIT09biYmIWUuX19pZXBoKXt2YXIgcj1mdW5jdGlvbih0KXt0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigiaW5wdXQiLHIpfTtlLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IixyKSxlLl9faWVwaD0hMH1lLnNldEF0dHJpYnV0ZSh0LG4pfX12YXIgbXI9e2NyZWF0ZTpkcix1cGRhdGU6ZHJ9O2Z1bmN0aW9uIHlyKGUscil7dmFyIGk9ci5lbG0sbz1yLmRhdGEsYT1lLmRhdGE7aWYoISh0KG8uc3RhdGljQ2xhc3MpJiZ0KG8uY2xhc3MpJiYodChhKXx8dChhLnN0YXRpY0NsYXNzKSYmdChhLmNsYXNzKSkpKXt2YXIgcz1CbihyKSxjPWkuX3RyYW5zaXRpb25DbGFzc2VzO24oYykmJihzPXpuKHMsVm4oYykpKSxzIT09aS5fcHJldkNsYXNzJiYoaS5zZXRBdHRyaWJ1dGUoImNsYXNzIixzKSxpLl9wcmV2Q2xhc3M9cyl9fXZhciBncixfcixiciwkcix3cixDcix4cj17Y3JlYXRlOnlyLHVwZGF0ZTp5cn0sa3I9L1tcdykuK1wtXyRcXV0vO2Z1bmN0aW9uIEFyKGUpe3ZhciB0LG4scixpLG8sYT0hMSxzPSExLGM9ITEsdT0hMSxsPTAsZj0wLHA9MCxkPTA7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKylpZihuPXQsdD1lLmNoYXJDb2RlQXQociksYSkzOT09PXQmJjkyIT09biYmKGE9ITEpO2Vsc2UgaWYocykzND09PXQmJjkyIT09biYmKHM9ITEpO2Vsc2UgaWYoYyk5Nj09PXQmJjkyIT09biYmKGM9ITEpO2Vsc2UgaWYodSk0Nz09PXQmJjkyIT09biYmKHU9ITEpO2Vsc2UgaWYoMTI0IT09dHx8MTI0PT09ZS5jaGFyQ29kZUF0KHIrMSl8fDEyND09PWUuY2hhckNvZGVBdChyLTEpfHxsfHxmfHxwKXtzd2l0Y2godCl7Y2FzZSAzNDpzPSEwO2JyZWFrO2Nhc2UgMzk6YT0hMDticmVhaztjYXNlIDk2OmM9ITA7YnJlYWs7Y2FzZSA0MDpwKys7YnJlYWs7Y2FzZSA0MTpwLS07YnJlYWs7Y2FzZSA5MTpmKys7YnJlYWs7Y2FzZSA5MzpmLS07YnJlYWs7Y2FzZSAxMjM6bCsrO2JyZWFrO2Nhc2UgMTI1OmwtLX1pZig0Nz09PXQpe2Zvcih2YXIgdj1yLTEsaD12b2lkIDA7dj49MCYmIiAiPT09KGg9ZS5jaGFyQXQodikpO3YtLSk7aCYma3IudGVzdChoKXx8KHU9ITApfX1lbHNlIHZvaWQgMD09PWk/KGQ9cisxLGk9ZS5zbGljZSgwLHIpLnRyaW0oKSk6bSgpO2Z1bmN0aW9uIG0oKXsob3x8KG89W10pKS5wdXNoKGUuc2xpY2UoZCxyKS50cmltKCkpLGQ9cisxfWlmKHZvaWQgMD09PWk/aT1lLnNsaWNlKDAscikudHJpbSgpOjAhPT1kJiZtKCksbylmb3Iocj0wO3I8by5sZW5ndGg7cisrKWk9T3IoaSxvW3JdKTtyZXR1cm4gaX1mdW5jdGlvbiBPcihlLHQpe3ZhciBuPXQuaW5kZXhPZigiKCIpO2lmKG48MClyZXR1cm4nX2YoIicrdCsnIikoJytlKyIpIjt2YXIgcj10LnNsaWNlKDAsbiksaT10LnNsaWNlKG4rMSk7cmV0dXJuJ19mKCInK3IrJyIpKCcrZSsoIikiIT09aT8iLCIraTppKX1mdW5jdGlvbiBTcihlLHQpe2NvbnNvbGUuZXJyb3IoIltWdWUgY29tcGlsZXJdOiAiK2UpfWZ1bmN0aW9uIFRyKGUsdCl7cmV0dXJuIGU/ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGVbdF19KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KTpbXX1mdW5jdGlvbiBFcihlLHQsbixyLGkpeyhlLnByb3BzfHwoZS5wcm9wcz1bXSkpLnB1c2goUnIoe25hbWU6dCx2YWx1ZTpuLGR5bmFtaWM6aX0scikpLGUucGxhaW49ITF9ZnVuY3Rpb24gTnIoZSx0LG4scixpKXsoaT9lLmR5bmFtaWNBdHRyc3x8KGUuZHluYW1pY0F0dHJzPVtdKTplLmF0dHJzfHwoZS5hdHRycz1bXSkpLnB1c2goUnIoe25hbWU6dCx2YWx1ZTpuLGR5bmFtaWM6aX0scikpLGUucGxhaW49ITF9ZnVuY3Rpb24ganIoZSx0LG4scil7ZS5hdHRyc01hcFt0XT1uLGUuYXR0cnNMaXN0LnB1c2goUnIoe25hbWU6dCx2YWx1ZTpufSxyKSl9ZnVuY3Rpb24gRHIoZSx0LG4scixpLG8sYSxzKXsoZS5kaXJlY3RpdmVzfHwoZS5kaXJlY3RpdmVzPVtdKSkucHVzaChScih7bmFtZTp0LHJhd05hbWU6bix2YWx1ZTpyLGFyZzppLGlzRHluYW1pY0FyZzpvLG1vZGlmaWVyczphfSxzKSksZS5wbGFpbj0hMX1mdW5jdGlvbiBMcihlLHQsbil7cmV0dXJuIG4/Il9wKCIrdCsnLCInK2UrJyIpJzplK3R9ZnVuY3Rpb24gTXIodCxuLHIsaSxvLGEscyxjKXt2YXIgdTsoaT1pfHxlKS5yaWdodD9jP249IigiK24rIik9PT0nY2xpY2snPydjb250ZXh0bWVudSc6KCIrbisiKSI6ImNsaWNrIj09PW4mJihuPSJjb250ZXh0bWVudSIsZGVsZXRlIGkucmlnaHQpOmkubWlkZGxlJiYoYz9uPSIoIituKyIpPT09J2NsaWNrJz8nbW91c2V1cCc6KCIrbisiKSI6ImNsaWNrIj09PW4mJihuPSJtb3VzZXVwIikpLGkuY2FwdHVyZSYmKGRlbGV0ZSBpLmNhcHR1cmUsbj1McigiISIsbixjKSksaS5vbmNlJiYoZGVsZXRlIGkub25jZSxuPUxyKCJ+IixuLGMpKSxpLnBhc3NpdmUmJihkZWxldGUgaS5wYXNzaXZlLG49THIoIiYiLG4sYykpLGkubmF0aXZlPyhkZWxldGUgaS5uYXRpdmUsdT10Lm5hdGl2ZUV2ZW50c3x8KHQubmF0aXZlRXZlbnRzPXt9KSk6dT10LmV2ZW50c3x8KHQuZXZlbnRzPXt9KTt2YXIgbD1Scih7dmFsdWU6ci50cmltKCksZHluYW1pYzpjfSxzKTtpIT09ZSYmKGwubW9kaWZpZXJzPWkpO3ZhciBmPXVbbl07QXJyYXkuaXNBcnJheShmKT9vP2YudW5zaGlmdChsKTpmLnB1c2gobCk6dVtuXT1mP28/W2wsZl06W2YsbF06bCx0LnBsYWluPSExfWZ1bmN0aW9uIElyKGUsdCxuKXt2YXIgcj1GcihlLCI6Iit0KXx8RnIoZSwidi1iaW5kOiIrdCk7aWYobnVsbCE9cilyZXR1cm4gQXIocik7aWYoITEhPT1uKXt2YXIgaT1GcihlLHQpO2lmKG51bGwhPWkpcmV0dXJuIEpTT04uc3RyaW5naWZ5KGkpfX1mdW5jdGlvbiBGcihlLHQsbil7dmFyIHI7aWYobnVsbCE9KHI9ZS5hdHRyc01hcFt0XSkpZm9yKHZhciBpPWUuYXR0cnNMaXN0LG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYoaVtvXS5uYW1lPT09dCl7aS5zcGxpY2UobywxKTticmVha31yZXR1cm4gbiYmZGVsZXRlIGUuYXR0cnNNYXBbdF0scn1mdW5jdGlvbiBQcihlLHQpe2Zvcih2YXIgbj1lLmF0dHJzTGlzdCxyPTAsaT1uLmxlbmd0aDtyPGk7cisrKXt2YXIgbz1uW3JdO2lmKHQudGVzdChvLm5hbWUpKXJldHVybiBuLnNwbGljZShyLDEpLG99fWZ1bmN0aW9uIFJyKGUsdCl7cmV0dXJuIHQmJihudWxsIT10LnN0YXJ0JiYoZS5zdGFydD10LnN0YXJ0KSxudWxsIT10LmVuZCYmKGUuZW5kPXQuZW5kKSksZX1mdW5jdGlvbiBIcihlLHQsbil7dmFyIHI9bnx8e30saT1yLm51bWJlcixvPSIkJHYiO3IudHJpbSYmKG89Iih0eXBlb2YgJCR2ID09PSAnc3RyaW5nJz8gJCR2LnRyaW0oKTogJCR2KSIpLGkmJihvPSJfbigiK28rIikiKTt2YXIgYT1Ccih0LG8pO2UubW9kZWw9e3ZhbHVlOiIoIit0KyIpIixleHByZXNzaW9uOkpTT04uc3RyaW5naWZ5KHQpLGNhbGxiYWNrOiJmdW5jdGlvbiAoJCR2KSB7IithKyJ9In19ZnVuY3Rpb24gQnIoZSx0KXt2YXIgbj1mdW5jdGlvbihlKXtpZihlPWUudHJpbSgpLGdyPWUubGVuZ3RoLGUuaW5kZXhPZigiWyIpPDB8fGUubGFzdEluZGV4T2YoIl0iKTxnci0xKXJldHVybigkcj1lLmxhc3RJbmRleE9mKCIuIikpPi0xP3tleHA6ZS5zbGljZSgwLCRyKSxrZXk6JyInK2Uuc2xpY2UoJHIrMSkrJyInfTp7ZXhwOmUsa2V5Om51bGx9O19yPWUsJHI9d3I9Q3I9MDtmb3IoOyF6cigpOylWcihicj1VcigpKT9Kcihicik6OTE9PT1iciYmS3IoYnIpO3JldHVybntleHA6ZS5zbGljZSgwLHdyKSxrZXk6ZS5zbGljZSh3cisxLENyKX19KGUpO3JldHVybiBudWxsPT09bi5rZXk/ZSsiPSIrdDoiJHNldCgiK24uZXhwKyIsICIrbi5rZXkrIiwgIit0KyIpIn1mdW5jdGlvbiBVcigpe3JldHVybiBfci5jaGFyQ29kZUF0KCsrJHIpfWZ1bmN0aW9uIHpyKCl7cmV0dXJuICRyPj1ncn1mdW5jdGlvbiBWcihlKXtyZXR1cm4gMzQ9PT1lfHwzOT09PWV9ZnVuY3Rpb24gS3IoZSl7dmFyIHQ9MTtmb3Iod3I9JHI7IXpyKCk7KWlmKFZyKGU9VXIoKSkpSnIoZSk7ZWxzZSBpZig5MT09PWUmJnQrKyw5Mz09PWUmJnQtLSwwPT09dCl7Q3I9JHI7YnJlYWt9fWZ1bmN0aW9uIEpyKGUpe2Zvcih2YXIgdD1lOyF6cigpJiYoZT1VcigpKSE9PXQ7KTt9dmFyIHFyLFdyPSJfX3IiLFpyPSJfX2MiO2Z1bmN0aW9uIEdyKGUsdCxuKXt2YXIgcj1xcjtyZXR1cm4gZnVuY3Rpb24gaSgpe251bGwhPT10LmFwcGx5KG51bGwsYXJndW1lbnRzKSYmUXIoZSxpLG4scil9fXZhciBYcj1WZSYmIShYJiZOdW1iZXIoWFsxXSk8PTUzKTtmdW5jdGlvbiBZcihlLHQsbixyKXtpZihYcil7dmFyIGk9YW4sbz10O3Q9by5fd3JhcHBlcj1mdW5jdGlvbihlKXtpZihlLnRhcmdldD09PWUuY3VycmVudFRhcmdldHx8ZS50aW1lU3RhbXA+PWl8fGUudGltZVN0YW1wPD0wfHxlLnRhcmdldC5vd25lckRvY3VtZW50IT09ZG9jdW1lbnQpcmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX1xci5hZGRFdmVudExpc3RlbmVyKGUsdCxRP3tjYXB0dXJlOm4scGFzc2l2ZTpyfTpuKX1mdW5jdGlvbiBRcihlLHQsbixyKXsocnx8cXIpLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0Ll93cmFwcGVyfHx0LG4pfWZ1bmN0aW9uIGVpKGUscil7aWYoIXQoZS5kYXRhLm9uKXx8IXQoci5kYXRhLm9uKSl7dmFyIGk9ci5kYXRhLm9ufHx7fSxvPWUuZGF0YS5vbnx8e307cXI9ci5lbG0sZnVuY3Rpb24oZSl7aWYobihlW1dyXSkpe3ZhciB0PXE/ImNoYW5nZSI6ImlucHV0IjtlW3RdPVtdLmNvbmNhdChlW1dyXSxlW3RdfHxbXSksZGVsZXRlIGVbV3JdfW4oZVtacl0pJiYoZS5jaGFuZ2U9W10uY29uY2F0KGVbWnJdLGUuY2hhbmdlfHxbXSksZGVsZXRlIGVbWnJdKX0oaSkscnQoaSxvLFlyLFFyLEdyLHIuY29udGV4dCkscXI9dm9pZCAwfX12YXIgdGksbmk9e2NyZWF0ZTplaSx1cGRhdGU6ZWl9O2Z1bmN0aW9uIHJpKGUscil7aWYoIXQoZS5kYXRhLmRvbVByb3BzKXx8IXQoci5kYXRhLmRvbVByb3BzKSl7dmFyIGksbyxhPXIuZWxtLHM9ZS5kYXRhLmRvbVByb3BzfHx7fSxjPXIuZGF0YS5kb21Qcm9wc3x8e307Zm9yKGkgaW4gbihjLl9fb2JfXykmJihjPXIuZGF0YS5kb21Qcm9wcz1BKHt9LGMpKSxzKWkgaW4gY3x8KGFbaV09IiIpO2ZvcihpIGluIGMpe2lmKG89Y1tpXSwidGV4dENvbnRlbnQiPT09aXx8ImlubmVySFRNTCI9PT1pKXtpZihyLmNoaWxkcmVuJiYoci5jaGlsZHJlbi5sZW5ndGg9MCksbz09PXNbaV0pY29udGludWU7MT09PWEuY2hpbGROb2Rlcy5sZW5ndGgmJmEucmVtb3ZlQ2hpbGQoYS5jaGlsZE5vZGVzWzBdKX1pZigidmFsdWUiPT09aSYmIlBST0dSRVNTIiE9PWEudGFnTmFtZSl7YS5fdmFsdWU9bzt2YXIgdT10KG8pPyIiOlN0cmluZyhvKTtpaShhLHUpJiYoYS52YWx1ZT11KX1lbHNlIGlmKCJpbm5lckhUTUwiPT09aSYmcW4oYS50YWdOYW1lKSYmdChhLmlubmVySFRNTCkpeyh0aT10aXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpLmlubmVySFRNTD0iPHN2Zz4iK28rIjwvc3ZnPiI7Zm9yKHZhciBsPXRpLmZpcnN0Q2hpbGQ7YS5maXJzdENoaWxkOylhLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCk7Zm9yKDtsLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQobC5maXJzdENoaWxkKX1lbHNlIGlmKG8hPT1zW2ldKXRyeXthW2ldPW99Y2F0Y2goZSl7fX19fWZ1bmN0aW9uIGlpKGUsdCl7cmV0dXJuIWUuY29tcG9zaW5nJiYoIk9QVElPTiI9PT1lLnRhZ05hbWV8fGZ1bmN0aW9uKGUsdCl7dmFyIG49ITA7dHJ5e249ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PWV9Y2F0Y2goZSl7fXJldHVybiBuJiZlLnZhbHVlIT09dH0oZSx0KXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnZhbHVlLGk9ZS5fdk1vZGlmaWVycztpZihuKGkpKXtpZihpLm51bWJlcilyZXR1cm4gZihyKSE9PWYodCk7aWYoaS50cmltKXJldHVybiByLnRyaW0oKSE9PXQudHJpbSgpfXJldHVybiByIT09dH0oZSx0KSl9dmFyIG9pPXtjcmVhdGU6cmksdXBkYXRlOnJpfSxhaT1nKGZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49LzooLispLztyZXR1cm4gZS5zcGxpdCgvOyg/IVteKF0qXCkpL2cpLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHI9ZS5zcGxpdChuKTtyLmxlbmd0aD4xJiYodFtyWzBdLnRyaW0oKV09clsxXS50cmltKCkpfX0pLHR9KTtmdW5jdGlvbiBzaShlKXt2YXIgdD1jaShlLnN0eWxlKTtyZXR1cm4gZS5zdGF0aWNTdHlsZT9BKGUuc3RhdGljU3R5bGUsdCk6dH1mdW5jdGlvbiBjaShlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9PKGUpOiJzdHJpbmciPT10eXBlb2YgZT9haShlKTplfXZhciB1aSxsaT0vXi0tLyxmaT0vXHMqIWltcG9ydGFudCQvLHBpPWZ1bmN0aW9uKGUsdCxuKXtpZihsaS50ZXN0KHQpKWUuc3R5bGUuc2V0UHJvcGVydHkodCxuKTtlbHNlIGlmKGZpLnRlc3QobikpZS5zdHlsZS5zZXRQcm9wZXJ0eShDKHQpLG4ucmVwbGFjZShmaSwiIiksImltcG9ydGFudCIpO2Vsc2V7dmFyIHI9dmkodCk7aWYoQXJyYXkuaXNBcnJheShuKSlmb3IodmFyIGk9MCxvPW4ubGVuZ3RoO2k8bztpKyspZS5zdHlsZVtyXT1uW2ldO2Vsc2UgZS5zdHlsZVtyXT1ufX0sZGk9WyJXZWJraXQiLCJNb3oiLCJtcyJdLHZpPWcoZnVuY3Rpb24oZSl7aWYodWk9dWl8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLCJmaWx0ZXIiIT09KGU9YihlKSkmJmUgaW4gdWkpcmV0dXJuIGU7Zm9yKHZhciB0PWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKSxuPTA7bjxkaS5sZW5ndGg7bisrKXt2YXIgcj1kaVtuXSt0O2lmKHIgaW4gdWkpcmV0dXJuIHJ9fSk7ZnVuY3Rpb24gaGkoZSxyKXt2YXIgaT1yLmRhdGEsbz1lLmRhdGE7aWYoISh0KGkuc3RhdGljU3R5bGUpJiZ0KGkuc3R5bGUpJiZ0KG8uc3RhdGljU3R5bGUpJiZ0KG8uc3R5bGUpKSl7dmFyIGEscyxjPXIuZWxtLHU9by5zdGF0aWNTdHlsZSxsPW8ubm9ybWFsaXplZFN0eWxlfHxvLnN0eWxlfHx7fSxmPXV8fGwscD1jaShyLmRhdGEuc3R5bGUpfHx7fTtyLmRhdGEubm9ybWFsaXplZFN0eWxlPW4ocC5fX29iX18pP0Eoe30scCk6cDt2YXIgZD1mdW5jdGlvbihlLHQpe3ZhciBuLHI9e307aWYodClmb3IodmFyIGk9ZTtpLmNvbXBvbmVudEluc3RhbmNlOykoaT1pLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZSkmJmkuZGF0YSYmKG49c2koaS5kYXRhKSkmJkEocixuKTsobj1zaShlLmRhdGEpKSYmQShyLG4pO2Zvcih2YXIgbz1lO289by5wYXJlbnQ7KW8uZGF0YSYmKG49c2koby5kYXRhKSkmJkEocixuKTtyZXR1cm4gcn0ociwhMCk7Zm9yKHMgaW4gZil0KGRbc10pJiZwaShjLHMsIiIpO2ZvcihzIGluIGQpKGE9ZFtzXSkhPT1mW3NdJiZwaShjLHMsbnVsbD09YT8iIjphKX19dmFyIG1pPXtjcmVhdGU6aGksdXBkYXRlOmhpfSx5aT0vXHMrLztmdW5jdGlvbiBnaShlLHQpe2lmKHQmJih0PXQudHJpbSgpKSlpZihlLmNsYXNzTGlzdCl0LmluZGV4T2YoIiAiKT4tMT90LnNwbGl0KHlpKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNsYXNzTGlzdC5hZGQodCl9KTplLmNsYXNzTGlzdC5hZGQodCk7ZWxzZXt2YXIgbj0iICIrKGUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIikrIiAiO24uaW5kZXhPZigiICIrdCsiICIpPDAmJmUuc2V0QXR0cmlidXRlKCJjbGFzcyIsKG4rdCkudHJpbSgpKX19ZnVuY3Rpb24gX2koZSx0KXtpZih0JiYodD10LnRyaW0oKSkpaWYoZS5jbGFzc0xpc3QpdC5pbmRleE9mKCIgIik+LTE/dC5zcGxpdCh5aSkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5jbGFzc0xpc3QucmVtb3ZlKHQpfSk6ZS5jbGFzc0xpc3QucmVtb3ZlKHQpLGUuY2xhc3NMaXN0Lmxlbmd0aHx8ZS5yZW1vdmVBdHRyaWJ1dGUoImNsYXNzIik7ZWxzZXtmb3IodmFyIG49IiAiKyhlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpKyIgIixyPSIgIit0KyIgIjtuLmluZGV4T2Yocik+PTA7KW49bi5yZXBsYWNlKHIsIiAiKTsobj1uLnRyaW0oKSk/ZS5zZXRBdHRyaWJ1dGUoImNsYXNzIixuKTplLnJlbW92ZUF0dHJpYnV0ZSgiY2xhc3MiKX19ZnVuY3Rpb24gYmkoZSl7aWYoZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBlKXt2YXIgdD17fTtyZXR1cm4hMSE9PWUuY3NzJiZBKHQsJGkoZS5uYW1lfHwidiIpKSxBKHQsZSksdH1yZXR1cm4ic3RyaW5nIj09dHlwZW9mIGU/JGkoZSk6dm9pZCAwfX12YXIgJGk9ZyhmdW5jdGlvbihlKXtyZXR1cm57ZW50ZXJDbGFzczplKyItZW50ZXIiLGVudGVyVG9DbGFzczplKyItZW50ZXItdG8iLGVudGVyQWN0aXZlQ2xhc3M6ZSsiLWVudGVyLWFjdGl2ZSIsbGVhdmVDbGFzczplKyItbGVhdmUiLGxlYXZlVG9DbGFzczplKyItbGVhdmUtdG8iLGxlYXZlQWN0aXZlQ2xhc3M6ZSsiLWxlYXZlLWFjdGl2ZSJ9fSksd2k9eiYmIVcsQ2k9InRyYW5zaXRpb24iLHhpPSJhbmltYXRpb24iLGtpPSJ0cmFuc2l0aW9uIixBaT0idHJhbnNpdGlvbmVuZCIsT2k9ImFuaW1hdGlvbiIsU2k9ImFuaW1hdGlvbmVuZCI7d2kmJih2b2lkIDA9PT13aW5kb3cub250cmFuc2l0aW9uZW5kJiZ2b2lkIDAhPT13aW5kb3cub253ZWJraXR0cmFuc2l0aW9uZW5kJiYoa2k9IldlYmtpdFRyYW5zaXRpb24iLEFpPSJ3ZWJraXRUcmFuc2l0aW9uRW5kIiksdm9pZCAwPT09d2luZG93Lm9uYW5pbWF0aW9uZW5kJiZ2b2lkIDAhPT13aW5kb3cub253ZWJraXRhbmltYXRpb25lbmQmJihPaT0iV2Via2l0QW5pbWF0aW9uIixTaT0id2Via2l0QW5pbWF0aW9uRW5kIikpO3ZhciBUaT16P3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyk6c2V0VGltZW91dDpmdW5jdGlvbihlKXtyZXR1cm4gZSgpfTtmdW5jdGlvbiBFaShlKXtUaShmdW5jdGlvbigpe1RpKGUpfSl9ZnVuY3Rpb24gTmkoZSx0KXt2YXIgbj1lLl90cmFuc2l0aW9uQ2xhc3Nlc3x8KGUuX3RyYW5zaXRpb25DbGFzc2VzPVtdKTtuLmluZGV4T2YodCk8MCYmKG4ucHVzaCh0KSxnaShlLHQpKX1mdW5jdGlvbiBqaShlLHQpe2UuX3RyYW5zaXRpb25DbGFzc2VzJiZoKGUuX3RyYW5zaXRpb25DbGFzc2VzLHQpLF9pKGUsdCl9ZnVuY3Rpb24gRGkoZSx0LG4pe3ZhciByPU1pKGUsdCksaT1yLnR5cGUsbz1yLnRpbWVvdXQsYT1yLnByb3BDb3VudDtpZighaSlyZXR1cm4gbigpO3ZhciBzPWk9PT1DaT9BaTpTaSxjPTAsdT1mdW5jdGlvbigpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLGwpLG4oKX0sbD1mdW5jdGlvbih0KXt0LnRhcmdldD09PWUmJisrYz49YSYmdSgpfTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YzxhJiZ1KCl9LG8rMSksZS5hZGRFdmVudExpc3RlbmVyKHMsbCl9dmFyIExpPS9cYih0cmFuc2Zvcm18YWxsKSgsfCQpLztmdW5jdGlvbiBNaShlLHQpe3ZhciBuLHI9d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSksaT0ocltraSsiRGVsYXkiXXx8IiIpLnNwbGl0KCIsICIpLG89KHJba2krIkR1cmF0aW9uIl18fCIiKS5zcGxpdCgiLCAiKSxhPUlpKGksbykscz0ocltPaSsiRGVsYXkiXXx8IiIpLnNwbGl0KCIsICIpLGM9KHJbT2krIkR1cmF0aW9uIl18fCIiKS5zcGxpdCgiLCAiKSx1PUlpKHMsYyksbD0wLGY9MDtyZXR1cm4gdD09PUNpP2E+MCYmKG49Q2ksbD1hLGY9by5sZW5ndGgpOnQ9PT14aT91PjAmJihuPXhpLGw9dSxmPWMubGVuZ3RoKTpmPShuPShsPU1hdGgubWF4KGEsdSkpPjA/YT51P0NpOnhpOm51bGwpP249PT1DaT9vLmxlbmd0aDpjLmxlbmd0aDowLHt0eXBlOm4sdGltZW91dDpsLHByb3BDb3VudDpmLGhhc1RyYW5zZm9ybTpuPT09Q2kmJkxpLnRlc3QocltraSsiUHJvcGVydHkiXSl9fWZ1bmN0aW9uIElpKGUsdCl7Zm9yKDtlLmxlbmd0aDx0Lmxlbmd0aDspZT1lLmNvbmNhdChlKTtyZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCx0Lm1hcChmdW5jdGlvbih0LG4pe3JldHVybiBGaSh0KStGaShlW25dKX0pKX1mdW5jdGlvbiBGaShlKXtyZXR1cm4gMWUzKk51bWJlcihlLnNsaWNlKDAsLTEpLnJlcGxhY2UoIiwiLCIuIikpfWZ1bmN0aW9uIFBpKGUscil7dmFyIGk9ZS5lbG07bihpLl9sZWF2ZUNiKSYmKGkuX2xlYXZlQ2IuY2FuY2VsbGVkPSEwLGkuX2xlYXZlQ2IoKSk7dmFyIGE9YmkoZS5kYXRhLnRyYW5zaXRpb24pO2lmKCF0KGEpJiYhbihpLl9lbnRlckNiKSYmMT09PWkubm9kZVR5cGUpe2Zvcih2YXIgcz1hLmNzcyxjPWEudHlwZSx1PWEuZW50ZXJDbGFzcyxsPWEuZW50ZXJUb0NsYXNzLHA9YS5lbnRlckFjdGl2ZUNsYXNzLGQ9YS5hcHBlYXJDbGFzcyx2PWEuYXBwZWFyVG9DbGFzcyxoPWEuYXBwZWFyQWN0aXZlQ2xhc3MsbT1hLmJlZm9yZUVudGVyLHk9YS5lbnRlcixnPWEuYWZ0ZXJFbnRlcixfPWEuZW50ZXJDYW5jZWxsZWQsYj1hLmJlZm9yZUFwcGVhciwkPWEuYXBwZWFyLHc9YS5hZnRlckFwcGVhcixDPWEuYXBwZWFyQ2FuY2VsbGVkLHg9YS5kdXJhdGlvbixrPVd0LEE9V3QuJHZub2RlO0EmJkEucGFyZW50OylrPUEuY29udGV4dCxBPUEucGFyZW50O3ZhciBPPSFrLl9pc01vdW50ZWR8fCFlLmlzUm9vdEluc2VydDtpZighT3x8JHx8IiI9PT0kKXt2YXIgUz1PJiZkP2Q6dSxUPU8mJmg/aDpwLEU9TyYmdj92OmwsTj1PJiZifHxtLGo9TyYmImZ1bmN0aW9uIj09dHlwZW9mICQ/JDp5LEw9TyYmd3x8ZyxNPU8mJkN8fF8sST1mKG8oeCk/eC5lbnRlcjp4KSxGPSExIT09cyYmIVcsUD1CaShqKSxSPWkuX2VudGVyQ2I9RChmdW5jdGlvbigpe0YmJihqaShpLEUpLGppKGksVCkpLFIuY2FuY2VsbGVkPyhGJiZqaShpLFMpLE0mJk0oaSkpOkwmJkwoaSksaS5fZW50ZXJDYj1udWxsfSk7ZS5kYXRhLnNob3d8fGl0KGUsImluc2VydCIsZnVuY3Rpb24oKXt2YXIgdD1pLnBhcmVudE5vZGUsbj10JiZ0Ll9wZW5kaW5nJiZ0Ll9wZW5kaW5nW2Uua2V5XTtuJiZuLnRhZz09PWUudGFnJiZuLmVsbS5fbGVhdmVDYiYmbi5lbG0uX2xlYXZlQ2IoKSxqJiZqKGksUil9KSxOJiZOKGkpLEYmJihOaShpLFMpLE5pKGksVCksRWkoZnVuY3Rpb24oKXtqaShpLFMpLFIuY2FuY2VsbGVkfHwoTmkoaSxFKSxQfHwoSGkoSSk/c2V0VGltZW91dChSLEkpOkRpKGksYyxSKSkpfSkpLGUuZGF0YS5zaG93JiYociYmcigpLGomJmooaSxSKSksRnx8UHx8UigpfX19ZnVuY3Rpb24gUmkoZSxyKXt2YXIgaT1lLmVsbTtuKGkuX2VudGVyQ2IpJiYoaS5fZW50ZXJDYi5jYW5jZWxsZWQ9ITAsaS5fZW50ZXJDYigpKTt2YXIgYT1iaShlLmRhdGEudHJhbnNpdGlvbik7aWYodChhKXx8MSE9PWkubm9kZVR5cGUpcmV0dXJuIHIoKTtpZighbihpLl9sZWF2ZUNiKSl7dmFyIHM9YS5jc3MsYz1hLnR5cGUsdT1hLmxlYXZlQ2xhc3MsbD1hLmxlYXZlVG9DbGFzcyxwPWEubGVhdmVBY3RpdmVDbGFzcyxkPWEuYmVmb3JlTGVhdmUsdj1hLmxlYXZlLGg9YS5hZnRlckxlYXZlLG09YS5sZWF2ZUNhbmNlbGxlZCx5PWEuZGVsYXlMZWF2ZSxnPWEuZHVyYXRpb24sXz0hMSE9PXMmJiFXLGI9QmkodiksJD1mKG8oZyk/Zy5sZWF2ZTpnKSx3PWkuX2xlYXZlQ2I9RChmdW5jdGlvbigpe2kucGFyZW50Tm9kZSYmaS5wYXJlbnROb2RlLl9wZW5kaW5nJiYoaS5wYXJlbnROb2RlLl9wZW5kaW5nW2Uua2V5XT1udWxsKSxfJiYoamkoaSxsKSxqaShpLHApKSx3LmNhbmNlbGxlZD8oXyYmamkoaSx1KSxtJiZtKGkpKToocigpLGgmJmgoaSkpLGkuX2xlYXZlQ2I9bnVsbH0pO3k/eShDKTpDKCl9ZnVuY3Rpb24gQygpe3cuY2FuY2VsbGVkfHwoIWUuZGF0YS5zaG93JiZpLnBhcmVudE5vZGUmJigoaS5wYXJlbnROb2RlLl9wZW5kaW5nfHwoaS5wYXJlbnROb2RlLl9wZW5kaW5nPXt9KSlbZS5rZXldPWUpLGQmJmQoaSksXyYmKE5pKGksdSksTmkoaSxwKSxFaShmdW5jdGlvbigpe2ppKGksdSksdy5jYW5jZWxsZWR8fChOaShpLGwpLGJ8fChIaSgkKT9zZXRUaW1lb3V0KHcsJCk6RGkoaSxjLHcpKSl9KSksdiYmdihpLHcpLF98fGJ8fHcoKSl9fWZ1bmN0aW9uIEhpKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZSYmIWlzTmFOKGUpfWZ1bmN0aW9uIEJpKGUpe2lmKHQoZSkpcmV0dXJuITE7dmFyIHI9ZS5mbnM7cmV0dXJuIG4ocik/QmkoQXJyYXkuaXNBcnJheShyKT9yWzBdOnIpOihlLl9sZW5ndGh8fGUubGVuZ3RoKT4xfWZ1bmN0aW9uIFVpKGUsdCl7ITAhPT10LmRhdGEuc2hvdyYmUGkodCl9dmFyIHppPWZ1bmN0aW9uKGUpe3ZhciBvLGEscz17fSxjPWUubW9kdWxlcyx1PWUubm9kZU9wcztmb3Iobz0wO288cnIubGVuZ3RoOysrbylmb3Ioc1tycltvXV09W10sYT0wO2E8Yy5sZW5ndGg7KythKW4oY1thXVtycltvXV0pJiZzW3JyW29dXS5wdXNoKGNbYV1bcnJbb11dKTtmdW5jdGlvbiBsKGUpe3ZhciB0PXUucGFyZW50Tm9kZShlKTtuKHQpJiZ1LnJlbW92ZUNoaWxkKHQsZSl9ZnVuY3Rpb24gZihlLHQsaSxvLGEsYyxsKXtpZihuKGUuZWxtKSYmbihjKSYmKGU9Y1tsXT1tZShlKSksZS5pc1Jvb3RJbnNlcnQ9IWEsIWZ1bmN0aW9uKGUsdCxpLG8pe3ZhciBhPWUuZGF0YTtpZihuKGEpKXt2YXIgYz1uKGUuY29tcG9uZW50SW5zdGFuY2UpJiZhLmtlZXBBbGl2ZTtpZihuKGE9YS5ob29rKSYmbihhPWEuaW5pdCkmJmEoZSwhMSksbihlLmNvbXBvbmVudEluc3RhbmNlKSlyZXR1cm4gZChlLHQpLHYoaSxlLmVsbSxvKSxyKGMpJiZmdW5jdGlvbihlLHQscixpKXtmb3IodmFyIG8sYT1lO2EuY29tcG9uZW50SW5zdGFuY2U7KWlmKGE9YS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUsbihvPWEuZGF0YSkmJm4obz1vLnRyYW5zaXRpb24pKXtmb3Iobz0wO288cy5hY3RpdmF0ZS5sZW5ndGg7KytvKXMuYWN0aXZhdGVbb10obnIsYSk7dC5wdXNoKGEpO2JyZWFrfXYocixlLmVsbSxpKX0oZSx0LGksbyksITB9fShlLHQsaSxvKSl7dmFyIGY9ZS5kYXRhLHA9ZS5jaGlsZHJlbixtPWUudGFnO24obSk/KGUuZWxtPWUubnM/dS5jcmVhdGVFbGVtZW50TlMoZS5ucyxtKTp1LmNyZWF0ZUVsZW1lbnQobSxlKSxnKGUpLGgoZSxwLHQpLG4oZikmJnkoZSx0KSx2KGksZS5lbG0sbykpOnIoZS5pc0NvbW1lbnQpPyhlLmVsbT11LmNyZWF0ZUNvbW1lbnQoZS50ZXh0KSx2KGksZS5lbG0sbykpOihlLmVsbT11LmNyZWF0ZVRleHROb2RlKGUudGV4dCksdihpLGUuZWxtLG8pKX19ZnVuY3Rpb24gZChlLHQpe24oZS5kYXRhLnBlbmRpbmdJbnNlcnQpJiYodC5wdXNoLmFwcGx5KHQsZS5kYXRhLnBlbmRpbmdJbnNlcnQpLGUuZGF0YS5wZW5kaW5nSW5zZXJ0PW51bGwpLGUuZWxtPWUuY29tcG9uZW50SW5zdGFuY2UuJGVsLG0oZSk/KHkoZSx0KSxnKGUpKToodHIoZSksdC5wdXNoKGUpKX1mdW5jdGlvbiB2KGUsdCxyKXtuKGUpJiYobihyKT91LnBhcmVudE5vZGUocik9PT1lJiZ1Lmluc2VydEJlZm9yZShlLHQscik6dS5hcHBlbmRDaGlsZChlLHQpKX1mdW5jdGlvbiBoKGUsdCxuKXtpZihBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgcj0wO3I8dC5sZW5ndGg7KytyKWYodFtyXSxuLGUuZWxtLG51bGwsITAsdCxyKTtlbHNlIGkoZS50ZXh0KSYmdS5hcHBlbmRDaGlsZChlLmVsbSx1LmNyZWF0ZVRleHROb2RlKFN0cmluZyhlLnRleHQpKSl9ZnVuY3Rpb24gbShlKXtmb3IoO2UuY29tcG9uZW50SW5zdGFuY2U7KWU9ZS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGU7cmV0dXJuIG4oZS50YWcpfWZ1bmN0aW9uIHkoZSx0KXtmb3IodmFyIHI9MDtyPHMuY3JlYXRlLmxlbmd0aDsrK3Ipcy5jcmVhdGVbcl0obnIsZSk7bihvPWUuZGF0YS5ob29rKSYmKG4oby5jcmVhdGUpJiZvLmNyZWF0ZShucixlKSxuKG8uaW5zZXJ0KSYmdC5wdXNoKGUpKX1mdW5jdGlvbiBnKGUpe3ZhciB0O2lmKG4odD1lLmZuU2NvcGVJZCkpdS5zZXRTdHlsZVNjb3BlKGUuZWxtLHQpO2Vsc2UgZm9yKHZhciByPWU7cjspbih0PXIuY29udGV4dCkmJm4odD10LiRvcHRpb25zLl9zY29wZUlkKSYmdS5zZXRTdHlsZVNjb3BlKGUuZWxtLHQpLHI9ci5wYXJlbnQ7bih0PVd0KSYmdCE9PWUuY29udGV4dCYmdCE9PWUuZm5Db250ZXh0JiZuKHQ9dC4kb3B0aW9ucy5fc2NvcGVJZCkmJnUuc2V0U3R5bGVTY29wZShlLmVsbSx0KX1mdW5jdGlvbiBfKGUsdCxuLHIsaSxvKXtmb3IoO3I8PWk7KytyKWYobltyXSxvLGUsdCwhMSxuLHIpfWZ1bmN0aW9uIGIoZSl7dmFyIHQscixpPWUuZGF0YTtpZihuKGkpKWZvcihuKHQ9aS5ob29rKSYmbih0PXQuZGVzdHJveSkmJnQoZSksdD0wO3Q8cy5kZXN0cm95Lmxlbmd0aDsrK3Qpcy5kZXN0cm95W3RdKGUpO2lmKG4odD1lLmNoaWxkcmVuKSlmb3Iocj0wO3I8ZS5jaGlsZHJlbi5sZW5ndGg7KytyKWIoZS5jaGlsZHJlbltyXSl9ZnVuY3Rpb24gJChlLHQscil7Zm9yKDt0PD1yOysrdCl7dmFyIGk9ZVt0XTtuKGkpJiYobihpLnRhZyk/KHcoaSksYihpKSk6bChpLmVsbSkpfX1mdW5jdGlvbiB3KGUsdCl7aWYobih0KXx8bihlLmRhdGEpKXt2YXIgcixpPXMucmVtb3ZlLmxlbmd0aCsxO2ZvcihuKHQpP3QubGlzdGVuZXJzKz1pOnQ9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7MD09LS1uLmxpc3RlbmVycyYmbChlKX1yZXR1cm4gbi5saXN0ZW5lcnM9dCxufShlLmVsbSxpKSxuKHI9ZS5jb21wb25lbnRJbnN0YW5jZSkmJm4ocj1yLl92bm9kZSkmJm4oci5kYXRhKSYmdyhyLHQpLHI9MDtyPHMucmVtb3ZlLmxlbmd0aDsrK3Ipcy5yZW1vdmVbcl0oZSx0KTtuKHI9ZS5kYXRhLmhvb2spJiZuKHI9ci5yZW1vdmUpP3IoZSx0KTp0KCl9ZWxzZSBsKGUuZWxtKX1mdW5jdGlvbiBDKGUsdCxyLGkpe2Zvcih2YXIgbz1yO288aTtvKyspe3ZhciBhPXRbb107aWYobihhKSYmaXIoZSxhKSlyZXR1cm4gb319ZnVuY3Rpb24geChlLGksbyxhLGMsbCl7aWYoZSE9PWkpe24oaS5lbG0pJiZuKGEpJiYoaT1hW2NdPW1lKGkpKTt2YXIgcD1pLmVsbT1lLmVsbTtpZihyKGUuaXNBc3luY1BsYWNlaG9sZGVyKSluKGkuYXN5bmNGYWN0b3J5LnJlc29sdmVkKT9PKGUuZWxtLGksbyk6aS5pc0FzeW5jUGxhY2Vob2xkZXI9ITA7ZWxzZSBpZihyKGkuaXNTdGF0aWMpJiZyKGUuaXNTdGF0aWMpJiZpLmtleT09PWUua2V5JiYocihpLmlzQ2xvbmVkKXx8cihpLmlzT25jZSkpKWkuY29tcG9uZW50SW5zdGFuY2U9ZS5jb21wb25lbnRJbnN0YW5jZTtlbHNle3ZhciBkLHY9aS5kYXRhO24odikmJm4oZD12Lmhvb2spJiZuKGQ9ZC5wcmVwYXRjaCkmJmQoZSxpKTt2YXIgaD1lLmNoaWxkcmVuLHk9aS5jaGlsZHJlbjtpZihuKHYpJiZtKGkpKXtmb3IoZD0wO2Q8cy51cGRhdGUubGVuZ3RoOysrZClzLnVwZGF0ZVtkXShlLGkpO24oZD12Lmhvb2spJiZuKGQ9ZC51cGRhdGUpJiZkKGUsaSl9dChpLnRleHQpP24oaCkmJm4oeSk/aCE9PXkmJmZ1bmN0aW9uKGUscixpLG8sYSl7Zm9yKHZhciBzLGMsbCxwPTAsZD0wLHY9ci5sZW5ndGgtMSxoPXJbMF0sbT1yW3ZdLHk9aS5sZW5ndGgtMSxnPWlbMF0sYj1pW3ldLHc9IWE7cDw9diYmZDw9eTspdChoKT9oPXJbKytwXTp0KG0pP209clstLXZdOmlyKGgsZyk/KHgoaCxnLG8saSxkKSxoPXJbKytwXSxnPWlbKytkXSk6aXIobSxiKT8oeChtLGIsbyxpLHkpLG09clstLXZdLGI9aVstLXldKTppcihoLGIpPyh4KGgsYixvLGkseSksdyYmdS5pbnNlcnRCZWZvcmUoZSxoLmVsbSx1Lm5leHRTaWJsaW5nKG0uZWxtKSksaD1yWysrcF0sYj1pWy0teV0pOmlyKG0sZyk/KHgobSxnLG8saSxkKSx3JiZ1Lmluc2VydEJlZm9yZShlLG0uZWxtLGguZWxtKSxtPXJbLS12XSxnPWlbKytkXSk6KHQocykmJihzPW9yKHIscCx2KSksdChjPW4oZy5rZXkpP3NbZy5rZXldOkMoZyxyLHAsdikpP2YoZyxvLGUsaC5lbG0sITEsaSxkKTppcihsPXJbY10sZyk/KHgobCxnLG8saSxkKSxyW2NdPXZvaWQgMCx3JiZ1Lmluc2VydEJlZm9yZShlLGwuZWxtLGguZWxtKSk6ZihnLG8sZSxoLmVsbSwhMSxpLGQpLGc9aVsrK2RdKTtwPnY/XyhlLHQoaVt5KzFdKT9udWxsOmlbeSsxXS5lbG0saSxkLHksbyk6ZD55JiYkKHIscCx2KX0ocCxoLHksbyxsKTpuKHkpPyhuKGUudGV4dCkmJnUuc2V0VGV4dENvbnRlbnQocCwiIiksXyhwLG51bGwseSwwLHkubGVuZ3RoLTEsbykpOm4oaCk/JChoLDAsaC5sZW5ndGgtMSk6bihlLnRleHQpJiZ1LnNldFRleHRDb250ZW50KHAsIiIpOmUudGV4dCE9PWkudGV4dCYmdS5zZXRUZXh0Q29udGVudChwLGkudGV4dCksbih2KSYmbihkPXYuaG9vaykmJm4oZD1kLnBvc3RwYXRjaCkmJmQoZSxpKX19fWZ1bmN0aW9uIGsoZSx0LGkpe2lmKHIoaSkmJm4oZS5wYXJlbnQpKWUucGFyZW50LmRhdGEucGVuZGluZ0luc2VydD10O2Vsc2UgZm9yKHZhciBvPTA7bzx0Lmxlbmd0aDsrK28pdFtvXS5kYXRhLmhvb2suaW5zZXJ0KHRbb10pfXZhciBBPXAoImF0dHJzLGNsYXNzLHN0YXRpY0NsYXNzLHN0YXRpY1N0eWxlLGtleSIpO2Z1bmN0aW9uIE8oZSx0LGksbyl7dmFyIGEscz10LnRhZyxjPXQuZGF0YSx1PXQuY2hpbGRyZW47aWYobz1vfHxjJiZjLnByZSx0LmVsbT1lLHIodC5pc0NvbW1lbnQpJiZuKHQuYXN5bmNGYWN0b3J5KSlyZXR1cm4gdC5pc0FzeW5jUGxhY2Vob2xkZXI9ITAsITA7aWYobihjKSYmKG4oYT1jLmhvb2spJiZuKGE9YS5pbml0KSYmYSh0LCEwKSxuKGE9dC5jb21wb25lbnRJbnN0YW5jZSkpKXJldHVybiBkKHQsaSksITA7aWYobihzKSl7aWYobih1KSlpZihlLmhhc0NoaWxkTm9kZXMoKSlpZihuKGE9YykmJm4oYT1hLmRvbVByb3BzKSYmbihhPWEuaW5uZXJIVE1MKSl7aWYoYSE9PWUuaW5uZXJIVE1MKXJldHVybiExfWVsc2V7Zm9yKHZhciBsPSEwLGY9ZS5maXJzdENoaWxkLHA9MDtwPHUubGVuZ3RoO3ArKyl7aWYoIWZ8fCFPKGYsdVtwXSxpLG8pKXtsPSExO2JyZWFrfWY9Zi5uZXh0U2libGluZ31pZighbHx8ZilyZXR1cm4hMX1lbHNlIGgodCx1LGkpO2lmKG4oYykpe3ZhciB2PSExO2Zvcih2YXIgbSBpbiBjKWlmKCFBKG0pKXt2PSEwLHkodCxpKTticmVha30hdiYmYy5jbGFzcyYmZXQoYy5jbGFzcyl9fWVsc2UgZS5kYXRhIT09dC50ZXh0JiYoZS5kYXRhPXQudGV4dCk7cmV0dXJuITB9cmV0dXJuIGZ1bmN0aW9uKGUsaSxvLGEpe2lmKCF0KGkpKXt2YXIgYyxsPSExLHA9W107aWYodChlKSlsPSEwLGYoaSxwKTtlbHNle3ZhciBkPW4oZS5ub2RlVHlwZSk7aWYoIWQmJmlyKGUsaSkpeChlLGkscCxudWxsLG51bGwsYSk7ZWxzZXtpZihkKXtpZigxPT09ZS5ub2RlVHlwZSYmZS5oYXNBdHRyaWJ1dGUoTCkmJihlLnJlbW92ZUF0dHJpYnV0ZShMKSxvPSEwKSxyKG8pJiZPKGUsaSxwKSlyZXR1cm4gayhpLHAsITApLGU7Yz1lLGU9bmV3IHBlKHUudGFnTmFtZShjKS50b0xvd2VyQ2FzZSgpLHt9LFtdLHZvaWQgMCxjKX12YXIgdj1lLmVsbSxoPXUucGFyZW50Tm9kZSh2KTtpZihmKGkscCx2Ll9sZWF2ZUNiP251bGw6aCx1Lm5leHRTaWJsaW5nKHYpKSxuKGkucGFyZW50KSlmb3IodmFyIHk9aS5wYXJlbnQsZz1tKGkpO3k7KXtmb3IodmFyIF89MDtfPHMuZGVzdHJveS5sZW5ndGg7KytfKXMuZGVzdHJveVtfXSh5KTtpZih5LmVsbT1pLmVsbSxnKXtmb3IodmFyIHc9MDt3PHMuY3JlYXRlLmxlbmd0aDsrK3cpcy5jcmVhdGVbd10obnIseSk7dmFyIEM9eS5kYXRhLmhvb2suaW5zZXJ0O2lmKEMubWVyZ2VkKWZvcih2YXIgQT0xO0E8Qy5mbnMubGVuZ3RoO0ErKylDLmZuc1tBXSgpfWVsc2UgdHIoeSk7eT15LnBhcmVudH1uKGgpPyQoW2VdLDAsMCk6bihlLnRhZykmJmIoZSl9fXJldHVybiBrKGkscCxsKSxpLmVsbX1uKGUpJiZiKGUpfX0oe25vZGVPcHM6UW4sbW9kdWxlczpbbXIseHIsbmksb2ksbWksej97Y3JlYXRlOlVpLGFjdGl2YXRlOlVpLHJlbW92ZTpmdW5jdGlvbihlLHQpeyEwIT09ZS5kYXRhLnNob3c/UmkoZSx0KTp0KCl9fTp7fV0uY29uY2F0KHByKX0pO1cmJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5hY3RpdmVFbGVtZW50O2UmJmUudm1vZGVsJiZYaShlLCJpbnB1dCIpfSk7dmFyIFZpPXtpbnNlcnRlZDpmdW5jdGlvbihlLHQsbixyKXsic2VsZWN0Ij09PW4udGFnPyhyLmVsbSYmIXIuZWxtLl92T3B0aW9ucz9pdChuLCJwb3N0cGF0Y2giLGZ1bmN0aW9uKCl7VmkuY29tcG9uZW50VXBkYXRlZChlLHQsbil9KTpLaShlLHQsbi5jb250ZXh0KSxlLl92T3B0aW9ucz1bXS5tYXAuY2FsbChlLm9wdGlvbnMsV2kpKTooInRleHRhcmVhIj09PW4udGFnfHxYbihlLnR5cGUpKSYmKGUuX3ZNb2RpZmllcnM9dC5tb2RpZmllcnMsdC5tb2RpZmllcnMubGF6eXx8KGUuYWRkRXZlbnRMaXN0ZW5lcigiY29tcG9zaXRpb25zdGFydCIsWmkpLGUuYWRkRXZlbnRMaXN0ZW5lcigiY29tcG9zaXRpb25lbmQiLEdpKSxlLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsR2kpLFcmJihlLnZtb2RlbD0hMCkpKX0sY29tcG9uZW50VXBkYXRlZDpmdW5jdGlvbihlLHQsbil7aWYoInNlbGVjdCI9PT1uLnRhZyl7S2koZSx0LG4uY29udGV4dCk7dmFyIHI9ZS5fdk9wdGlvbnMsaT1lLl92T3B0aW9ucz1bXS5tYXAuY2FsbChlLm9wdGlvbnMsV2kpO2lmKGkuc29tZShmdW5jdGlvbihlLHQpe3JldHVybiFOKGUsclt0XSl9KSkoZS5tdWx0aXBsZT90LnZhbHVlLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIHFpKGUsaSl9KTp0LnZhbHVlIT09dC5vbGRWYWx1ZSYmcWkodC52YWx1ZSxpKSkmJlhpKGUsImNoYW5nZSIpfX19O2Z1bmN0aW9uIEtpKGUsdCxuKXtKaShlLHQsbiksKHF8fFopJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7SmkoZSx0LG4pfSwwKX1mdW5jdGlvbiBKaShlLHQsbil7dmFyIHI9dC52YWx1ZSxpPWUubXVsdGlwbGU7aWYoIWl8fEFycmF5LmlzQXJyYXkocikpe2Zvcih2YXIgbyxhLHM9MCxjPWUub3B0aW9ucy5sZW5ndGg7czxjO3MrKylpZihhPWUub3B0aW9uc1tzXSxpKW89aihyLFdpKGEpKT4tMSxhLnNlbGVjdGVkIT09byYmKGEuc2VsZWN0ZWQ9byk7ZWxzZSBpZihOKFdpKGEpLHIpKXJldHVybiB2b2lkKGUuc2VsZWN0ZWRJbmRleCE9PXMmJihlLnNlbGVjdGVkSW5kZXg9cykpO2l8fChlLnNlbGVjdGVkSW5kZXg9LTEpfX1mdW5jdGlvbiBxaShlLHQpe3JldHVybiB0LmV2ZXJ5KGZ1bmN0aW9uKHQpe3JldHVybiFOKHQsZSl9KX1mdW5jdGlvbiBXaShlKXtyZXR1cm4iX3ZhbHVlImluIGU/ZS5fdmFsdWU6ZS52YWx1ZX1mdW5jdGlvbiBaaShlKXtlLnRhcmdldC5jb21wb3Npbmc9ITB9ZnVuY3Rpb24gR2koZSl7ZS50YXJnZXQuY29tcG9zaW5nJiYoZS50YXJnZXQuY29tcG9zaW5nPSExLFhpKGUudGFyZ2V0LCJpbnB1dCIpKX1mdW5jdGlvbiBYaShlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIik7bi5pbml0RXZlbnQodCwhMCwhMCksZS5kaXNwYXRjaEV2ZW50KG4pfWZ1bmN0aW9uIFlpKGUpe3JldHVybiFlLmNvbXBvbmVudEluc3RhbmNlfHxlLmRhdGEmJmUuZGF0YS50cmFuc2l0aW9uP2U6WWkoZS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUpfXZhciBRaT17bW9kZWw6Vmksc2hvdzp7YmluZDpmdW5jdGlvbihlLHQsbil7dmFyIHI9dC52YWx1ZSxpPShuPVlpKG4pKS5kYXRhJiZuLmRhdGEudHJhbnNpdGlvbixvPWUuX192T3JpZ2luYWxEaXNwbGF5PSJub25lIj09PWUuc3R5bGUuZGlzcGxheT8iIjplLnN0eWxlLmRpc3BsYXk7ciYmaT8obi5kYXRhLnNob3c9ITAsUGkobixmdW5jdGlvbigpe2Uuc3R5bGUuZGlzcGxheT1vfSkpOmUuc3R5bGUuZGlzcGxheT1yP286Im5vbmUifSx1cGRhdGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQudmFsdWU7IXIhPSF0Lm9sZFZhbHVlJiYoKG49WWkobikpLmRhdGEmJm4uZGF0YS50cmFuc2l0aW9uPyhuLmRhdGEuc2hvdz0hMCxyP1BpKG4sZnVuY3Rpb24oKXtlLnN0eWxlLmRpc3BsYXk9ZS5fX3ZPcmlnaW5hbERpc3BsYXl9KTpSaShuLGZ1bmN0aW9uKCl7ZS5zdHlsZS5kaXNwbGF5PSJub25lIn0pKTplLnN0eWxlLmRpc3BsYXk9cj9lLl9fdk9yaWdpbmFsRGlzcGxheToibm9uZSIpfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0LG4scixpKXtpfHwoZS5zdHlsZS5kaXNwbGF5PWUuX192T3JpZ2luYWxEaXNwbGF5KX19fSxlbz17bmFtZTpTdHJpbmcsYXBwZWFyOkJvb2xlYW4sY3NzOkJvb2xlYW4sbW9kZTpTdHJpbmcsdHlwZTpTdHJpbmcsZW50ZXJDbGFzczpTdHJpbmcsbGVhdmVDbGFzczpTdHJpbmcsZW50ZXJUb0NsYXNzOlN0cmluZyxsZWF2ZVRvQ2xhc3M6U3RyaW5nLGVudGVyQWN0aXZlQ2xhc3M6U3RyaW5nLGxlYXZlQWN0aXZlQ2xhc3M6U3RyaW5nLGFwcGVhckNsYXNzOlN0cmluZyxhcHBlYXJBY3RpdmVDbGFzczpTdHJpbmcsYXBwZWFyVG9DbGFzczpTdHJpbmcsZHVyYXRpb246W051bWJlcixTdHJpbmcsT2JqZWN0XX07ZnVuY3Rpb24gdG8oZSl7dmFyIHQ9ZSYmZS5jb21wb25lbnRPcHRpb25zO3JldHVybiB0JiZ0LkN0b3Iub3B0aW9ucy5hYnN0cmFjdD90byh6dCh0LmNoaWxkcmVuKSk6ZX1mdW5jdGlvbiBubyhlKXt2YXIgdD17fSxuPWUuJG9wdGlvbnM7Zm9yKHZhciByIGluIG4ucHJvcHNEYXRhKXRbcl09ZVtyXTt2YXIgaT1uLl9wYXJlbnRMaXN0ZW5lcnM7Zm9yKHZhciBvIGluIGkpdFtiKG8pXT1pW29dO3JldHVybiB0fWZ1bmN0aW9uIHJvKGUsdCl7aWYoL1xkLWtlZXAtYWxpdmUkLy50ZXN0KHQudGFnKSlyZXR1cm4gZSgia2VlcC1hbGl2ZSIse3Byb3BzOnQuY29tcG9uZW50T3B0aW9ucy5wcm9wc0RhdGF9KX12YXIgaW89ZnVuY3Rpb24oZSl7cmV0dXJuIGUudGFnfHxVdChlKX0sb289ZnVuY3Rpb24oZSl7cmV0dXJuInNob3ciPT09ZS5uYW1lfSxhbz17bmFtZToidHJhbnNpdGlvbiIscHJvcHM6ZW8sYWJzdHJhY3Q6ITAscmVuZGVyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10aGlzLiRzbG90cy5kZWZhdWx0O2lmKG4mJihuPW4uZmlsdGVyKGlvKSkubGVuZ3RoKXt2YXIgcj10aGlzLm1vZGUsbz1uWzBdO2lmKGZ1bmN0aW9uKGUpe2Zvcig7ZT1lLnBhcmVudDspaWYoZS5kYXRhLnRyYW5zaXRpb24pcmV0dXJuITB9KHRoaXMuJHZub2RlKSlyZXR1cm4gbzt2YXIgYT10byhvKTtpZighYSlyZXR1cm4gbztpZih0aGlzLl9sZWF2aW5nKXJldHVybiBybyhlLG8pO3ZhciBzPSJfX3RyYW5zaXRpb24tIit0aGlzLl91aWQrIi0iO2Eua2V5PW51bGw9PWEua2V5P2EuaXNDb21tZW50P3MrImNvbW1lbnQiOnMrYS50YWc6aShhLmtleSk/MD09PVN0cmluZyhhLmtleSkuaW5kZXhPZihzKT9hLmtleTpzK2Eua2V5OmEua2V5O3ZhciBjPShhLmRhdGF8fChhLmRhdGE9e30pKS50cmFuc2l0aW9uPW5vKHRoaXMpLHU9dGhpcy5fdm5vZGUsbD10byh1KTtpZihhLmRhdGEuZGlyZWN0aXZlcyYmYS5kYXRhLmRpcmVjdGl2ZXMuc29tZShvbykmJihhLmRhdGEuc2hvdz0hMCksbCYmbC5kYXRhJiYhZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5rZXk9PT1lLmtleSYmdC50YWc9PT1lLnRhZ30oYSxsKSYmIVV0KGwpJiYoIWwuY29tcG9uZW50SW5zdGFuY2V8fCFsLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZS5pc0NvbW1lbnQpKXt2YXIgZj1sLmRhdGEudHJhbnNpdGlvbj1BKHt9LGMpO2lmKCJvdXQtaW4iPT09cilyZXR1cm4gdGhpcy5fbGVhdmluZz0hMCxpdChmLCJhZnRlckxlYXZlIixmdW5jdGlvbigpe3QuX2xlYXZpbmc9ITEsdC4kZm9yY2VVcGRhdGUoKX0pLHJvKGUsbyk7aWYoImluLW91dCI9PT1yKXtpZihVdChhKSlyZXR1cm4gdTt2YXIgcCxkPWZ1bmN0aW9uKCl7cCgpfTtpdChjLCJhZnRlckVudGVyIixkKSxpdChjLCJlbnRlckNhbmNlbGxlZCIsZCksaXQoZiwiZGVsYXlMZWF2ZSIsZnVuY3Rpb24oZSl7cD1lfSl9fXJldHVybiBvfX19LHNvPUEoe3RhZzpTdHJpbmcsbW92ZUNsYXNzOlN0cmluZ30sZW8pO2Z1bmN0aW9uIGNvKGUpe2UuZWxtLl9tb3ZlQ2ImJmUuZWxtLl9tb3ZlQ2IoKSxlLmVsbS5fZW50ZXJDYiYmZS5lbG0uX2VudGVyQ2IoKX1mdW5jdGlvbiB1byhlKXtlLmRhdGEubmV3UG9zPWUuZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWZ1bmN0aW9uIGxvKGUpe3ZhciB0PWUuZGF0YS5wb3Msbj1lLmRhdGEubmV3UG9zLHI9dC5sZWZ0LW4ubGVmdCxpPXQudG9wLW4udG9wO2lmKHJ8fGkpe2UuZGF0YS5tb3ZlZD0hMDt2YXIgbz1lLmVsbS5zdHlsZTtvLnRyYW5zZm9ybT1vLldlYmtpdFRyYW5zZm9ybT0idHJhbnNsYXRlKCIrcisicHgsIitpKyJweCkiLG8udHJhbnNpdGlvbkR1cmF0aW9uPSIwcyJ9fWRlbGV0ZSBzby5tb2RlO3ZhciBmbz17VHJhbnNpdGlvbjphbyxUcmFuc2l0aW9uR3JvdXA6e3Byb3BzOnNvLGJlZm9yZU1vdW50OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX3VwZGF0ZTt0aGlzLl91cGRhdGU9ZnVuY3Rpb24obixyKXt2YXIgaT1adChlKTtlLl9fcGF0Y2hfXyhlLl92bm9kZSxlLmtlcHQsITEsITApLGUuX3Zub2RlPWUua2VwdCxpKCksdC5jYWxsKGUsbixyKX19LHJlbmRlcjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50YWd8fHRoaXMuJHZub2RlLmRhdGEudGFnfHwic3BhbiIsbj1PYmplY3QuY3JlYXRlKG51bGwpLHI9dGhpcy5wcmV2Q2hpbGRyZW49dGhpcy5jaGlsZHJlbixpPXRoaXMuJHNsb3RzLmRlZmF1bHR8fFtdLG89dGhpcy5jaGlsZHJlbj1bXSxhPW5vKHRoaXMpLHM9MDtzPGkubGVuZ3RoO3MrKyl7dmFyIGM9aVtzXTtjLnRhZyYmbnVsbCE9Yy5rZXkmJjAhPT1TdHJpbmcoYy5rZXkpLmluZGV4T2YoIl9fdmxpc3QiKSYmKG8ucHVzaChjKSxuW2Mua2V5XT1jLChjLmRhdGF8fChjLmRhdGE9e30pKS50cmFuc2l0aW9uPWEpfWlmKHIpe2Zvcih2YXIgdT1bXSxsPVtdLGY9MDtmPHIubGVuZ3RoO2YrKyl7dmFyIHA9cltmXTtwLmRhdGEudHJhbnNpdGlvbj1hLHAuZGF0YS5wb3M9cC5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbltwLmtleV0/dS5wdXNoKHApOmwucHVzaChwKX10aGlzLmtlcHQ9ZSh0LG51bGwsdSksdGhpcy5yZW1vdmVkPWx9cmV0dXJuIGUodCxudWxsLG8pfSx1cGRhdGVkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcmV2Q2hpbGRyZW4sdD10aGlzLm1vdmVDbGFzc3x8KHRoaXMubmFtZXx8InYiKSsiLW1vdmUiO2UubGVuZ3RoJiZ0aGlzLmhhc01vdmUoZVswXS5lbG0sdCkmJihlLmZvckVhY2goY28pLGUuZm9yRWFjaCh1byksZS5mb3JFYWNoKGxvKSx0aGlzLl9yZWZsb3c9ZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQsZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKGUuZGF0YS5tb3ZlZCl7dmFyIG49ZS5lbG0scj1uLnN0eWxlO05pKG4sdCksci50cmFuc2Zvcm09ci5XZWJraXRUcmFuc2Zvcm09ci50cmFuc2l0aW9uRHVyYXRpb249IiIsbi5hZGRFdmVudExpc3RlbmVyKEFpLG4uX21vdmVDYj1mdW5jdGlvbiBlKHIpe3ImJnIudGFyZ2V0IT09bnx8ciYmIS90cmFuc2Zvcm0kLy50ZXN0KHIucHJvcGVydHlOYW1lKXx8KG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihBaSxlKSxuLl9tb3ZlQ2I9bnVsbCxqaShuLHQpKX0pfX0pKX0sbWV0aG9kczp7aGFzTW92ZTpmdW5jdGlvbihlLHQpe2lmKCF3aSlyZXR1cm4hMTtpZih0aGlzLl9oYXNNb3ZlKXJldHVybiB0aGlzLl9oYXNNb3ZlO3ZhciBuPWUuY2xvbmVOb2RlKCk7ZS5fdHJhbnNpdGlvbkNsYXNzZXMmJmUuX3RyYW5zaXRpb25DbGFzc2VzLmZvckVhY2goZnVuY3Rpb24oZSl7X2kobixlKX0pLGdpKG4sdCksbi5zdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLiRlbC5hcHBlbmRDaGlsZChuKTt2YXIgcj1NaShuKTtyZXR1cm4gdGhpcy4kZWwucmVtb3ZlQ2hpbGQobiksdGhpcy5faGFzTW92ZT1yLmhhc1RyYW5zZm9ybX19fX07d24uY29uZmlnLm11c3RVc2VQcm9wPWpuLHduLmNvbmZpZy5pc1Jlc2VydmVkVGFnPVduLHduLmNvbmZpZy5pc1Jlc2VydmVkQXR0cj1Fbix3bi5jb25maWcuZ2V0VGFnTmFtZXNwYWNlPVpuLHduLmNvbmZpZy5pc1Vua25vd25FbGVtZW50PWZ1bmN0aW9uKGUpe2lmKCF6KXJldHVybiEwO2lmKFduKGUpKXJldHVybiExO2lmKGU9ZS50b0xvd2VyQ2FzZSgpLG51bGwhPUduW2VdKXJldHVybiBHbltlXTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO3JldHVybiBlLmluZGV4T2YoIi0iKT4tMT9HbltlXT10LmNvbnN0cnVjdG9yPT09d2luZG93LkhUTUxVbmtub3duRWxlbWVudHx8dC5jb25zdHJ1Y3Rvcj09PXdpbmRvdy5IVE1MRWxlbWVudDpHbltlXT0vSFRNTFVua25vd25FbGVtZW50Ly50ZXN0KHQudG9TdHJpbmcoKSl9LEEod24ub3B0aW9ucy5kaXJlY3RpdmVzLFFpKSxBKHduLm9wdGlvbnMuY29tcG9uZW50cyxmbyksd24ucHJvdG90eXBlLl9fcGF0Y2hfXz16P3ppOlMsd24ucHJvdG90eXBlLiRtb3VudD1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIGUuJGVsPXQsZS4kb3B0aW9ucy5yZW5kZXJ8fChlLiRvcHRpb25zLnJlbmRlcj12ZSksWXQoZSwiYmVmb3JlTW91bnQiKSxyPWZ1bmN0aW9uKCl7ZS5fdXBkYXRlKGUuX3JlbmRlcigpLG4pfSxuZXcgZm4oZSxyLFMse2JlZm9yZTpmdW5jdGlvbigpe2UuX2lzTW91bnRlZCYmIWUuX2lzRGVzdHJveWVkJiZZdChlLCJiZWZvcmVVcGRhdGUiKX19LCEwKSxuPSExLG51bGw9PWUuJHZub2RlJiYoZS5faXNNb3VudGVkPSEwLFl0KGUsIm1vdW50ZWQiKSksZX0odGhpcyxlPWUmJno/WW4oZSk6dm9pZCAwLHQpfSx6JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Ri5kZXZ0b29scyYmbmUmJm5lLmVtaXQoImluaXQiLHduKX0sMCk7dmFyIHBvPS9ce1x7KCg/Oi58XHI/XG4pKz8pXH1cfS9nLHZvPS9bLS4qKz9eJHt9KCl8W1xdXC9cXF0vZyxobz1nKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0ucmVwbGFjZSh2bywiXFwkJiIpLG49ZVsxXS5yZXBsYWNlKHZvLCJcXCQmIik7cmV0dXJuIG5ldyBSZWdFeHAodCsiKCg/Oi58XFxuKSs/KSIrbiwiZyIpfSk7dmFyIG1vPXtzdGF0aWNLZXlzOlsic3RhdGljQ2xhc3MiXSx0cmFuc2Zvcm1Ob2RlOmZ1bmN0aW9uKGUsdCl7dC53YXJuO3ZhciBuPUZyKGUsImNsYXNzIik7biYmKGUuc3RhdGljQ2xhc3M9SlNPTi5zdHJpbmdpZnkobikpO3ZhciByPUlyKGUsImNsYXNzIiwhMSk7ciYmKGUuY2xhc3NCaW5kaW5nPXIpfSxnZW5EYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PSIiO3JldHVybiBlLnN0YXRpY0NsYXNzJiYodCs9InN0YXRpY0NsYXNzOiIrZS5zdGF0aWNDbGFzcysiLCIpLGUuY2xhc3NCaW5kaW5nJiYodCs9ImNsYXNzOiIrZS5jbGFzc0JpbmRpbmcrIiwiKSx0fX07dmFyIHlvLGdvPXtzdGF0aWNLZXlzOlsic3RhdGljU3R5bGUiXSx0cmFuc2Zvcm1Ob2RlOmZ1bmN0aW9uKGUsdCl7dC53YXJuO3ZhciBuPUZyKGUsInN0eWxlIik7biYmKGUuc3RhdGljU3R5bGU9SlNPTi5zdHJpbmdpZnkoYWkobikpKTt2YXIgcj1JcihlLCJzdHlsZSIsITEpO3ImJihlLnN0eWxlQmluZGluZz1yKX0sZ2VuRGF0YTpmdW5jdGlvbihlKXt2YXIgdD0iIjtyZXR1cm4gZS5zdGF0aWNTdHlsZSYmKHQrPSJzdGF0aWNTdHlsZToiK2Uuc3RhdGljU3R5bGUrIiwiKSxlLnN0eWxlQmluZGluZyYmKHQrPSJzdHlsZTooIitlLnN0eWxlQmluZGluZysiKSwiKSx0fX0sX289ZnVuY3Rpb24oZSl7cmV0dXJuKHlvPXlvfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuaW5uZXJIVE1MPWUseW8udGV4dENvbnRlbnR9LGJvPXAoImFyZWEsYmFzZSxicixjb2wsZW1iZWQsZnJhbWUsaHIsaW1nLGlucHV0LGlzaW5kZXgsa2V5Z2VuLGxpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyIiksJG89cCgiY29sZ3JvdXAsZGQsZHQsbGksb3B0aW9ucyxwLHRkLHRmb290LHRoLHRoZWFkLHRyLHNvdXJjZSIpLHdvPXAoImFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxiYXNlLGJsb2NrcXVvdGUsYm9keSxjYXB0aW9uLGNvbCxjb2xncm91cCxkZCxkZXRhaWxzLGRpYWxvZyxkaXYsZGwsZHQsZmllbGRzZXQsZmlnY2FwdGlvbixmaWd1cmUsZm9vdGVyLGZvcm0saDEsaDIsaDMsaDQsaDUsaDYsaGVhZCxoZWFkZXIsaGdyb3VwLGhyLGh0bWwsbGVnZW5kLGxpLG1lbnVpdGVtLG1ldGEsb3B0Z3JvdXAsb3B0aW9uLHBhcmFtLHJwLHJ0LHNvdXJjZSxzdHlsZSxzdW1tYXJ5LHRib2R5LHRkLHRmb290LHRoLHRoZWFkLHRpdGxlLHRyLHRyYWNrIiksQ289L15ccyooW15ccyInPD5cLz1dKykoPzpccyooPSlccyooPzoiKFteIl0qKSIrfCcoW14nXSopJyt8KFteXHMiJz08PmBdKykpKT8vLHhvPS9eXHMqKCg/OnYtW1x3LV0rOnxAfDp8IylcW1tePV0rXF1bXlxzIic8PlwvPV0qKSg/OlxzKig9KVxzKig/OiIoW14iXSopIit8JyhbXiddKiknK3woW15ccyInPTw+YF0rKSkpPy8sa289IlthLXpBLVpfXVtcXC1cXC4wLTlfYS16QS1aIitQLnNvdXJjZSsiXSoiLEFvPSIoKD86IitrbysiXFw6KT8iK2tvKyIpIixPbz1uZXcgUmVnRXhwKCJePCIrQW8pLFNvPS9eXHMqKFwvPyk+LyxUbz1uZXcgUmVnRXhwKCJePFxcLyIrQW8rIltePl0qPiIpLEVvPS9ePCFET0NUWVBFIFtePl0rPi9pLE5vPS9ePCFcLS0vLGpvPS9ePCFcWy8sRG89cCgic2NyaXB0LHN0eWxlLHRleHRhcmVhIiwhMCksTG89e30sTW89eyImbHQ7IjoiPCIsIiZndDsiOiI+IiwiJnF1b3Q7IjonIicsIiZhbXA7IjoiJiIsIiYjMTA7IjoiXG4iLCImIzk7IjoiXHQiLCImIzM5OyI6IicifSxJbz0vJig/Omx0fGd0fHF1b3R8YW1wfCMzOSk7L2csRm89LyYoPzpsdHxndHxxdW90fGFtcHwjMzl8IzEwfCM5KTsvZyxQbz1wKCJwcmUsdGV4dGFyZWEiLCEwKSxSbz1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZQbyhlKSYmIlxuIj09PXRbMF19O2Z1bmN0aW9uIEhvKGUsdCl7dmFyIG49dD9GbzpJbztyZXR1cm4gZS5yZXBsYWNlKG4sZnVuY3Rpb24oZSl7cmV0dXJuIE1vW2VdfSl9dmFyIEJvLFVvLHpvLFZvLEtvLEpvLHFvLFdvLFpvPS9eQHxedi1vbjovLEdvPS9edi18XkB8Xjp8XiMvLFhvPS8oW1xzXFNdKj8pXHMrKD86aW58b2YpXHMrKFtcc1xTXSopLyxZbz0vLChbXixcfVxdXSopKD86LChbXixcfVxdXSopKT8kLyxRbz0vXlwofFwpJC9nLGVhPS9eXFsuKlxdJC8sdGE9LzooLiopJC8sbmE9L146fF5cLnxedi1iaW5kOi8scmE9L1wuW14uXF1dKyg/PVteXF1dKiQpL2csaWE9L152LXNsb3QoOnwkKXxeIy8sb2E9L1tcclxuXS8sYWE9L1xzKy9nLHNhPWcoX28pLGNhPSJfZW1wdHlfIjtmdW5jdGlvbiB1YShlLHQsbil7cmV0dXJue3R5cGU6MSx0YWc6ZSxhdHRyc0xpc3Q6dCxhdHRyc01hcDptYSh0KSxyYXdBdHRyc01hcDp7fSxwYXJlbnQ6bixjaGlsZHJlbjpbXX19ZnVuY3Rpb24gbGEoZSx0KXtCbz10Lndhcm58fFNyLEpvPXQuaXNQcmVUYWd8fFQscW89dC5tdXN0VXNlUHJvcHx8VCxXbz10LmdldFRhZ05hbWVzcGFjZXx8VDt0LmlzUmVzZXJ2ZWRUYWc7em89VHIodC5tb2R1bGVzLCJ0cmFuc2Zvcm1Ob2RlIiksVm89VHIodC5tb2R1bGVzLCJwcmVUcmFuc2Zvcm1Ob2RlIiksS289VHIodC5tb2R1bGVzLCJwb3N0VHJhbnNmb3JtTm9kZSIpLFVvPXQuZGVsaW1pdGVyczt2YXIgbixyLGk9W10sbz0hMSE9PXQucHJlc2VydmVXaGl0ZXNwYWNlLGE9dC53aGl0ZXNwYWNlLHM9ITEsYz0hMTtmdW5jdGlvbiB1KGUpe2lmKGwoZSksc3x8ZS5wcm9jZXNzZWR8fChlPWZhKGUsdCkpLGkubGVuZ3RofHxlPT09bnx8bi5pZiYmKGUuZWxzZWlmfHxlLmVsc2UpJiZkYShuLHtleHA6ZS5lbHNlaWYsYmxvY2s6ZX0pLHImJiFlLmZvcmJpZGRlbilpZihlLmVsc2VpZnx8ZS5lbHNlKWE9ZSwodT1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDtmb3IoO3QtLTspe2lmKDE9PT1lW3RdLnR5cGUpcmV0dXJuIGVbdF07ZS5wb3AoKX19KHIuY2hpbGRyZW4pKSYmdS5pZiYmZGEodSx7ZXhwOmEuZWxzZWlmLGJsb2NrOmF9KTtlbHNle2lmKGUuc2xvdFNjb3BlKXt2YXIgbz1lLnNsb3RUYXJnZXR8fCciZGVmYXVsdCInOyhyLnNjb3BlZFNsb3RzfHwoci5zY29wZWRTbG90cz17fSkpW29dPWV9ci5jaGlsZHJlbi5wdXNoKGUpLGUucGFyZW50PXJ9dmFyIGEsdTtlLmNoaWxkcmVuPWUuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFlLnNsb3RTY29wZX0pLGwoZSksZS5wcmUmJihzPSExKSxKbyhlLnRhZykmJihjPSExKTtmb3IodmFyIGY9MDtmPEtvLmxlbmd0aDtmKyspS29bZl0oZSx0KX1mdW5jdGlvbiBsKGUpe2lmKCFjKWZvcih2YXIgdDsodD1lLmNoaWxkcmVuW2UuY2hpbGRyZW4ubGVuZ3RoLTFdKSYmMz09PXQudHlwZSYmIiAiPT09dC50ZXh0OyllLmNoaWxkcmVuLnBvcCgpfXJldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLGk9W10sbz10LmV4cGVjdEhUTUwsYT10LmlzVW5hcnlUYWd8fFQscz10LmNhbkJlTGVmdE9wZW5UYWd8fFQsYz0wO2U7KXtpZihuPWUsciYmRG8ocikpe3ZhciB1PTAsbD1yLnRvTG93ZXJDYXNlKCksZj1Mb1tsXXx8KExvW2xdPW5ldyBSZWdFeHAoIihbXFxzXFxTXSo/KSg8LyIrbCsiW14+XSo+KSIsImkiKSkscD1lLnJlcGxhY2UoZixmdW5jdGlvbihlLG4scil7cmV0dXJuIHU9ci5sZW5ndGgsRG8obCl8fCJub3NjcmlwdCI9PT1sfHwobj1uLnJlcGxhY2UoLzwhXC0tKFtcc1xTXSo/KS0tPi9nLCIkMSIpLnJlcGxhY2UoLzwhXFtDREFUQVxbKFtcc1xTXSo/KV1dPi9nLCIkMSIpKSxSbyhsLG4pJiYobj1uLnNsaWNlKDEpKSx0LmNoYXJzJiZ0LmNoYXJzKG4pLCIifSk7Yys9ZS5sZW5ndGgtcC5sZW5ndGgsZT1wLEEobCxjLXUsYyl9ZWxzZXt2YXIgZD1lLmluZGV4T2YoIjwiKTtpZigwPT09ZCl7aWYoTm8udGVzdChlKSl7dmFyIHY9ZS5pbmRleE9mKCItLVx4M2UiKTtpZih2Pj0wKXt0LnNob3VsZEtlZXBDb21tZW50JiZ0LmNvbW1lbnQoZS5zdWJzdHJpbmcoNCx2KSxjLGMrdiszKSxDKHYrMyk7Y29udGludWV9fWlmKGpvLnRlc3QoZSkpe3ZhciBoPWUuaW5kZXhPZigiXT4iKTtpZihoPj0wKXtDKGgrMik7Y29udGludWV9fXZhciBtPWUubWF0Y2goRW8pO2lmKG0pe0MobVswXS5sZW5ndGgpO2NvbnRpbnVlfXZhciB5PWUubWF0Y2goVG8pO2lmKHkpe3ZhciBnPWM7Qyh5WzBdLmxlbmd0aCksQSh5WzFdLGcsYyk7Y29udGludWV9dmFyIF89eCgpO2lmKF8pe2soXyksUm8oXy50YWdOYW1lLGUpJiZDKDEpO2NvbnRpbnVlfX12YXIgYj12b2lkIDAsJD12b2lkIDAsdz12b2lkIDA7aWYoZD49MCl7Zm9yKCQ9ZS5zbGljZShkKTshKFRvLnRlc3QoJCl8fE9vLnRlc3QoJCl8fE5vLnRlc3QoJCl8fGpvLnRlc3QoJCl8fCh3PSQuaW5kZXhPZigiPCIsMSkpPDApOylkKz13LCQ9ZS5zbGljZShkKTtiPWUuc3Vic3RyaW5nKDAsZCl9ZDwwJiYoYj1lKSxiJiZDKGIubGVuZ3RoKSx0LmNoYXJzJiZiJiZ0LmNoYXJzKGIsYy1iLmxlbmd0aCxjKX1pZihlPT09bil7dC5jaGFycyYmdC5jaGFycyhlKTticmVha319ZnVuY3Rpb24gQyh0KXtjKz10LGU9ZS5zdWJzdHJpbmcodCl9ZnVuY3Rpb24geCgpe3ZhciB0PWUubWF0Y2goT28pO2lmKHQpe3ZhciBuLHIsaT17dGFnTmFtZTp0WzFdLGF0dHJzOltdLHN0YXJ0OmN9O2ZvcihDKHRbMF0ubGVuZ3RoKTshKG49ZS5tYXRjaChTbykpJiYocj1lLm1hdGNoKHhvKXx8ZS5tYXRjaChDbykpOylyLnN0YXJ0PWMsQyhyWzBdLmxlbmd0aCksci5lbmQ9YyxpLmF0dHJzLnB1c2gocik7aWYobilyZXR1cm4gaS51bmFyeVNsYXNoPW5bMV0sQyhuWzBdLmxlbmd0aCksaS5lbmQ9YyxpfX1mdW5jdGlvbiBrKGUpe3ZhciBuPWUudGFnTmFtZSxjPWUudW5hcnlTbGFzaDtvJiYoInAiPT09ciYmd28obikmJkEocikscyhuKSYmcj09PW4mJkEobikpO2Zvcih2YXIgdT1hKG4pfHwhIWMsbD1lLmF0dHJzLmxlbmd0aCxmPW5ldyBBcnJheShsKSxwPTA7cDxsO3ArKyl7dmFyIGQ9ZS5hdHRyc1twXSx2PWRbM118fGRbNF18fGRbNV18fCIiLGg9ImEiPT09biYmImhyZWYiPT09ZFsxXT90LnNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZjp0LnNob3VsZERlY29kZU5ld2xpbmVzO2ZbcF09e25hbWU6ZFsxXSx2YWx1ZTpIbyh2LGgpfX11fHwoaS5wdXNoKHt0YWc6bixsb3dlckNhc2VkVGFnOm4udG9Mb3dlckNhc2UoKSxhdHRyczpmLHN0YXJ0OmUuc3RhcnQsZW5kOmUuZW5kfSkscj1uKSx0LnN0YXJ0JiZ0LnN0YXJ0KG4sZix1LGUuc3RhcnQsZS5lbmQpfWZ1bmN0aW9uIEEoZSxuLG8pe3ZhciBhLHM7aWYobnVsbD09biYmKG49YyksbnVsbD09byYmKG89YyksZSlmb3Iocz1lLnRvTG93ZXJDYXNlKCksYT1pLmxlbmd0aC0xO2E+PTAmJmlbYV0ubG93ZXJDYXNlZFRhZyE9PXM7YS0tKTtlbHNlIGE9MDtpZihhPj0wKXtmb3IodmFyIHU9aS5sZW5ndGgtMTt1Pj1hO3UtLSl0LmVuZCYmdC5lbmQoaVt1XS50YWcsbixvKTtpLmxlbmd0aD1hLHI9YSYmaVthLTFdLnRhZ31lbHNlImJyIj09PXM/dC5zdGFydCYmdC5zdGFydChlLFtdLCEwLG4sbyk6InAiPT09cyYmKHQuc3RhcnQmJnQuc3RhcnQoZSxbXSwhMSxuLG8pLHQuZW5kJiZ0LmVuZChlLG4sbykpfUEoKX0oZSx7d2FybjpCbyxleHBlY3RIVE1MOnQuZXhwZWN0SFRNTCxpc1VuYXJ5VGFnOnQuaXNVbmFyeVRhZyxjYW5CZUxlZnRPcGVuVGFnOnQuY2FuQmVMZWZ0T3BlblRhZyxzaG91bGREZWNvZGVOZXdsaW5lczp0LnNob3VsZERlY29kZU5ld2xpbmVzLHNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZjp0LnNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZixzaG91bGRLZWVwQ29tbWVudDp0LmNvbW1lbnRzLG91dHB1dFNvdXJjZVJhbmdlOnQub3V0cHV0U291cmNlUmFuZ2Usc3RhcnQ6ZnVuY3Rpb24oZSxvLGEsbCxmKXt2YXIgcD1yJiZyLm5zfHxXbyhlKTtxJiYic3ZnIj09PXAmJihvPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByPWVbbl07eWEudGVzdChyLm5hbWUpfHwoci5uYW1lPXIubmFtZS5yZXBsYWNlKGdhLCIiKSx0LnB1c2gocikpfXJldHVybiB0fShvKSk7dmFyIGQsdj11YShlLG8scik7cCYmKHYubnM9cCksInN0eWxlIiE9PShkPXYpLnRhZyYmKCJzY3JpcHQiIT09ZC50YWd8fGQuYXR0cnNNYXAudHlwZSYmInRleHQvamF2YXNjcmlwdCIhPT1kLmF0dHJzTWFwLnR5cGUpfHx0ZSgpfHwodi5mb3JiaWRkZW49ITApO2Zvcih2YXIgaD0wO2g8Vm8ubGVuZ3RoO2grKyl2PVZvW2hdKHYsdCl8fHY7c3x8KCFmdW5jdGlvbihlKXtudWxsIT1GcihlLCJ2LXByZSIpJiYoZS5wcmU9ITApfSh2KSx2LnByZSYmKHM9ITApKSxKbyh2LnRhZykmJihjPSEwKSxzP2Z1bmN0aW9uKGUpe3ZhciB0PWUuYXR0cnNMaXN0LG49dC5sZW5ndGg7aWYobilmb3IodmFyIHI9ZS5hdHRycz1uZXcgQXJyYXkobiksaT0wO2k8bjtpKyspcltpXT17bmFtZTp0W2ldLm5hbWUsdmFsdWU6SlNPTi5zdHJpbmdpZnkodFtpXS52YWx1ZSl9LG51bGwhPXRbaV0uc3RhcnQmJihyW2ldLnN0YXJ0PXRbaV0uc3RhcnQscltpXS5lbmQ9dFtpXS5lbmQpO2Vsc2UgZS5wcmV8fChlLnBsYWluPSEwKX0odik6di5wcm9jZXNzZWR8fChwYSh2KSxmdW5jdGlvbihlKXt2YXIgdD1GcihlLCJ2LWlmIik7aWYodCllLmlmPXQsZGEoZSx7ZXhwOnQsYmxvY2s6ZX0pO2Vsc2V7bnVsbCE9RnIoZSwidi1lbHNlIikmJihlLmVsc2U9ITApO3ZhciBuPUZyKGUsInYtZWxzZS1pZiIpO24mJihlLmVsc2VpZj1uKX19KHYpLGZ1bmN0aW9uKGUpe251bGwhPUZyKGUsInYtb25jZSIpJiYoZS5vbmNlPSEwKX0odikpLG58fChuPXYpLGE/dSh2KToocj12LGkucHVzaCh2KSl9LGVuZDpmdW5jdGlvbihlLHQsbil7dmFyIG89aVtpLmxlbmd0aC0xXTtpLmxlbmd0aC09MSxyPWlbaS5sZW5ndGgtMV0sdShvKX0sY2hhcnM6ZnVuY3Rpb24oZSx0LG4pe2lmKHImJighcXx8InRleHRhcmVhIiE9PXIudGFnfHxyLmF0dHJzTWFwLnBsYWNlaG9sZGVyIT09ZSkpe3ZhciBpLHUsbCxmPXIuY2hpbGRyZW47aWYoZT1jfHxlLnRyaW0oKT8ic2NyaXB0Ij09PShpPXIpLnRhZ3x8InN0eWxlIj09PWkudGFnP2U6c2EoZSk6Zi5sZW5ndGg/YT8iY29uZGVuc2UiPT09YSYmb2EudGVzdChlKT8iIjoiICI6bz8iICI6IiI6IiIpY3x8ImNvbmRlbnNlIiE9PWF8fChlPWUucmVwbGFjZShhYSwiICIpKSwhcyYmIiAiIT09ZSYmKHU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10P2hvKHQpOnBvO2lmKG4udGVzdChlKSl7Zm9yKHZhciByLGksbyxhPVtdLHM9W10sYz1uLmxhc3RJbmRleD0wO3I9bi5leGVjKGUpOyl7KGk9ci5pbmRleCk+YyYmKHMucHVzaChvPWUuc2xpY2UoYyxpKSksYS5wdXNoKEpTT04uc3RyaW5naWZ5KG8pKSk7dmFyIHU9QXIoclsxXS50cmltKCkpO2EucHVzaCgiX3MoIit1KyIpIikscy5wdXNoKHsiQGJpbmRpbmciOnV9KSxjPWkrclswXS5sZW5ndGh9cmV0dXJuIGM8ZS5sZW5ndGgmJihzLnB1c2gobz1lLnNsaWNlKGMpKSxhLnB1c2goSlNPTi5zdHJpbmdpZnkobykpKSx7ZXhwcmVzc2lvbjphLmpvaW4oIisiKSx0b2tlbnM6c319fShlLFVvKSk/bD17dHlwZToyLGV4cHJlc3Npb246dS5leHByZXNzaW9uLHRva2Vuczp1LnRva2Vucyx0ZXh0OmV9OiIgIj09PWUmJmYubGVuZ3RoJiYiICI9PT1mW2YubGVuZ3RoLTFdLnRleHR8fChsPXt0eXBlOjMsdGV4dDplfSksbCYmZi5wdXNoKGwpfX0sY29tbWVudDpmdW5jdGlvbihlLHQsbil7aWYocil7dmFyIGk9e3R5cGU6Myx0ZXh0OmUsaXNDb21tZW50OiEwfTtyLmNoaWxkcmVuLnB1c2goaSl9fX0pLG59ZnVuY3Rpb24gZmEoZSx0KXt2YXIgbixyOyhyPUlyKG49ZSwia2V5IikpJiYobi5rZXk9ciksZS5wbGFpbj0hZS5rZXkmJiFlLnNjb3BlZFNsb3RzJiYhZS5hdHRyc0xpc3QubGVuZ3RoLGZ1bmN0aW9uKGUpe3ZhciB0PUlyKGUsInJlZiIpO3QmJihlLnJlZj10LGUucmVmSW5Gb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtmb3IoO3Q7KXtpZih2b2lkIDAhPT10LmZvcilyZXR1cm4hMDt0PXQucGFyZW50fXJldHVybiExfShlKSl9KGUpLGZ1bmN0aW9uKGUpe3ZhciB0OyJ0ZW1wbGF0ZSI9PT1lLnRhZz8odD1GcihlLCJzY29wZSIpLGUuc2xvdFNjb3BlPXR8fEZyKGUsInNsb3Qtc2NvcGUiKSk6KHQ9RnIoZSwic2xvdC1zY29wZSIpKSYmKGUuc2xvdFNjb3BlPXQpO3ZhciBuPUlyKGUsInNsb3QiKTtuJiYoZS5zbG90VGFyZ2V0PSciIic9PT1uPyciZGVmYXVsdCInOm4sZS5zbG90VGFyZ2V0RHluYW1pYz0hKCFlLmF0dHJzTWFwWyI6c2xvdCJdJiYhZS5hdHRyc01hcFsidi1iaW5kOnNsb3QiXSksInRlbXBsYXRlIj09PWUudGFnfHxlLnNsb3RTY29wZXx8TnIoZSwic2xvdCIsbixmdW5jdGlvbihlLHQpe3JldHVybiBlLnJhd0F0dHJzTWFwWyI6Iit0XXx8ZS5yYXdBdHRyc01hcFsidi1iaW5kOiIrdF18fGUucmF3QXR0cnNNYXBbdF19KGUsInNsb3QiKSkpO2lmKCJ0ZW1wbGF0ZSI9PT1lLnRhZyl7dmFyIHI9UHIoZSxpYSk7aWYocil7dmFyIGk9dmEociksbz1pLm5hbWUsYT1pLmR5bmFtaWM7ZS5zbG90VGFyZ2V0PW8sZS5zbG90VGFyZ2V0RHluYW1pYz1hLGUuc2xvdFNjb3BlPXIudmFsdWV8fGNhfX1lbHNle3ZhciBzPVByKGUsaWEpO2lmKHMpe3ZhciBjPWUuc2NvcGVkU2xvdHN8fChlLnNjb3BlZFNsb3RzPXt9KSx1PXZhKHMpLGw9dS5uYW1lLGY9dS5keW5hbWljLHA9Y1tsXT11YSgidGVtcGxhdGUiLFtdLGUpO3Auc2xvdFRhcmdldD1sLHAuc2xvdFRhcmdldER5bmFtaWM9ZixwLmNoaWxkcmVuPWUuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uKGUpe2lmKCFlLnNsb3RTY29wZSlyZXR1cm4gZS5wYXJlbnQ9cCwhMH0pLHAuc2xvdFNjb3BlPXMudmFsdWV8fGNhLGUuY2hpbGRyZW49W10sZS5wbGFpbj0hMX19fShlKSxmdW5jdGlvbihlKXsic2xvdCI9PT1lLnRhZyYmKGUuc2xvdE5hbWU9SXIoZSwibmFtZSIpKX0oZSksZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9SXIoZSwiaXMiKSkmJihlLmNvbXBvbmVudD10KTtudWxsIT1GcihlLCJpbmxpbmUtdGVtcGxhdGUiKSYmKGUuaW5saW5lVGVtcGxhdGU9ITApfShlKTtmb3IodmFyIGk9MDtpPHpvLmxlbmd0aDtpKyspZT16b1tpXShlLHQpfHxlO3JldHVybiBmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscyxjLHU9ZS5hdHRyc0xpc3Q7Zm9yKHQ9MCxuPXUubGVuZ3RoO3Q8bjt0KyspaWYocj1pPXVbdF0ubmFtZSxvPXVbdF0udmFsdWUsR28udGVzdChyKSlpZihlLmhhc0JpbmRpbmdzPSEwLChhPWhhKHIucmVwbGFjZShHbywiIikpKSYmKHI9ci5yZXBsYWNlKHJhLCIiKSksbmEudGVzdChyKSlyPXIucmVwbGFjZShuYSwiIiksbz1BcihvKSwoYz1lYS50ZXN0KHIpKSYmKHI9ci5zbGljZSgxLC0xKSksYSYmKGEucHJvcCYmIWMmJiJpbm5lckh0bWwiPT09KHI9YihyKSkmJihyPSJpbm5lckhUTUwiKSxhLmNhbWVsJiYhYyYmKHI9YihyKSksYS5zeW5jJiYocz1CcihvLCIkZXZlbnQiKSxjP01yKGUsJyJ1cGRhdGU6IisoJytyKyIpIixzLG51bGwsITEsMCx1W3RdLCEwKTooTXIoZSwidXBkYXRlOiIrYihyKSxzLG51bGwsITEsMCx1W3RdKSxDKHIpIT09YihyKSYmTXIoZSwidXBkYXRlOiIrQyhyKSxzLG51bGwsITEsMCx1W3RdKSkpKSxhJiZhLnByb3B8fCFlLmNvbXBvbmVudCYmcW8oZS50YWcsZS5hdHRyc01hcC50eXBlLHIpP0VyKGUscixvLHVbdF0sYyk6TnIoZSxyLG8sdVt0XSxjKTtlbHNlIGlmKFpvLnRlc3Qocikpcj1yLnJlcGxhY2UoWm8sIiIpLChjPWVhLnRlc3QocikpJiYocj1yLnNsaWNlKDEsLTEpKSxNcihlLHIsbyxhLCExLDAsdVt0XSxjKTtlbHNle3ZhciBsPShyPXIucmVwbGFjZShHbywiIikpLm1hdGNoKHRhKSxmPWwmJmxbMV07Yz0hMSxmJiYocj1yLnNsaWNlKDAsLShmLmxlbmd0aCsxKSksZWEudGVzdChmKSYmKGY9Zi5zbGljZSgxLC0xKSxjPSEwKSksRHIoZSxyLGksbyxmLGMsYSx1W3RdKX1lbHNlIE5yKGUscixKU09OLnN0cmluZ2lmeShvKSx1W3RdKSwhZS5jb21wb25lbnQmJiJtdXRlZCI9PT1yJiZxbyhlLnRhZyxlLmF0dHJzTWFwLnR5cGUscikmJkVyKGUsciwidHJ1ZSIsdVt0XSl9KGUpLGV9ZnVuY3Rpb24gcGEoZSl7dmFyIHQ7aWYodD1GcihlLCJ2LWZvciIpKXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKFhvKTtpZighdClyZXR1cm47dmFyIG49e307bi5mb3I9dFsyXS50cmltKCk7dmFyIHI9dFsxXS50cmltKCkucmVwbGFjZShRbywiIiksaT1yLm1hdGNoKFlvKTtpPyhuLmFsaWFzPXIucmVwbGFjZShZbywiIikudHJpbSgpLG4uaXRlcmF0b3IxPWlbMV0udHJpbSgpLGlbMl0mJihuLml0ZXJhdG9yMj1pWzJdLnRyaW0oKSkpOm4uYWxpYXM9cjtyZXR1cm4gbn0odCk7biYmQShlLG4pfX1mdW5jdGlvbiBkYShlLHQpe2UuaWZDb25kaXRpb25zfHwoZS5pZkNvbmRpdGlvbnM9W10pLGUuaWZDb25kaXRpb25zLnB1c2godCl9ZnVuY3Rpb24gdmEoZSl7dmFyIHQ9ZS5uYW1lLnJlcGxhY2UoaWEsIiIpO3JldHVybiB0fHwiIyIhPT1lLm5hbWVbMF0mJih0PSJkZWZhdWx0IiksZWEudGVzdCh0KT97bmFtZTp0LnNsaWNlKDEsLTEpLGR5bmFtaWM6ITB9OntuYW1lOiciJyt0KyciJyxkeW5hbWljOiExfX1mdW5jdGlvbiBoYShlKXt2YXIgdD1lLm1hdGNoKHJhKTtpZih0KXt2YXIgbj17fTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe25bZS5zbGljZSgxKV09ITB9KSxufX1mdW5jdGlvbiBtYShlKXtmb3IodmFyIHQ9e30sbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl0W2Vbbl0ubmFtZV09ZVtuXS52YWx1ZTtyZXR1cm4gdH12YXIgeWE9L154bWxuczpOU1xkKy8sZ2E9L15OU1xkKzovO2Z1bmN0aW9uIF9hKGUpe3JldHVybiB1YShlLnRhZyxlLmF0dHJzTGlzdC5zbGljZSgpLGUucGFyZW50KX12YXIgYmE9W21vLGdvLHtwcmVUcmFuc2Zvcm1Ob2RlOmZ1bmN0aW9uKGUsdCl7aWYoImlucHV0Ij09PWUudGFnKXt2YXIgbixyPWUuYXR0cnNNYXA7aWYoIXJbInYtbW9kZWwiXSlyZXR1cm47aWYoKHJbIjp0eXBlIl18fHJbInYtYmluZDp0eXBlIl0pJiYobj1JcihlLCJ0eXBlIikpLHIudHlwZXx8bnx8IXJbInYtYmluZCJdfHwobj0iKCIrclsidi1iaW5kIl0rIikudHlwZSIpLG4pe3ZhciBpPUZyKGUsInYtaWYiLCEwKSxvPWk/IiYmKCIraSsiKSI6IiIsYT1udWxsIT1GcihlLCJ2LWVsc2UiLCEwKSxzPUZyKGUsInYtZWxzZS1pZiIsITApLGM9X2EoZSk7cGEoYyksanIoYywidHlwZSIsImNoZWNrYm94IiksZmEoYyx0KSxjLnByb2Nlc3NlZD0hMCxjLmlmPSIoIituKyIpPT09J2NoZWNrYm94JyIrbyxkYShjLHtleHA6Yy5pZixibG9jazpjfSk7dmFyIHU9X2EoZSk7RnIodSwidi1mb3IiLCEwKSxqcih1LCJ0eXBlIiwicmFkaW8iKSxmYSh1LHQpLGRhKGMse2V4cDoiKCIrbisiKT09PSdyYWRpbyciK28sYmxvY2s6dX0pO3ZhciBsPV9hKGUpO3JldHVybiBGcihsLCJ2LWZvciIsITApLGpyKGwsIjp0eXBlIixuKSxmYShsLHQpLGRhKGMse2V4cDppLGJsb2NrOmx9KSxhP2MuZWxzZT0hMDpzJiYoYy5lbHNlaWY9cyksY319fX1dO3ZhciAkYSx3YSxDYT17ZXhwZWN0SFRNTDohMCxtb2R1bGVzOmJhLGRpcmVjdGl2ZXM6e21vZGVsOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10LnZhbHVlLGk9dC5tb2RpZmllcnMsbz1lLnRhZyxhPWUuYXR0cnNNYXAudHlwZTtpZihlLmNvbXBvbmVudClyZXR1cm4gSHIoZSxyLGkpLCExO2lmKCJzZWxlY3QiPT09bykhZnVuY3Rpb24oZSx0LG4pe3ZhciByPSd2YXIgJCRzZWxlY3RlZFZhbCA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbCgkZXZlbnQudGFyZ2V0Lm9wdGlvbnMsZnVuY3Rpb24obyl7cmV0dXJuIG8uc2VsZWN0ZWR9KS5tYXAoZnVuY3Rpb24obyl7dmFyIHZhbCA9ICJfdmFsdWUiIGluIG8gPyBvLl92YWx1ZSA6IG8udmFsdWU7cmV0dXJuICcrKG4mJm4ubnVtYmVyPyJfbih2YWwpIjoidmFsIikrIn0pOyI7cj1yKyIgIitCcih0LCIkZXZlbnQudGFyZ2V0Lm11bHRpcGxlID8gJCRzZWxlY3RlZFZhbCA6ICQkc2VsZWN0ZWRWYWxbMF0iKSxNcihlLCJjaGFuZ2UiLHIsbnVsbCwhMCl9KGUscixpKTtlbHNlIGlmKCJpbnB1dCI9PT1vJiYiY2hlY2tib3giPT09YSkhZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4mJm4ubnVtYmVyLGk9SXIoZSwidmFsdWUiKXx8Im51bGwiLG89SXIoZSwidHJ1ZS12YWx1ZSIpfHwidHJ1ZSIsYT1JcihlLCJmYWxzZS12YWx1ZSIpfHwiZmFsc2UiO0VyKGUsImNoZWNrZWQiLCJBcnJheS5pc0FycmF5KCIrdCsiKT9faSgiK3QrIiwiK2krIik+LTEiKygidHJ1ZSI9PT1vPyI6KCIrdCsiKSI6IjpfcSgiK3QrIiwiK28rIikiKSksTXIoZSwiY2hhbmdlIiwidmFyICQkYT0iK3QrIiwkJGVsPSRldmVudC50YXJnZXQsJCRjPSQkZWwuY2hlY2tlZD8oIitvKyIpOigiK2ErIik7aWYoQXJyYXkuaXNBcnJheSgkJGEpKXt2YXIgJCR2PSIrKHI/Il9uKCIraSsiKSI6aSkrIiwkJGk9X2koJCRhLCQkdik7aWYoJCRlbC5jaGVja2VkKXskJGk8MCYmKCIrQnIodCwiJCRhLmNvbmNhdChbJCR2XSkiKSsiKX1lbHNleyQkaT4tMSYmKCIrQnIodCwiJCRhLnNsaWNlKDAsJCRpKS5jb25jYXQoJCRhLnNsaWNlKCQkaSsxKSkiKSsiKX19ZWxzZXsiK0JyKHQsIiQkYyIpKyJ9IixudWxsLCEwKX0oZSxyLGkpO2Vsc2UgaWYoImlucHV0Ij09PW8mJiJyYWRpbyI9PT1hKSFmdW5jdGlvbihlLHQsbil7dmFyIHI9biYmbi5udW1iZXIsaT1JcihlLCJ2YWx1ZSIpfHwibnVsbCI7RXIoZSwiY2hlY2tlZCIsIl9xKCIrdCsiLCIrKGk9cj8iX24oIitpKyIpIjppKSsiKSIpLE1yKGUsImNoYW5nZSIsQnIodCxpKSxudWxsLCEwKX0oZSxyLGkpO2Vsc2UgaWYoImlucHV0Ij09PW98fCJ0ZXh0YXJlYSI9PT1vKSFmdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5hdHRyc01hcC50eXBlLGk9bnx8e30sbz1pLmxhenksYT1pLm51bWJlcixzPWkudHJpbSxjPSFvJiYicmFuZ2UiIT09cix1PW8/ImNoYW5nZSI6InJhbmdlIj09PXI/V3I6ImlucHV0IixsPSIkZXZlbnQudGFyZ2V0LnZhbHVlIjtzJiYobD0iJGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCkiKSxhJiYobD0iX24oIitsKyIpIik7dmFyIGY9QnIodCxsKTtjJiYoZj0iaWYoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpcmV0dXJuOyIrZiksRXIoZSwidmFsdWUiLCIoIit0KyIpIiksTXIoZSx1LGYsbnVsbCwhMCksKHN8fGEpJiZNcihlLCJibHVyIiwiJGZvcmNlVXBkYXRlKCkiKX0oZSxyLGkpO2Vsc2UgaWYoIUYuaXNSZXNlcnZlZFRhZyhvKSlyZXR1cm4gSHIoZSxyLGkpLCExO3JldHVybiEwfSx0ZXh0OmZ1bmN0aW9uKGUsdCl7dC52YWx1ZSYmRXIoZSwidGV4dENvbnRlbnQiLCJfcygiK3QudmFsdWUrIikiLHQpfSxodG1sOmZ1bmN0aW9uKGUsdCl7dC52YWx1ZSYmRXIoZSwiaW5uZXJIVE1MIiwiX3MoIit0LnZhbHVlKyIpIix0KX19LGlzUHJlVGFnOmZ1bmN0aW9uKGUpe3JldHVybiJwcmUiPT09ZX0saXNVbmFyeVRhZzpibyxtdXN0VXNlUHJvcDpqbixjYW5CZUxlZnRPcGVuVGFnOiRvLGlzUmVzZXJ2ZWRUYWc6V24sZ2V0VGFnTmFtZXNwYWNlOlpuLHN0YXRpY0tleXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQuc3RhdGljS2V5c3x8W10pfSxbXSkuam9pbigiLCIpfShiYSl9LHhhPWcoZnVuY3Rpb24oZSl7cmV0dXJuIHAoInR5cGUsdGFnLGF0dHJzTGlzdCxhdHRyc01hcCxwbGFpbixwYXJlbnQsY2hpbGRyZW4sYXR0cnMsc3RhcnQsZW5kLHJhd0F0dHJzTWFwIisoZT8iLCIrZToiIikpfSk7ZnVuY3Rpb24ga2EoZSx0KXtlJiYoJGE9eGEodC5zdGF0aWNLZXlzfHwiIiksd2E9dC5pc1Jlc2VydmVkVGFnfHxULGZ1bmN0aW9uIGUodCl7dC5zdGF0aWM9ZnVuY3Rpb24oZSl7aWYoMj09PWUudHlwZSlyZXR1cm4hMTtpZigzPT09ZS50eXBlKXJldHVybiEwO3JldHVybiEoIWUucHJlJiYoZS5oYXNCaW5kaW5nc3x8ZS5pZnx8ZS5mb3J8fGQoZS50YWcpfHwhd2EoZS50YWcpfHxmdW5jdGlvbihlKXtmb3IoO2UucGFyZW50Oyl7aWYoInRlbXBsYXRlIiE9PShlPWUucGFyZW50KS50YWcpcmV0dXJuITE7aWYoZS5mb3IpcmV0dXJuITB9cmV0dXJuITF9KGUpfHwhT2JqZWN0LmtleXMoZSkuZXZlcnkoJGEpKSl9KHQpO2lmKDE9PT10LnR5cGUpe2lmKCF3YSh0LnRhZykmJiJzbG90IiE9PXQudGFnJiZudWxsPT10LmF0dHJzTWFwWyJpbmxpbmUtdGVtcGxhdGUiXSlyZXR1cm47Zm9yKHZhciBuPTAscj10LmNoaWxkcmVuLmxlbmd0aDtuPHI7bisrKXt2YXIgaT10LmNoaWxkcmVuW25dO2UoaSksaS5zdGF0aWN8fCh0LnN0YXRpYz0hMSl9aWYodC5pZkNvbmRpdGlvbnMpZm9yKHZhciBvPTEsYT10LmlmQ29uZGl0aW9ucy5sZW5ndGg7bzxhO28rKyl7dmFyIHM9dC5pZkNvbmRpdGlvbnNbb10uYmxvY2s7ZShzKSxzLnN0YXRpY3x8KHQuc3RhdGljPSExKX19fShlKSxmdW5jdGlvbiBlKHQsbil7aWYoMT09PXQudHlwZSl7aWYoKHQuc3RhdGljfHx0Lm9uY2UpJiYodC5zdGF0aWNJbkZvcj1uKSx0LnN0YXRpYyYmdC5jaGlsZHJlbi5sZW5ndGgmJigxIT09dC5jaGlsZHJlbi5sZW5ndGh8fDMhPT10LmNoaWxkcmVuWzBdLnR5cGUpKXJldHVybiB2b2lkKHQuc3RhdGljUm9vdD0hMCk7aWYodC5zdGF0aWNSb290PSExLHQuY2hpbGRyZW4pZm9yKHZhciByPTAsaT10LmNoaWxkcmVuLmxlbmd0aDtyPGk7cisrKWUodC5jaGlsZHJlbltyXSxufHwhIXQuZm9yKTtpZih0LmlmQ29uZGl0aW9ucylmb3IodmFyIG89MSxhPXQuaWZDb25kaXRpb25zLmxlbmd0aDtvPGE7bysrKWUodC5pZkNvbmRpdGlvbnNbb10uYmxvY2ssbil9fShlLCExKSl9dmFyIEFhPS9eKFtcdyRfXSt8XChbXildKj9cKSlccyo9PnxeZnVuY3Rpb24oPzpccytbXHckXSspP1xzKlwoLyxPYT0vXChbXildKj9cKTsqJC8sU2E9L15bQS1aYS16XyRdW1x3JF0qKD86XC5bQS1aYS16XyRdW1x3JF0qfFxbJ1teJ10qPyddfFxbIlteIl0qPyJdfFxbXGQrXXxcW1tBLVphLXpfJF1bXHckXSpdKSokLyxUYT17ZXNjOjI3LHRhYjo5LGVudGVyOjEzLHNwYWNlOjMyLHVwOjM4LGxlZnQ6MzcscmlnaHQ6MzksZG93bjo0MCxkZWxldGU6WzgsNDZdfSxFYT17ZXNjOlsiRXNjIiwiRXNjYXBlIl0sdGFiOiJUYWIiLGVudGVyOiJFbnRlciIsc3BhY2U6WyIgIiwiU3BhY2ViYXIiXSx1cDpbIlVwIiwiQXJyb3dVcCJdLGxlZnQ6WyJMZWZ0IiwiQXJyb3dMZWZ0Il0scmlnaHQ6WyJSaWdodCIsIkFycm93UmlnaHQiXSxkb3duOlsiRG93biIsIkFycm93RG93biJdLGRlbGV0ZTpbIkJhY2tzcGFjZSIsIkRlbGV0ZSIsIkRlbCJdfSxOYT1mdW5jdGlvbihlKXtyZXR1cm4iaWYoIitlKyIpcmV0dXJuIG51bGw7In0samE9e3N0b3A6IiRldmVudC5zdG9wUHJvcGFnYXRpb24oKTsiLHByZXZlbnQ6IiRldmVudC5wcmV2ZW50RGVmYXVsdCgpOyIsc2VsZjpOYSgiJGV2ZW50LnRhcmdldCAhPT0gJGV2ZW50LmN1cnJlbnRUYXJnZXQiKSxjdHJsOk5hKCIhJGV2ZW50LmN0cmxLZXkiKSxzaGlmdDpOYSgiISRldmVudC5zaGlmdEtleSIpLGFsdDpOYSgiISRldmVudC5hbHRLZXkiKSxtZXRhOk5hKCIhJGV2ZW50Lm1ldGFLZXkiKSxsZWZ0Ok5hKCInYnV0dG9uJyBpbiAkZXZlbnQgJiYgJGV2ZW50LmJ1dHRvbiAhPT0gMCIpLG1pZGRsZTpOYSgiJ2J1dHRvbicgaW4gJGV2ZW50ICYmICRldmVudC5idXR0b24gIT09IDEiKSxyaWdodDpOYSgiJ2J1dHRvbicgaW4gJGV2ZW50ICYmICRldmVudC5idXR0b24gIT09IDIiKX07ZnVuY3Rpb24gRGEoZSx0KXt2YXIgbj10PyJuYXRpdmVPbjoiOiJvbjoiLHI9IiIsaT0iIjtmb3IodmFyIG8gaW4gZSl7dmFyIGE9TGEoZVtvXSk7ZVtvXSYmZVtvXS5keW5hbWljP2krPW8rIiwiK2ErIiwiOnIrPSciJytvKyciOicrYSsiLCJ9cmV0dXJuIHI9InsiK3Iuc2xpY2UoMCwtMSkrIn0iLGk/bisiX2QoIityKyIsWyIraS5zbGljZSgwLC0xKSsiXSkiOm4rcn1mdW5jdGlvbiBMYShlKXtpZighZSlyZXR1cm4iZnVuY3Rpb24oKXt9IjtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiJbIitlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gTGEoZSl9KS5qb2luKCIsIikrIl0iO3ZhciB0PVNhLnRlc3QoZS52YWx1ZSksbj1BYS50ZXN0KGUudmFsdWUpLHI9U2EudGVzdChlLnZhbHVlLnJlcGxhY2UoT2EsIiIpKTtpZihlLm1vZGlmaWVycyl7dmFyIGk9IiIsbz0iIixhPVtdO2Zvcih2YXIgcyBpbiBlLm1vZGlmaWVycylpZihqYVtzXSlvKz1qYVtzXSxUYVtzXSYmYS5wdXNoKHMpO2Vsc2UgaWYoImV4YWN0Ij09PXMpe3ZhciBjPWUubW9kaWZpZXJzO28rPU5hKFsiY3RybCIsInNoaWZ0IiwiYWx0IiwibWV0YSJdLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hY1tlXX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4iJGV2ZW50LiIrZSsiS2V5In0pLmpvaW4oInx8IikpfWVsc2UgYS5wdXNoKHMpO3JldHVybiBhLmxlbmd0aCYmKGkrPWZ1bmN0aW9uKGUpe3JldHVybiJpZighJGV2ZW50LnR5cGUuaW5kZXhPZigna2V5JykmJiIrZS5tYXAoTWEpLmpvaW4oIiYmIikrIilyZXR1cm4gbnVsbDsifShhKSksbyYmKGkrPW8pLCJmdW5jdGlvbigkZXZlbnQpeyIraSsodD8icmV0dXJuICIrZS52YWx1ZSsiKCRldmVudCkiOm4/InJldHVybiAoIitlLnZhbHVlKyIpKCRldmVudCkiOnI/InJldHVybiAiK2UudmFsdWU6ZS52YWx1ZSkrIn0ifXJldHVybiB0fHxuP2UudmFsdWU6ImZ1bmN0aW9uKCRldmVudCl7Iisocj8icmV0dXJuICIrZS52YWx1ZTplLnZhbHVlKSsifSJ9ZnVuY3Rpb24gTWEoZSl7dmFyIHQ9cGFyc2VJbnQoZSwxMCk7aWYodClyZXR1cm4iJGV2ZW50LmtleUNvZGUhPT0iK3Q7dmFyIG49VGFbZV0scj1FYVtlXTtyZXR1cm4iX2soJGV2ZW50LmtleUNvZGUsIitKU09OLnN0cmluZ2lmeShlKSsiLCIrSlNPTi5zdHJpbmdpZnkobikrIiwkZXZlbnQua2V5LCIrSlNPTi5zdHJpbmdpZnkocikrIikifXZhciBJYT17b246ZnVuY3Rpb24oZSx0KXtlLndyYXBMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIl9nKCIrZSsiLCIrdC52YWx1ZSsiKSJ9fSxiaW5kOmZ1bmN0aW9uKGUsdCl7ZS53cmFwRGF0YT1mdW5jdGlvbihuKXtyZXR1cm4iX2IoIituKyIsJyIrZS50YWcrIicsIit0LnZhbHVlKyIsIisodC5tb2RpZmllcnMmJnQubW9kaWZpZXJzLnByb3A/InRydWUiOiJmYWxzZSIpKyh0Lm1vZGlmaWVycyYmdC5tb2RpZmllcnMuc3luYz8iLHRydWUiOiIiKSsiKSJ9fSxjbG9hazpTfSxGYT1mdW5jdGlvbihlKXt0aGlzLm9wdGlvbnM9ZSx0aGlzLndhcm49ZS53YXJufHxTcix0aGlzLnRyYW5zZm9ybXM9VHIoZS5tb2R1bGVzLCJ0cmFuc2Zvcm1Db2RlIiksdGhpcy5kYXRhR2VuRm5zPVRyKGUubW9kdWxlcywiZ2VuRGF0YSIpLHRoaXMuZGlyZWN0aXZlcz1BKEEoe30sSWEpLGUuZGlyZWN0aXZlcyk7dmFyIHQ9ZS5pc1Jlc2VydmVkVGFnfHxUO3RoaXMubWF5YmVDb21wb25lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFlLmNvbXBvbmVudHx8IXQoZS50YWcpfSx0aGlzLm9uY2VJZD0wLHRoaXMuc3RhdGljUmVuZGVyRm5zPVtdLHRoaXMucHJlPSExfTtmdW5jdGlvbiBQYShlLHQpe3ZhciBuPW5ldyBGYSh0KTtyZXR1cm57cmVuZGVyOiJ3aXRoKHRoaXMpe3JldHVybiAiKyhlP1JhKGUsbik6J19jKCJkaXYiKScpKyJ9IixzdGF0aWNSZW5kZXJGbnM6bi5zdGF0aWNSZW5kZXJGbnN9fWZ1bmN0aW9uIFJhKGUsdCl7aWYoZS5wYXJlbnQmJihlLnByZT1lLnByZXx8ZS5wYXJlbnQucHJlKSxlLnN0YXRpY1Jvb3QmJiFlLnN0YXRpY1Byb2Nlc3NlZClyZXR1cm4gSGEoZSx0KTtpZihlLm9uY2UmJiFlLm9uY2VQcm9jZXNzZWQpcmV0dXJuIEJhKGUsdCk7aWYoZS5mb3ImJiFlLmZvclByb2Nlc3NlZClyZXR1cm4gemEoZSx0KTtpZihlLmlmJiYhZS5pZlByb2Nlc3NlZClyZXR1cm4gVWEoZSx0KTtpZigidGVtcGxhdGUiIT09ZS50YWd8fGUuc2xvdFRhcmdldHx8dC5wcmUpe2lmKCJzbG90Ij09PWUudGFnKXJldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPWUuc2xvdE5hbWV8fCciZGVmYXVsdCInLHI9cWEoZSx0KSxpPSJfdCgiK24rKHI/IiwiK3I6IiIpLG89ZS5hdHRyc3x8ZS5keW5hbWljQXR0cnM/R2EoKGUuYXR0cnN8fFtdKS5jb25jYXQoZS5keW5hbWljQXR0cnN8fFtdKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6YihlLm5hbWUpLHZhbHVlOmUudmFsdWUsZHluYW1pYzplLmR5bmFtaWN9fSkpOm51bGwsYT1lLmF0dHJzTWFwWyJ2LWJpbmQiXTshbyYmIWF8fHJ8fChpKz0iLG51bGwiKTtvJiYoaSs9IiwiK28pO2EmJihpKz0obz8iIjoiLG51bGwiKSsiLCIrYSk7cmV0dXJuIGkrIikifShlLHQpO3ZhciBuO2lmKGUuY29tcG9uZW50KW49ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQuaW5saW5lVGVtcGxhdGU/bnVsbDpxYSh0LG4sITApO3JldHVybiJfYygiK2UrIiwiK1ZhKHQsbikrKHI/IiwiK3I6IiIpKyIpIn0oZS5jb21wb25lbnQsZSx0KTtlbHNle3ZhciByOyghZS5wbGFpbnx8ZS5wcmUmJnQubWF5YmVDb21wb25lbnQoZSkpJiYocj1WYShlLHQpKTt2YXIgaT1lLmlubGluZVRlbXBsYXRlP251bGw6cWEoZSx0LCEwKTtuPSJfYygnIitlLnRhZysiJyIrKHI/IiwiK3I6IiIpKyhpPyIsIitpOiIiKSsiKSJ9Zm9yKHZhciBvPTA7bzx0LnRyYW5zZm9ybXMubGVuZ3RoO28rKyluPXQudHJhbnNmb3Jtc1tvXShlLG4pO3JldHVybiBufXJldHVybiBxYShlLHQpfHwidm9pZCAwIn1mdW5jdGlvbiBIYShlLHQpe2Uuc3RhdGljUHJvY2Vzc2VkPSEwO3ZhciBuPXQucHJlO3JldHVybiBlLnByZSYmKHQucHJlPWUucHJlKSx0LnN0YXRpY1JlbmRlckZucy5wdXNoKCJ3aXRoKHRoaXMpe3JldHVybiAiK1JhKGUsdCkrIn0iKSx0LnByZT1uLCJfbSgiKyh0LnN0YXRpY1JlbmRlckZucy5sZW5ndGgtMSkrKGUuc3RhdGljSW5Gb3I/Iix0cnVlIjoiIikrIikifWZ1bmN0aW9uIEJhKGUsdCl7aWYoZS5vbmNlUHJvY2Vzc2VkPSEwLGUuaWYmJiFlLmlmUHJvY2Vzc2VkKXJldHVybiBVYShlLHQpO2lmKGUuc3RhdGljSW5Gb3Ipe2Zvcih2YXIgbj0iIixyPWUucGFyZW50O3I7KXtpZihyLmZvcil7bj1yLmtleTticmVha31yPXIucGFyZW50fXJldHVybiBuPyJfbygiK1JhKGUsdCkrIiwiK3Qub25jZUlkKysrIiwiK24rIikiOlJhKGUsdCl9cmV0dXJuIEhhKGUsdCl9ZnVuY3Rpb24gVWEoZSx0LG4scil7cmV0dXJuIGUuaWZQcm9jZXNzZWQ9ITAsZnVuY3Rpb24gZSh0LG4scixpKXtpZighdC5sZW5ndGgpcmV0dXJuIGl8fCJfZSgpIjt2YXIgbz10LnNoaWZ0KCk7cmV0dXJuIG8uZXhwPyIoIitvLmV4cCsiKT8iK2Eoby5ibG9jaykrIjoiK2UodCxuLHIsaSk6IiIrYShvLmJsb2NrKTtmdW5jdGlvbiBhKGUpe3JldHVybiByP3IoZSxuKTplLm9uY2U/QmEoZSxuKTpSYShlLG4pfX0oZS5pZkNvbmRpdGlvbnMuc2xpY2UoKSx0LG4scil9ZnVuY3Rpb24gemEoZSx0LG4scil7dmFyIGk9ZS5mb3Isbz1lLmFsaWFzLGE9ZS5pdGVyYXRvcjE/IiwiK2UuaXRlcmF0b3IxOiIiLHM9ZS5pdGVyYXRvcjI/IiwiK2UuaXRlcmF0b3IyOiIiO3JldHVybiBlLmZvclByb2Nlc3NlZD0hMCwocnx8Il9sIikrIigoIitpKyIpLGZ1bmN0aW9uKCIrbythK3MrIil7cmV0dXJuICIrKG58fFJhKShlLHQpKyJ9KSJ9ZnVuY3Rpb24gVmEoZSx0KXt2YXIgbj0ieyIscj1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZGlyZWN0aXZlcztpZighbilyZXR1cm47dmFyIHIsaSxvLGEscz0iZGlyZWN0aXZlczpbIixjPSExO2ZvcihyPTAsaT1uLmxlbmd0aDtyPGk7cisrKXtvPW5bcl0sYT0hMDt2YXIgdT10LmRpcmVjdGl2ZXNbby5uYW1lXTt1JiYoYT0hIXUoZSxvLHQud2FybikpLGEmJihjPSEwLHMrPSd7bmFtZToiJytvLm5hbWUrJyIscmF3TmFtZToiJytvLnJhd05hbWUrJyInKyhvLnZhbHVlPyIsdmFsdWU6KCIrby52YWx1ZSsiKSxleHByZXNzaW9uOiIrSlNPTi5zdHJpbmdpZnkoby52YWx1ZSk6IiIpKyhvLmFyZz8iLGFyZzoiKyhvLmlzRHluYW1pY0FyZz9vLmFyZzonIicrby5hcmcrJyInKToiIikrKG8ubW9kaWZpZXJzPyIsbW9kaWZpZXJzOiIrSlNPTi5zdHJpbmdpZnkoby5tb2RpZmllcnMpOiIiKSsifSwiKX1pZihjKXJldHVybiBzLnNsaWNlKDAsLTEpKyJdIn0oZSx0KTtyJiYobis9cisiLCIpLGUua2V5JiYobis9ImtleToiK2Uua2V5KyIsIiksZS5yZWYmJihuKz0icmVmOiIrZS5yZWYrIiwiKSxlLnJlZkluRm9yJiYobis9InJlZkluRm9yOnRydWUsIiksZS5wcmUmJihuKz0icHJlOnRydWUsIiksZS5jb21wb25lbnQmJihuKz0ndGFnOiInK2UudGFnKyciLCcpO2Zvcih2YXIgaT0wO2k8dC5kYXRhR2VuRm5zLmxlbmd0aDtpKyspbis9dC5kYXRhR2VuRm5zW2ldKGUpO2lmKGUuYXR0cnMmJihuKz0iYXR0cnM6IitHYShlLmF0dHJzKSsiLCIpLGUucHJvcHMmJihuKz0iZG9tUHJvcHM6IitHYShlLnByb3BzKSsiLCIpLGUuZXZlbnRzJiYobis9RGEoZS5ldmVudHMsITEpKyIsIiksZS5uYXRpdmVFdmVudHMmJihuKz1EYShlLm5hdGl2ZUV2ZW50cywhMCkrIiwiKSxlLnNsb3RUYXJnZXQmJiFlLnNsb3RTY29wZSYmKG4rPSJzbG90OiIrZS5zbG90VGFyZ2V0KyIsIiksZS5zY29wZWRTbG90cyYmKG4rPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmZvcnx8T2JqZWN0LmtleXModCkuc29tZShmdW5jdGlvbihlKXt2YXIgbj10W2VdO3JldHVybiBuLnNsb3RUYXJnZXREeW5hbWljfHxuLmlmfHxuLmZvcnx8S2Eobil9KSxpPSEhZS5pZjtpZighcilmb3IodmFyIG89ZS5wYXJlbnQ7bzspe2lmKG8uc2xvdFNjb3BlJiZvLnNsb3RTY29wZSE9PWNhfHxvLmZvcil7cj0hMDticmVha31vLmlmJiYoaT0hMCksbz1vLnBhcmVudH12YXIgYT1PYmplY3Qua2V5cyh0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEphKHRbZV0sbil9KS5qb2luKCIsIik7cmV0dXJuInNjb3BlZFNsb3RzOl91KFsiK2ErIl0iKyhyPyIsbnVsbCx0cnVlIjoiIikrKCFyJiZpPyIsbnVsbCxmYWxzZSwiK2Z1bmN0aW9uKGUpe3ZhciB0PTUzODEsbj1lLmxlbmd0aDtmb3IoO247KXQ9MzMqdF5lLmNoYXJDb2RlQXQoLS1uKTtyZXR1cm4gdD4+PjB9KGEpOiIiKSsiKSJ9KGUsZS5zY29wZWRTbG90cyx0KSsiLCIpLGUubW9kZWwmJihuKz0ibW9kZWw6e3ZhbHVlOiIrZS5tb2RlbC52YWx1ZSsiLGNhbGxiYWNrOiIrZS5tb2RlbC5jYWxsYmFjaysiLGV4cHJlc3Npb246IitlLm1vZGVsLmV4cHJlc3Npb24rIn0sIiksZS5pbmxpbmVUZW1wbGF0ZSl7dmFyIG89ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmNoaWxkcmVuWzBdO2lmKG4mJjE9PT1uLnR5cGUpe3ZhciByPVBhKG4sdC5vcHRpb25zKTtyZXR1cm4iaW5saW5lVGVtcGxhdGU6e3JlbmRlcjpmdW5jdGlvbigpeyIrci5yZW5kZXIrIn0sc3RhdGljUmVuZGVyRm5zOlsiK3Iuc3RhdGljUmVuZGVyRm5zLm1hcChmdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24oKXsiK2UrIn0ifSkuam9pbigiLCIpKyJdfSJ9fShlLHQpO28mJihuKz1vKyIsIil9cmV0dXJuIG49bi5yZXBsYWNlKC8sJC8sIiIpKyJ9IixlLmR5bmFtaWNBdHRycyYmKG49Il9iKCIrbisnLCInK2UudGFnKyciLCcrR2EoZS5keW5hbWljQXR0cnMpKyIpIiksZS53cmFwRGF0YSYmKG49ZS53cmFwRGF0YShuKSksZS53cmFwTGlzdGVuZXJzJiYobj1lLndyYXBMaXN0ZW5lcnMobikpLG59ZnVuY3Rpb24gS2EoZSl7cmV0dXJuIDE9PT1lLnR5cGUmJigic2xvdCI9PT1lLnRhZ3x8ZS5jaGlsZHJlbi5zb21lKEthKSl9ZnVuY3Rpb24gSmEoZSx0KXt2YXIgbj1lLmF0dHJzTWFwWyJzbG90LXNjb3BlIl07aWYoZS5pZiYmIWUuaWZQcm9jZXNzZWQmJiFuKXJldHVybiBVYShlLHQsSmEsIm51bGwiKTtpZihlLmZvciYmIWUuZm9yUHJvY2Vzc2VkKXJldHVybiB6YShlLHQsSmEpO3ZhciByPWUuc2xvdFNjb3BlPT09Y2E/IiI6U3RyaW5nKGUuc2xvdFNjb3BlKSxpPSJmdW5jdGlvbigiK3IrIil7cmV0dXJuICIrKCJ0ZW1wbGF0ZSI9PT1lLnRhZz9lLmlmJiZuPyIoIitlLmlmKyIpPyIrKHFhKGUsdCl8fCJ1bmRlZmluZWQiKSsiOnVuZGVmaW5lZCI6cWEoZSx0KXx8InVuZGVmaW5lZCI6UmEoZSx0KSkrIn0iLG89cj8iIjoiLHByb3h5OnRydWUiO3JldHVybiJ7a2V5OiIrKGUuc2xvdFRhcmdldHx8JyJkZWZhdWx0IicpKyIsZm46IitpK28rIn0ifWZ1bmN0aW9uIHFhKGUsdCxuLHIsaSl7dmFyIG89ZS5jaGlsZHJlbjtpZihvLmxlbmd0aCl7dmFyIGE9b1swXTtpZigxPT09by5sZW5ndGgmJmEuZm9yJiYidGVtcGxhdGUiIT09YS50YWcmJiJzbG90IiE9PWEudGFnKXt2YXIgcz1uP3QubWF5YmVDb21wb25lbnQoYSk/IiwxIjoiLDAiOiIiO3JldHVybiIiKyhyfHxSYSkoYSx0KStzfXZhciBjPW4/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBpPWVbcl07aWYoMT09PWkudHlwZSl7aWYoV2EoaSl8fGkuaWZDb25kaXRpb25zJiZpLmlmQ29uZGl0aW9ucy5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBXYShlLmJsb2NrKX0pKXtuPTI7YnJlYWt9KHQoaSl8fGkuaWZDb25kaXRpb25zJiZpLmlmQ29uZGl0aW9ucy5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiB0KGUuYmxvY2spfSkpJiYobj0xKX19cmV0dXJuIG59KG8sdC5tYXliZUNvbXBvbmVudCk6MCx1PWl8fFphO3JldHVybiJbIitvLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdShlLHQpfSkuam9pbigiLCIpKyJdIisoYz8iLCIrYzoiIil9fWZ1bmN0aW9uIFdhKGUpe3JldHVybiB2b2lkIDAhPT1lLmZvcnx8InRlbXBsYXRlIj09PWUudGFnfHwic2xvdCI9PT1lLnRhZ31mdW5jdGlvbiBaYShlLHQpe3JldHVybiAxPT09ZS50eXBlP1JhKGUsdCk6Mz09PWUudHlwZSYmZS5pc0NvbW1lbnQ/KHI9ZSwiX2UoIitKU09OLnN0cmluZ2lmeShyLnRleHQpKyIpIik6Il92KCIrKDI9PT0obj1lKS50eXBlP24uZXhwcmVzc2lvbjpYYShKU09OLnN0cmluZ2lmeShuLnRleHQpKSkrIikiO3ZhciBuLHJ9ZnVuY3Rpb24gR2EoZSl7Zm9yKHZhciB0PSIiLG49IiIscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdLG89WGEoaS52YWx1ZSk7aS5keW5hbWljP24rPWkubmFtZSsiLCIrbysiLCI6dCs9JyInK2kubmFtZSsnIjonK28rIiwifXJldHVybiB0PSJ7Iit0LnNsaWNlKDAsLTEpKyJ9IixuPyJfZCgiK3QrIixbIituLnNsaWNlKDAsLTEpKyJdKSI6dH1mdW5jdGlvbiBYYShlKXtyZXR1cm4gZS5yZXBsYWNlKC9cdTIwMjgvZywiXFx1MjAyOCIpLnJlcGxhY2UoL1x1MjAyOS9nLCJcXHUyMDI5Iil9bmV3IFJlZ0V4cCgiXFxiIisiZG8saWYsZm9yLGxldCxuZXcsdHJ5LHZhcixjYXNlLGVsc2Usd2l0aCxhd2FpdCxicmVhayxjYXRjaCxjbGFzcyxjb25zdCxzdXBlcix0aHJvdyx3aGlsZSx5aWVsZCxkZWxldGUsZXhwb3J0LGltcG9ydCxyZXR1cm4sc3dpdGNoLGRlZmF1bHQsZXh0ZW5kcyxmaW5hbGx5LGNvbnRpbnVlLGRlYnVnZ2VyLGZ1bmN0aW9uLGFyZ3VtZW50cyIuc3BsaXQoIiwiKS5qb2luKCJcXGJ8XFxiIikrIlxcYiIpO2Z1bmN0aW9uIFlhKGUsdCl7dHJ5e3JldHVybiBuZXcgRnVuY3Rpb24oZSl9Y2F0Y2gobil7cmV0dXJuIHQucHVzaCh7ZXJyOm4sY29kZTplfSksU319ZnVuY3Rpb24gUWEoZSl7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gZnVuY3Rpb24obixyLGkpeyhyPUEoe30scikpLndhcm47ZGVsZXRlIHIud2Fybjt2YXIgbz1yLmRlbGltaXRlcnM/U3RyaW5nKHIuZGVsaW1pdGVycykrbjpuO2lmKHRbb10pcmV0dXJuIHRbb107dmFyIGE9ZShuLHIpLHM9e30sYz1bXTtyZXR1cm4gcy5yZW5kZXI9WWEoYS5yZW5kZXIsYykscy5zdGF0aWNSZW5kZXJGbnM9YS5zdGF0aWNSZW5kZXJGbnMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBZYShlLGMpfSksdFtvXT1zfX12YXIgZXMsdHMsbnM9KGVzPWZ1bmN0aW9uKGUsdCl7dmFyIG49bGEoZS50cmltKCksdCk7ITEhPT10Lm9wdGltaXplJiZrYShuLHQpO3ZhciByPVBhKG4sdCk7cmV0dXJue2FzdDpuLHJlbmRlcjpyLnJlbmRlcixzdGF0aWNSZW5kZXJGbnM6ci5zdGF0aWNSZW5kZXJGbnN9fSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIHI9T2JqZWN0LmNyZWF0ZShlKSxpPVtdLG89W107aWYobilmb3IodmFyIGEgaW4gbi5tb2R1bGVzJiYoci5tb2R1bGVzPShlLm1vZHVsZXN8fFtdKS5jb25jYXQobi5tb2R1bGVzKSksbi5kaXJlY3RpdmVzJiYoci5kaXJlY3RpdmVzPUEoT2JqZWN0LmNyZWF0ZShlLmRpcmVjdGl2ZXN8fG51bGwpLG4uZGlyZWN0aXZlcykpLG4pIm1vZHVsZXMiIT09YSYmImRpcmVjdGl2ZXMiIT09YSYmKHJbYV09blthXSk7ci53YXJuPWZ1bmN0aW9uKGUsdCxuKXsobj9vOmkpLnB1c2goZSl9O3ZhciBzPWVzKHQudHJpbSgpLHIpO3JldHVybiBzLmVycm9ycz1pLHMudGlwcz1vLHN9cmV0dXJue2NvbXBpbGU6dCxjb21waWxlVG9GdW5jdGlvbnM6UWEodCl9fSkoQ2EpLHJzPShucy5jb21waWxlLG5zLmNvbXBpbGVUb0Z1bmN0aW9ucyk7ZnVuY3Rpb24gaXMoZSl7cmV0dXJuKHRzPXRzfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuaW5uZXJIVE1MPWU/JzxhIGhyZWY9IlxuIi8+JzonPGRpdiBhPSJcbiIvPicsdHMuaW5uZXJIVE1MLmluZGV4T2YoIiYjMTA7Iik+MH12YXIgb3M9ISF6JiZpcyghMSksYXM9ISF6JiZpcyghMCksc3M9ZyhmdW5jdGlvbihlKXt2YXIgdD1ZbihlKTtyZXR1cm4gdCYmdC5pbm5lckhUTUx9KSxjcz13bi5wcm90b3R5cGUuJG1vdW50O3JldHVybiB3bi5wcm90b3R5cGUuJG1vdW50PWZ1bmN0aW9uKGUsdCl7aWYoKGU9ZSYmWW4oZSkpPT09ZG9jdW1lbnQuYm9keXx8ZT09PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudClyZXR1cm4gdGhpczt2YXIgbj10aGlzLiRvcHRpb25zO2lmKCFuLnJlbmRlcil7dmFyIHI9bi50ZW1wbGF0ZTtpZihyKWlmKCJzdHJpbmciPT10eXBlb2YgcikiIyI9PT1yLmNoYXJBdCgwKSYmKHI9c3MocikpO2Vsc2V7aWYoIXIubm9kZVR5cGUpcmV0dXJuIHRoaXM7cj1yLmlubmVySFRNTH1lbHNlIGUmJihyPWZ1bmN0aW9uKGUpe2lmKGUub3V0ZXJIVE1MKXJldHVybiBlLm91dGVySFRNTDt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gdC5hcHBlbmRDaGlsZChlLmNsb25lTm9kZSghMCkpLHQuaW5uZXJIVE1MfShlKSk7aWYocil7dmFyIGk9cnMocix7b3V0cHV0U291cmNlUmFuZ2U6ITEsc2hvdWxkRGVjb2RlTmV3bGluZXM6b3Msc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmOmFzLGRlbGltaXRlcnM6bi5kZWxpbWl0ZXJzLGNvbW1lbnRzOm4uY29tbWVudHN9LHRoaXMpLG89aS5yZW5kZXIsYT1pLnN0YXRpY1JlbmRlckZucztuLnJlbmRlcj1vLG4uc3RhdGljUmVuZGVyRm5zPWF9fXJldHVybiBjcy5jYWxsKHRoaXMsZSx0KX0sd24uY29tcGlsZT1ycyx3bn0pOw=="},{"meta":{"name":"jquery.min.js","url":"https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js","ts":1712102384892,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="}]},{"name":"Max Twitch Quality","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.twitch.tv/*","https://player.twitch.tv/*"],"orig_noframes":null,"orig_run_at":"document-end","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[],"orig_run_in":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":1712641878646,"run_in":null,"tags":[]},"storage":{"ts":1712102384885,"data":{}},"enabled":true,"position":4,"uuid":"2c507395-007b-4ae1-b37f-07618184e6bb","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBNYXggVHdpdGNoIFF1YWxpdHkKLy8gQGRlc2NyaXB0aW9uICAgICBTZXQgcXVhbGl0eSB0byBtYXggYnkgcHVzaGluZyAncycKLy8gQHZlcnNpb24gICAgICAgICAwLjAuMQovLyBAYXV0aG9yICAgICAgICAgIHpyb2IKLy8gQGxpY2Vuc2UgICAgICAgICBNSVQKLy8gQG1hdGNoICAgICAgICAgICBodHRwczovL3d3dy50d2l0Y2gudHYvKgovLyBAbWF0Y2ggICAgICAgICAgIGh0dHBzOi8vcGxheWVyLnR3aXRjaC50di8qCi8vIEBncmFudCAgICAgICAgICAgbm9uZQovLyBAcnVuLWF0ICAgICAgICAgIGRvY3VtZW50LWVuZAovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgYXN5bmMgZnVuY3Rpb24gb25LZXlkb3duKGV2dCkgewogICAgICAgIC8vIFVzZSBodHRwczovL2tleWNvZGUuaW5mby8gdG8gZ2V0IGtleXMKICAgICAgICBpZiAoZXZ0LmtleUNvZGUgPT0gODMpIHsgLy8gcyBrZXkgPSA4MwogICAgICAgICAgICBzZXRRdWFsaXR5TWF4KCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKGV2dC5rZXlDb2RlID09IDY1KSB7IC8vIGEga2V5ID0gNjUKICAgICAgICAgICAgc2V0UXVhbGl0eVRvZ2dsZUZvckFkYmxvY2tGcmVlemVGaXgoKTsKICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIDEwMDApKTsKICAgICAgICAgICAgc2V0UXVhbGl0eU1heCgpOwogICAgICAgIH0KICAgIH0KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbktleWRvd24sIHRydWUpOwoKICAgIC8vIEEgZnVuY3Rpb24gdGhhdCB3YWl0cyBmb3IgYW4gZWxlbWVudCB0byBleGlzdCBpbiB0aGUgRE9NIGFuZCB0aGVuIGV4ZWN1dGVzIGEgY2FsbGJhY2sgZnVuY3Rpb24uCiAgICBmdW5jdGlvbiB3YWl0Rm9yRWxlbWVudChzZWxlY3RvciwgbWF4QXR0ZW1wdHMgPSAxMCwgY2FsbGJhY2spIHsKICAgICAgICBsZXQgYXR0ZW1wdHMgPSAwOwogICAgICAgIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTsKICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7CiAgICAgICAgICAgICAgICBjYWxsYmFjayhlbGVtZW50KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGF0dGVtcHRzKys7CiAgICAgICAgICAgICAgICBpZiAoYXR0ZW1wdHMgPj0gbWF4QXR0ZW1wdHMpIHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRWxlbWVudCAnICsgc2VsZWN0b3IgKyAnIG5vdCBmb3VuZCBhZnRlciAnICsgbWF4QXR0ZW1wdHMgKyAnIGF0dGVtcHRzJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LCA1MDApOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFF1YWxpdHlNYXgoKSB7CiAgICAgICAgbGV0IHNldHRpbmdzQnV0dG9uID0gbnVsbDsKICAgICAgICBsZXQgc2V0dGluZ3NNZW51QnV0dG9uID0gbnVsbDsKCiAgICAgICAgLy8gRW5zdXJlIHNldHRpbmdzIGlzIGNsb3NlZCB0byBzdGFydCBmcm9tIGtub3duIGdvb2QgcGxhY2UKICAgICAgICB3YWl0Rm9yRWxlbWVudCgnW2RhdGEtYS10YXJnZXQ9InBsYXllci1zZXR0aW5ncy1tZW51Il0nLCAxLCBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgIC8vIENsaWNrIHRoZSBzZXR0aW5ncyBidXR0b24uCiAgICAgICAgICAgIHdhaXRGb3JFbGVtZW50KCdbZGF0YS1hLXRhcmdldD0icGxheWVyLXNldHRpbmdzLWJ1dHRvbiJdJywgMjUsIGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBzZXR0aW5nc0J1dHRvbiA9IGVsZW1lbnQ7CiAgICAgICAgICAgICAgICBzZXR0aW5nc0J1dHRvbi5jbGljaygpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgLy8gQ2xpY2sgdGhlIHNldHRpbmdzIGJ1dHRvbi4KICAgICAgICB3YWl0Rm9yRWxlbWVudCgnW2RhdGEtYS10YXJnZXQ9InBsYXllci1zZXR0aW5ncy1idXR0b24iXScsIDI1LCBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICBzZXR0aW5nc0J1dHRvbiA9IGVsZW1lbnQ7CiAgICAgICAgICAgIHNldHRpbmdzQnV0dG9uLmNsaWNrKCk7CiAgICAgICAgfSk7CgogICAgICAgIC8vIENsaWNrIHRoZSBxdWFsaXR5IHNldHRpbmdzIGJ1dHRvbi4KICAgICAgICB3YWl0Rm9yRWxlbWVudCgnW2RhdGEtYS10YXJnZXQ9InBsYXllci1zZXR0aW5ncy1tZW51LWl0ZW0tcXVhbGl0eSJdJywgMjUsIGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgIHNldHRpbmdzTWVudUJ1dHRvbiA9IGVsZW1lbnQ7CiAgICAgICAgICAgIHNldHRpbmdzTWVudUJ1dHRvbi5jbGljaygpOwogICAgICAgIH0pOwoKICAgICAgICAvLyBXYWl0IGZvciB0aGUgcXVhbGl0eSBvcHRpb25zIHRvIGxvYWQgYW5kIHNlbGVjdCB0aGUgcHJlZmVycmVkIHF1YWxpdHkgb3B0aW9uLgogICAgICAgIHdhaXRGb3JFbGVtZW50KCdbZGF0YS1hLXRhcmdldD0idHctcmFkaW8iXScsIDI1LCBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICB2YXIgaW5wdXRzeCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9InJhZGlvIl0nKQogICAgICAgICAgICB2YXIgYmVzdFF1YWxpdHlJbmRleCA9IDE7IC8vIDAgaXMgYXV0bywgMSBpcyBoaWdoZXN0CgogICAgICAgICAgICBpbnB1dHN4W2Jlc3RRdWFsaXR5SW5kZXhdLmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICBpbnB1dHN4W2Jlc3RRdWFsaXR5SW5kZXhdLmNsaWNrKCk7CgogICAgICAgICAgICAvLyBDbGljayB0aGUgc2V0dGluZ3MgYnV0dG9uIGFnYWluLgogICAgICAgICAgICB3YWl0Rm9yRWxlbWVudCgnW2RhdGEtYS10YXJnZXQ9InBsYXllci1zZXR0aW5ncy1idXR0b24iXScsIEluZmluaXR5LCBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzQnV0dG9uID0gZWxlbWVudDsKICAgICAgICAgICAgICAgIHNldHRpbmdzQnV0dG9uLmNsaWNrKCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oIkNsaWNrZWQgU2V0dGluZ3MgQnV0dG9uIik7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gc2V0UXVhbGl0eVRvZ2dsZUZvckFkYmxvY2tGcmVlemVGaXgoKSB7CiAgICAgICAgbGV0IHNldHRpbmdzQnV0dG9uID0gbnVsbDsKICAgICAgICBsZXQgc2V0dGluZ3NNZW51QnV0dG9uID0gbnVsbDsKCiAgICAgICAgLy8gRW5zdXJlIHNldHRpbmdzIGlzIGNsb3NlZCB0byBzdGFydCBmcm9tIGtub3duIGdvb2QgcGxhY2UKICAgICAgICB3YWl0Rm9yRWxlbWVudCgnW2RhdGEtYS10YXJnZXQ9InBsYXllci1zZXR0aW5ncy1tZW51Il0nLCAxLCBmdW5jdGlvbihlbGVtZW50KSB7CiAgICAgICAgICAgIC8vIENsaWNrIHRoZSBzZXR0aW5ncyBidXR0b24uCiAgICAgICAgICAgIHdhaXRGb3JFbGVtZW50KCdbZGF0YS1hLXRhcmdldD0icGxheWVyLXNldHRpbmdzLWJ1dHRvbiJdJywgMjUsIGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBzZXR0aW5nc0J1dHRvbiA9IGVsZW1lbnQ7CiAgICAgICAgICAgICAgICBzZXR0aW5nc0J1dHRvbi5jbGljaygpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgLy8gQ2xpY2sgdGhlIHNldHRpbmdzIGJ1dHRvbi4KICAgICAgICB3YWl0Rm9yRWxlbWVudCgnW2RhdGEtYS10YXJnZXQ9InBsYXllci1zZXR0aW5ncy1idXR0b24iXScsIDI1LCBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICBzZXR0aW5nc0J1dHRvbiA9IGVsZW1lbnQ7CiAgICAgICAgICAgIHNldHRpbmdzQnV0dG9uLmNsaWNrKCk7CiAgICAgICAgfSk7CgogICAgICAgIC8vIENsaWNrIHRoZSBxdWFsaXR5IHNldHRpbmdzIGJ1dHRvbi4KICAgICAgICB3YWl0Rm9yRWxlbWVudCgnW2RhdGEtYS10YXJnZXQ9InBsYXllci1zZXR0aW5ncy1tZW51LWl0ZW0tcXVhbGl0eSJdJywgMjUsIGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgIHNldHRpbmdzTWVudUJ1dHRvbiA9IGVsZW1lbnQ7CiAgICAgICAgICAgIHNldHRpbmdzTWVudUJ1dHRvbi5jbGljaygpOwogICAgICAgIH0pOwoKICAgICAgICAvLyBXYWl0IGZvciB0aGUgcXVhbGl0eSBvcHRpb25zIHRvIGxvYWQgYW5kIHNlbGVjdCB0aGUgcHJlZmVycmVkIHF1YWxpdHkgb3B0aW9uLgogICAgICAgIHdhaXRGb3JFbGVtZW50KCdbZGF0YS1hLXRhcmdldD0idHctcmFkaW8iXScsIDI1LCBmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICB2YXIgaW5wdXRzeCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9InJhZGlvIl0nKQogICAgICAgICAgICB2YXIgYmVzdFF1YWxpdHlJbmRleCA9IDE7IC8vIDAgaXMgYXV0bywgMSBpcyBoaWdoZXN0CiAgICAgICAgICAgIHZhciBuZXh0QmVzdFF1YWxpdHlJbmRleCA9IDI7CgogICAgICAgICAgICBpbnB1dHN4W25leHRCZXN0UXVhbGl0eUluZGV4XS5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgaW5wdXRzeFtuZXh0QmVzdFF1YWxpdHlJbmRleF0uY2xpY2soKTsKCiAgICAgICAgICAgIC8vIENsaWNrIHRoZSBzZXR0aW5ncyBidXR0b24gYWdhaW4uCiAgICAgICAgICAgIHdhaXRGb3JFbGVtZW50KCdbZGF0YS1hLXRhcmdldD0icGxheWVyLXNldHRpbmdzLWJ1dHRvbiJdJywgSW5maW5pdHksIGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgICB2YXIgc2V0dGluZ3NCdXR0b24gPSBlbGVtZW50OwogICAgICAgICAgICAgICAgc2V0dGluZ3NCdXR0b24uY2xpY2soKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigiQ2xpY2tlZCBTZXR0aW5ncyBCdXR0b24iKTsKICAgICAgICAgICAgfSkKICAgICAgICB9KTsKICAgIH0KfSkoKTs="},{"name":"Cookie Clicker Mods","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":["http://orteil.dashnet.org/cookieclicker/","https://orteil.dashnet.org/cookieclicker/"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[],"orig_run_in":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":1719938442627,"run_in":null,"tags":[]},"storage":{"ts":1716425962780,"data":{}},"enabled":false,"position":5,"uuid":"32ad5896-6d1d-4147-b90f-45ccf78f7c5a","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgQ29va2llIENsaWNrZXIgTW9kcwovLyBAbmFtZXNwYWNlIENvb2tpZQovLyBAaW5jbHVkZSBodHRwOi8vb3J0ZWlsLmRhc2huZXQub3JnL2Nvb2tpZWNsaWNrZXIvCi8vIEBpbmNsdWRlIGh0dHBzOi8vb3J0ZWlsLmRhc2huZXQub3JnL2Nvb2tpZWNsaWNrZXIvCi8vIEB2ZXJzaW9uIDEKLy8gQGdyYW50IEdNX2dldFJlc291cmNlVGV4dAovLyBAcmVzb3VyY2UgY2doci5qcyBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vQ2hha2FhL2Nvb2tpZS1nYXJkZW4taGVscGVyLXJlbG9hZGVkL21haW4vQ29va2llR2FyZGVuSGVscGVyLXJlbG9hZGVkL21haW4uanMKLy8gQHJlc291cmNlIGF1dG8tZ2FyZGVuLmpzIGh0dHBzOi8vcGFzdGViaW4uY29tL3Jhdy9uY3M0QVNBeAovLyBAcmVzb3VyY2UgYXV0by1zdG9ja3MuanMgaHR0cHM6Ly9wYXN0ZWJpbi5jb20vcmF3Lzhxc0ZkTVJuCi8vID09L1VzZXJTY3JpcHQ9PQovLyBhdXRvLWdhcmRlbiA9IGh0dHBzOi8vc3RlYW1jb21tdW5pdHkuY29tL3NoYXJlZGZpbGVzL2ZpbGVkZXRhaWxzLz9pZD0yODU1OTE0MjgwCi8vIGF1dG8tc3RvY2tzID0gaHR0cHM6Ly9zdGVhbWNvbW11bml0eS5jb20vc2hhcmVkZmlsZXMvZmlsZWRldGFpbHMvP2lkPTI1OTkxODcwNDcKCihmdW5jdGlvbigpIHsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0b3BCYXIiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnCgogICAgLy8gaGVscGVycyB0byB3YWl0IGZvciBnYW1lIGFuZCBtb2RzIHRvIGluaXRpYWxpemUsIGdvIGJlbG93IGNsYXNzIHRvIGFjdHVhbGx5IGxvYWQgdGhpbmdzCiAgICBjbGFzcyBNb2RMb2FkZXIgewogICAgICAgIGNvbnN0cnVjdG9yKCkgewogICAgICAgICAgICB0aGlzLmxvYWRlciA9IHt9OwogICAgICAgIH0KICAgICAgICBsb2FkQ0NTRShsb2FkKSB7CiAgICAgICAgICAgIHRoaXMubG9hZGVyLmxvYWRDQ1NFID0gbG9hZDsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgfQogICAgICAgIGFzeW5jIGxvYWQobG9hZEZ1bmMpIHsKICAgICAgICAgICAgYXdhaXQgdGhpcy5pbnRlcm5hbFdhaXRHYW1lUmVhZHkoKQogICAgICAgICAgICBhd2FpdCB0aGlzLmludGVybmFsV2FpdENDU0VSZWFkeSgpIC8vIG1vZCBmcmFtZXdvcmsgbmVlZHMgbG9hZGVkIGJlZm9yZSBvdGhlciBtb2RzCiAgICAgICAgICAgIGxvYWRGdW5jKCk7CiAgICAgICAgfQogICAgICAgIGludGVybmFsV2FpdEdhbWVSZWFkeSgpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBHYW1lLnJlYWR5ICE9PSAndW5kZWZpbmVkJyAmJiBHYW1lLnJlYWR5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwxMDAwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGludGVybmFsV2FpdENDU0VSZWFkeSgpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLmxvYWRlci5sb2FkQ0NTRSkgcmV0dXJuOwoKICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgICAgICAgICAgR2FtZS5Mb2FkTW9kKCdodHRwczovL2tsYXR0bW9zZS5naXRodWIuaW8vQ29va2llQ2xpY2tlci9DQ1NFLmpzJyk7CiAgICAgICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZihDQ1NFICYmIENDU0UuaXNMb2FkZWQpewogICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sMTAwMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KCgogICAgbmV3IE1vZExvYWRlcigpCiAgICAgICAgLmxvYWRDQ1NFKGZhbHNlKQogICAgICAgIC5sb2FkKAogICAgICAgICgpID0+IHsKICAgICAgICAgICAgLy8gc29tZSBtb2RzIGNhbiBqdXN0IGJlIGxvYWRlZCwgb3RoZXJzIGhhdmUgdG8gYmUgZXZhbGVkLiBkdW5ubyB3aHkuCiAgICAgICAgICAgIC8vIHNvbWUgY29tYmluYXRpb24gb2YgQ0NTRS9zdGVhbSBtb2RzL3J1bm5pbmcgdGhpcyBpbiBhIHNjb3BlZCBmdW5jdGlvbi9pIGR1bm5vCgogICAgICAgICAgICAvLyBhdXRvLXN0b2NrcyAtIHJlcXVpcmVzIENDU0UKICAgICAgICAgICAgLy9ldmFsPy4oR01fZ2V0UmVzb3VyY2VUZXh0KCJhdXRvLXN0b2Nrcy5qcyIpKTsKCiAgICAgICAgICAgIC8vIGF1dG8tZ2FyZGVuIC0gZG9lcyBub3QgcmVxdWlyZSBDQ1NFCiAgICAgICAgICAgIC8vIGV2YWw/LihHTV9nZXRSZXNvdXJjZVRleHQoImF1dG8tZ2FyZGVuLmpzIikpOwoKICAgICAgICAgICAgLy8gZ2FyZGVuIGhlbHBlciAtIGRvZXMgbm90IHJlcXVpcmUgQ0NTRQogICAgICAgICAgICBldmFsPy4oR01fZ2V0UmVzb3VyY2VUZXh0KCJjZ2hyLmpzIikpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2FyZGVuVXBncmFkZXNQYW5lbCIpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IC8vIHRoZSB1cGdyYWRlIHBhbmVsIHRha2VzIHVwIGEgYnVuY2ggb2YgdXNlbGVzcyBzcGFjZSBhZnRlciB5b3UgaGF2ZSB0aGVtIGFsbAoKICAgICAgICAgICAgLy8gaGFuZCBvZiBmYXRlIHByZWRpY3RvciAtIGRvZXMgbm90IHJlcXVpcmUgQ0NTRQogICAgICAgICAgICBHYW1lLkxvYWRNb2QoJ2h0dHBzOi8vaG9zdGluZy5ib2JhdGVhbGVlLmNvbS9tb2RzL2NsYWlydm95YW5jZS9tYWluLmpzJyk7CgogICAgICAgICAgICAvLyBjb29raWVtb25zdGVyIC0gZG9lcyBub3QgcmVxdWlyZSBDQ1NFIC0gbGFzdCBvdGhlcndpc2UgaXQgZmlnaHRzIGNjc2UgbW9kcwogICAgICAgICAgICBHYW1lLkxvYWRNb2QoJ2h0dHBzOi8vY29va2llbW9uc3RlcnRlYW0uZ2l0aHViLmlvL0Nvb2tpZU1vbnN0ZXIvZGlzdC9Db29raWVNb25zdGVyLmpzJyk7CiAgICAgICAgfSk7Cgp9KSgpOw==","resources":[{"meta":{"name":"main.js","url":"https://raw.githubusercontent.com/Chakaa/cookie-garden-helper-reloaded/main/CookieGardenHelper-reloaded/main.js","ts":1717970895613,"mimetype":"text/javascript"},"source":"Ly9TdGVhbSB2ZXJzaW9uIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS95YW5ucHJhZGEvY29va2llLWdhcmRlbi1oZWxwZXINCkdhbWUucmVnaXN0ZXJNb2QoImNvb2tpZWdhcmRlbmhlbHBlcnJlbG9hZGVkIix7DQoJaW5pdDpmdW5jdGlvbigpew0KCQl0aGlzLm5hbWUgPSAnQ29va2llIEdhcmRlbiBIZWxwZXIgLSBSZWxvYWRlZCc7DQoJCXRoaXMubW9kaWQgPSAnY29va2llZ2FyZGVuaGVscGVycmVsb2FkZWQnOw0KCQl0aGlzLnZlcnNpb24gPSAnMS41JzsNCgkJdGhpcy5HYW1lVmVyc2lvbiA9ICcyLjA0Mic7DQoJCQ0KCQl0aGlzLmNvbmZpZyA9IHRoaXMuZGVmYXVsdENvbmZpZygpOw0KCQl0aGlzLmRvYyA9IHsNCgkJCWVsSWQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkLmJpbmQoZG9jdW1lbnQpLA0KCQkJcVNlbDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvci5iaW5kKGRvY3VtZW50KSwNCgkJCXFTZWxBbGw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwuYmluZChkb2N1bWVudCksDQoJCX07DQoJCQ0KCQl0aGlzLmJ1aWxkKCk7DQoJCXRoaXMuc3RhcnQoKTsNCgkJDQoJCWlmIChHYW1lLnByZWZzLnBvcHVwcykgR2FtZS5Qb3B1cCh0aGlzLm5hbWUgKyAnIHYnICsgdGhpcy52ZXJzaW9uICsgJyBsb2FkZWQhJyk7DQoJCWVsc2UgR2FtZS5Ob3RpZnkodGhpcy5uYW1lICsgJyB2JyArIHRoaXMudmVyc2lvbiArICcgbG9hZGVkIScsICcnLCAnJywgMSwgMSk7DQoJfSwNCgkvL01haW4NCglzdGFydDpmdW5jdGlvbigpIHsNCgkJdGhpcy50aW1lcklkID0gd2luZG93LnNldEludGVydmFsKA0KCQkJKCkgPT4gdGhpcy5ydW4oKSwNCgkJCXRoaXMuY29uZmlnLnRpbWVySW50ZXJ2YWwNCgkJKTsNCgl9LA0KCXN0b3A6ZnVuY3Rpb24oKSB7IHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudGltZXJJZCk7IH0sDQoJcmVzdGFydDpmdW5jdGlvbigpIHsgdGhpcy5zdG9wKCk7dGhpcy5zdGFydCgpOyB9LA0KCWhhbmRsZVNlZWRDbGljazpmdW5jdGlvbihzZWVkSWQpIHsNCgkJaWYoR2FtZS5rZXlzWzE3XSl7DQoJCQlpZighdGhpcy5jb25maWcucHJvdGVjdGVkU2VlZHMuaW5jbHVkZXMoc2VlZElkKSl7DQoJCQkJdGhpcy5jb25maWcucHJvdGVjdGVkU2VlZHMucHVzaChzZWVkSWQpOw0KCQkJfWVsc2V7DQoJCQkJdGhpcy5jb25maWcucHJvdGVjdGVkU2VlZHMuc3BsaWNlKHRoaXMuY29uZmlnLnByb3RlY3RlZFNlZWRzLmluZGV4T2Yoc2VlZElkKSwgMSk7ICAvL2RlbGV0aW5nDQoJCQl9DQoJCQkNCgkJCXRoaXMuZG9jLmVsSWQoJ2NnaHJTZWVkTGlzdERpdicpLmlubmVySFRNTCA9IHRoaXMuZ2V0U2VlZExpc3REaXNwbGF5KCk7DQoJCX1lbHNlew0KCQkJaWYoIXRoaXMucGFyZW50c1VubG9ja2VkKHNlZWRJZCkpcmV0dXJuOw0KCQkJdGhpcy5jb25maWcuc2F2ZWRQbG90PXRoaXMuYnVpbGRNdXRhdGlvblBsb3REYXRhKHNlZWRJZCk7DQoJCQl0aGlzLmxhYmVsVG9nZ2xlU3RhdGUoJ3Bsb3RJc1NhdmVkJywgdHJ1ZSk7DQoJCX0NCgl9LA0KCWhhbmRsZUNoYW5nZTpmdW5jdGlvbihrZXksIHZhbHVlKSB7DQoJCWlmICh0aGlzLmNvbmZpZ1trZXldLnZhbHVlICE9PSB1bmRlZmluZWQpIHsNCgkJCXRoaXMuY29uZmlnW2tleV0udmFsdWUgPSB2YWx1ZTsNCgkJfSBlbHNlIHsNCgkJCXRoaXMuY29uZmlnW2tleV0gPSB2YWx1ZTsNCgkJfQ0KCQl0aGlzLnNhdmUoKTsNCgl9LA0KCXRvZ2dsZVNlZWRMaXN0OmZ1bmN0aW9uKGtleSkgew0KCQl2YXIgeCA9IHRoaXMuZG9jLmVsSWQoImNnaHJTZWVkTGlzdERpdiIpOw0KCQlpZiAoeC5zdHlsZS5kaXNwbGF5ID09PSAibm9uZSIpIHsNCgkJCXguc3R5bGUuZGlzcGxheSA9ICJibG9jayI7DQoJCQl0aGlzLmRvYy5lbElkKCdjb29raWVnYXJkZW5oZWxwZXJyZWxvYWRlZFRvZ2dsZVNlZWRMaXN0JykuaW5uZXJIVE1MPSctJzsNCgkJfSBlbHNlIHsNCgkJCXguc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCgkJCXRoaXMuZG9jLmVsSWQoJ2Nvb2tpZWdhcmRlbmhlbHBlcnJlbG9hZGVkVG9nZ2xlU2VlZExpc3QnKS5pbm5lckhUTUw9JysnOw0KCQl9DQoJfSwNCgloYW5kbGVUb2dnbGU6ZnVuY3Rpb24oa2V5KSB7DQoJCXRoaXMuY29uZmlnW2tleV0gPSAhdGhpcy5jb25maWdba2V5XTsNCgkJdGhpcy5zYXZlKCk7DQoJCXRoaXMudG9nZ2xlQnV0dG9uKGtleSk7DQoJfSwNCgloYW5kbGVDbGljazpmdW5jdGlvbihrZXkpIHsNCgkJaWYgKGtleSA9PSAnZmlsbEdhcmRlbldpdGhTZWxlY3RlZFNlZWQnKSB7DQoJCQl0aGlzLmZpbGxHYXJkZW5XaXRoU2VsZWN0ZWRTZWVkKCk7DQoJCX0gZWxzZSBpZiAoa2V5ID09ICdzYXZlUGxvdCcpIHsNCgkJCXRoaXMuY29uZmlnWydzYXZlZFBsb3QnXSA9IEdhbWUua2V5c1sxN10/dGhpcy5lbXB0eVBsb3QoKTp0aGlzLmNsb25lUGxvdCgpOw0KCQkJdGhpcy5sYWJlbFRvZ2dsZVN0YXRlKCdwbG90SXNTYXZlZCcsICFHYW1lLmtleXNbMTddKTsNCgkJfQ0KCQl0aGlzLnNhdmUoKTsNCgl9LA0KCWhhbmRsZU1vdXNlb3V0UGxvdElzU2F2ZWQ6ZnVuY3Rpb24oZWxlbWVudCkgeyBHYW1lLnRvb2x0aXAuc2hvdWxkSGlkZT0xOyB9LA0KCWhhbmRsZU1vdXNlb3ZlclBsb3RJc1NhdmVkOmZ1bmN0aW9uKGVsZW1lbnQpIHsNCgkJaWYgKHRoaXMuY29uZmlnLnNhdmVkUGxvdC5sZW5ndGggPiAwKSB7DQoJCQlsZXQgY29udGVudCA9IHRoaXMuYnVpbGRTYXZlZFBsb3QoKTsNCgkJCUdhbWUudG9vbHRpcC5kcmF3KGVsZW1lbnQsIHdpbmRvdy5lc2NhcGUoY29udGVudCkpOw0KCQl9DQoJfSwNCgloYW5kbGVNb3VzZW91dFNlZWRMaXN0OmZ1bmN0aW9uKGVsZW1lbnQpIHsgR2FtZS50b29sdGlwLnNob3VsZEhpZGU9MTsgfSwNCgloYW5kbGVNb3VzZW92ZXJTZWVkTGlzdDpmdW5jdGlvbihlbGVtZW50LHNlZWRJZCkgew0KCQlsZXQgY29udGVudCA9IHRoaXMuYnVpbGRNdXRhdGlvblBsb3Qoc2VlZElkKTsNCgkJR2FtZS50b29sdGlwLmRyYXcoZWxlbWVudCwgd2luZG93LmVzY2FwZShjb250ZW50KSk7DQoJfSwNCgkNCgkvL01lbnUgU3R1ZmYNCgltYWtlSWQ6ZnVuY3Rpb24oaWQpIHsgcmV0dXJuIHRoaXMubW9kaWQgKyB0aGlzLmNhcGl0YWxpemUoaWQpOyB9LA0KCWNzczpmdW5jdGlvbigpIHsNCiAgICByZXR1cm4gYA0KCQkjZ2FtZS5vbk1lbnUgI2Nvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkIHsNCgkJICBkaXNwbGF5OiBub25lOw0KCQl9DQoJCSNjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZCB7DQoJCSAgYmFja2dyb3VuZDogIzAwMCB1cmwoaW1nL2RhcmtOb2lzZS5qcGcpOw0KCQkgIGRpc3BsYXk6IG5vbmU7DQoJCSAgcGFkZGluZzogMWVtOw0KCQkgIHBvc2l0aW9uOiBpbmhlcml0Ow0KCQl9DQoJCSNjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZC52aXNpYmxlIHsNCgkJICBkaXNwbGF5OiBibG9jazsNCgkJfQ0KCQkjY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWRUb29sczphZnRlciB7DQoJCSAgY29udGVudDogIiI7DQoJCSAgZGlzcGxheTogdGFibGU7DQoJCSAgY2xlYXI6IGJvdGg7DQoJCX0NCgkJLmNvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkU21hbGxTdWJQYW5lbCB7DQoJCSAgZmxvYXQ6IGxlZnQ7DQoJCSAgd2lkdGg6IDIwJTsNCgkJfQ0KCQkuY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWRQYW5lbCB7DQoJCSAgZmxvYXQ6IGxlZnQ7DQoJCSAgd2lkdGg6IDI1JTsNCgkJfQ0KCQkuY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWRTbWFsbFBhbmVsIHsNCgkJICBmbG9hdDogbGVmdDsNCgkJICB3aWR0aDogMTglOw0KCQl9DQoJCS5jb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZFN1YlBhbmVsIHsNCgkJICBmbG9hdDogbGVmdDsNCgkJICB3aWR0aDogNTAlOw0KCQl9DQoJCS5jb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZFNlZWRQYW5lbCB7DQoJCSAgZmxvYXQ6IGxlZnQ7DQoJCSAgd2lkdGg6IDEwMCU7DQoJCX0NCgkJLmNvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkQmlnUGFuZWwgew0KCQkgIGZsb2F0OiBsZWZ0Ow0KCQkgIHdpZHRoOiA1MCU7DQoJCX0NCgkJI2F1dG9IYXJ2ZXN0UGFuZWwgeyBjb2xvcjogd2hlYXQ7IH0NCgkJI2F1dG9IYXJ2ZXN0UGFuZWwgYSB7IGNvbG9yOiB3aGVhdDsgfQ0KCQkjYXV0b1BsYW50UGFuZWwgeyBjb2xvcjogbGlnaHRncmVlbjsgfQ0KCQkjYXV0b1BsYW50UGFuZWwgYSB7IGNvbG9yOiBsaWdodGdyZWVuOyB9DQoJCSNhdXRvSGFydmVzdFBhbmVsIGE6aG92ZXIsDQoJCSNhdXRvUGxhbnRQYW5lbCBhOmhvdmVyIHsgY29sb3I6IHdoaXRlOyB9DQoJCSNjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZFRpdGxlIHsNCgkJICBjb2xvcjogZ3JleTsNCgkJICBmb250LXNpemU6IDJlbTsNCgkJICBmb250LXN0eWxlOiBpdGFsaWM7DQoJCSAgbWFyZ2luLWJvdHRvbTogMC41ZW07DQoJCSAgbWFyZ2luLXRvcDogLTAuNWVtOw0KCQkgIHRleHQtYWxpZ246IGNlbnRlcjsNCgkJfQ0KCQkjY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWQgaDIgew0KCQkgIGZvbnQtc2l6ZTogMS41ZW07DQoJCSAgbGluZS1oZWlnaHQ6IDJlbTsNCgkJfQ0KCQkjY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWQgaDMgew0KCQkgIGNvbG9yOiBsaWdodGdyZXk7DQoJCSAgZm9udC1zdHlsZTogaXRhbGljOw0KCQkgIGxpbmUtaGVpZ2h0OiAyZW07DQoJCX0NCgkJI2Nvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkIHAgew0KCQkgIHRleHQtaW5kZW50OiAwOw0KCQl9DQoJCSNjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZCBpbnB1dFt0eXBlPW51bWJlcl0gew0KCQkgIHdpZHRoOiAzZW07DQoJCX0NCgkJI2Nvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkIGEudG9nZ2xlQnRuOm5vdCgub2ZmKSAudG9nZ2xlQnRuT2ZmLA0KCQkjY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWQgYS50b2dnbGVCdG4ub2ZmIC50b2dnbGVCdG5PbiB7DQoJCSAgZGlzcGxheTogbm9uZTsNCgkJfQ0KCQkjY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWQgc3Bhbi5sYWJlbFdpdGhTdGF0ZTpub3QoLmFjdGl2ZSkgLmxhYmVsU3RhdGVBY3RpdmUsDQoJCSNjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZCBzcGFuLmxhYmVsV2l0aFN0YXRlLmFjdGl2ZSAubGFiZWxTdGF0ZU5vdEFjdGl2ZSB7DQoJCSAgZGlzcGxheTogbm9uZTsNCgkJfQ0KCQkjY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWRUb29sdGlwIHsNCgkJICB3aWR0aDogMzAwcHg7DQoJCX0NCgkJI2Nvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkVG9vbHRpcCAuZ2FyZGVuVGlsZVJvdyB7DQoJCSAgaGVpZ2h0OiA0OHB4Ow0KCQl9DQoJCSNjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZFRvb2x0aXAgLnRpbGUgew0KCQkgIGJvcmRlcjogMXB4IGluc2V0IGRpbWdyZXk7DQoJCSAgZGlzcGxheTogaW5saW5lLWJsb2NrOw0KCQkgIGhlaWdodDogNDhweDsNCgkJICB3aWR0aDogNDhweDsNCgkJfQ0KCQkjY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWRUb29sdGlwIC5nYXJkZW5UaWxlSWNvbiB7DQoJCSAgcG9zaXRpb246IGluaGVyaXQ7DQoJCX0NCgkJI2Nvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkVG9vbHRpcCAuZ2FyZGVuVGlsZUljb24ub2ZmIHsNCgkJICBvcGFjaXR5OiAyMCU7DQoJCX0NCgkJI2Nvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkIC53YXJuaW5nIHsNCgkJCXBhZGRpbmc6IDFlbTsNCgkJCWZvbnQtc2l6ZTogMS41ZW07DQoJCQliYWNrZ3JvdW5kLWNvbG9yOiBvcmFuZ2U7DQoJCQljb2xvcjogd2hpdGU7DQoJCX0NCgkJI2Nvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkIC53YXJuaW5nIC5jbG9zZVdhcm5pbmcgew0KCQkJZm9udC13ZWlnaHQ6IGJvbGQ7DQoJCQlmbG9hdDogcmlnaHQ7DQoJCQlmb250LXNpemU6IDJlbTsNCgkJCWxpbmUtaGVpZ2h0OiAwLjI1ZW07DQoJCQljdXJzb3I6IHBvaW50ZXI7DQoJCQl0cmFuc2l0aW9uOiAwLjNzOw0KCQl9DQoJCSNjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZCAud2FybmluZyAuY2xvc2VXYXJuaW5nOmhvdmVyIHsNCgkJCWNvbG9yOiBibGFjazsNCgkJfQ0KCQkuY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWRHYXJkZW5TZWVkIHsNCgkJICAgIHBvaW50ZXItZXZlbnRzOiBub25lOw0KCQkJdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwwKTsNCgkJCWRpc3BsYXk6IGlubGluZS1ibG9jazsNCgkJCS8qIHBvc2l0aW9uOiBhYnNvbHV0ZTsgKi8NCgkJCWxlZnQ6IC00cHg7DQoJCQl0b3A6IC00cHg7DQoJCQl3aWR0aDogNDhweDsNCgkJCWhlaWdodDogNDhweDsNCgkJCXZlcnRpY2FsLWFsaWduOiBtaWRkbGU7DQoJCX0NCgkJLmNvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkRGFya2VuU2VlZCB7DQoJCQliYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQocmdiYSgwLCAwLCAwLCAwLjUpLCByZ2JhKDAsIDAsIDAsIDAuNSkpLCB1cmwoaW1nL2dhcmRlblBsYW50cy5wbmc/dj0yLjA0Mik7DQoJCX0NCgkJLmNvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkQnJpZ2h0ZW5TZWVkIHsNCgkJCWJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUgY2xvc2VzdC1zaWRlLCByZ2JhKDI0NiwgMjQ3LCAxNzEsIDAuMjUpLCByZ2JhKDAsIDAsIDAsIDApKSwgdXJsKGltZy9nYXJkZW5QbGFudHMucG5nP3Y9Mi4wNDIpOw0KCQl9DQoJCS5jb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZFNlZWQgew0KCQkJYmFja2dyb3VuZDogdXJsKGltZy9nYXJkZW5QbGFudHMucG5nP3Y9Mi4wNDIpOw0KCQl9DQoJCWA7DQoJfSwNCgludW1iZXJJbnB1dDpmdW5jdGlvbihuYW1lLCB0ZXh0LCB0aXRsZSwgb3B0aW9ucykgew0KCQlsZXQgaWQgPSB0aGlzLm1ha2VJZChuYW1lKTsNCgkJcmV0dXJuIGANCgkJCTxpbnB1dCB0eXBlPSJudW1iZXIiIG5hbWU9IiR7bmFtZX0iIGlkPSIke2lkfSIgdmFsdWU9IiR7b3B0aW9ucy52YWx1ZX0iIHN0ZXA9MC41DQoJCQkgICR7b3B0aW9ucy5taW4gIT09IHVuZGVmaW5lZCA/IGBtaW49IiR7b3B0aW9ucy5taW59ImAgOiAnJ30NCgkJCSAgJHtvcHRpb25zLm1heCAhPT0gdW5kZWZpbmVkID8gYG1heD0iJHtvcHRpb25zLm1heH0iYCA6ICcnfSAvPg0KCQkJPGxhYmVsIGZvcj0iJHtpZH0iIHRpdGxlPSIke3RpdGxlfSI+JHt0ZXh0fTwvbGFiZWw+YDsNCgl9LA0KCWJ1dHRvbjpmdW5jdGlvbihuYW1lLCB0ZXh0LCB0aXRsZSwgdG9nZ2xlLCBhY3RpdmUpIHsNCgkJaWYgKHRvZ2dsZSkgew0KCQkgIHJldHVybiBgPGEgY2xhc3M9InRvZ2dsZUJ0biBvcHRpb24gJHthY3RpdmUgPyAnJyA6ICdvZmYnfSIgbmFtZT0iJHtuYW1lfSIgaWQ9IiR7dGhpcy5tYWtlSWQobmFtZSl9IiB0aXRsZT0iJHt0aXRsZX0iPg0KCQkJJHt0ZXh0fQ0KCQkJPHNwYW4gY2xhc3M9InRvZ2dsZUJ0bk9uIj5PTjwvc3Bhbj4NCgkJCTxzcGFuIGNsYXNzPSJ0b2dnbGVCdG5PZmYiPk9GRjwvc3Bhbj4NCgkJICA8L2E+YDsNCgkJfQ0KCQlyZXR1cm4gYDxhIGNsYXNzPSJidG4gb3B0aW9uIiBuYW1lPSIke25hbWV9IiBpZD0iJHt0aGlzLm1ha2VJZChuYW1lKX0iIHRpdGxlPSIke3RpdGxlfSI+JHt0ZXh0fTwvYT5gOw0KCX0sDQoJY3VzdG9tQnV0dG9uOmZ1bmN0aW9uKG5hbWUsIHRleHQsIHRpdGxlLCBhY3RpdmUpIHsNCgkJcmV0dXJuIGA8YSBjbGFzcz0idG9nZ2xlQnRuIG9wdGlvbiAke2FjdGl2ZSA/ICcnIDogJ29mZid9IiBuYW1lPSIke25hbWV9IiBpZD0iJHt0aGlzLm1ha2VJZChuYW1lKX0iIHRpdGxlPSIke3RpdGxlfSI+JHt0ZXh0fTwvYT5gOw0KCX0sDQoJdG9nZ2xlQnV0dG9uOmZ1bmN0aW9uKG5hbWUpIHsNCgkJaWYobmFtZT09ImF1dG9QbGFudFJvdGF0ZVNvaWxDb21ib05hbWUiKXsNCgkJCXRoaXMuc2V0TmV4dENvbWJvKCk7DQoJCQlsZXQgYnRuID0gdGhpcy5kb2MucVNlbChgI2Nvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkIGEudG9nZ2xlQnRuW25hbWU9JHtuYW1lfV1gKTsNCgkJCWJ0bi5pbm5lckhUTUw9dGhpcy5nZXRTb2lsUm90YXRpb25Db21ibygpWzBdOw0KCQl9ZWxzZXsNCgkJCWxldCBidG4gPSB0aGlzLmRvYy5xU2VsKGAjY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWQgYS50b2dnbGVCdG5bbmFtZT0ke25hbWV9XWApOw0KCQkJYnRuLmNsYXNzTGlzdC50b2dnbGUoJ29mZicpOw0KCQkJaWYobmFtZT09ImF1dG9QbGFudFJvdGF0ZVNvaWwiKXsNCgkJCQlsZXQgbmFtZTIgPSAiYXV0b1BsYW50Um90YXRlU29pbENvbWJvTmFtZSINCgkJCQlsZXQgYnRuMiA9IHRoaXMuZG9jLnFTZWwoYCNjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZCBhLnRvZ2dsZUJ0bltuYW1lPSR7bmFtZTJ9XWApOw0KCQkJCWJ0bjIuY2xhc3NMaXN0LnRvZ2dsZSgnb2ZmJyk7DQoJCQl9DQoJCX0NCgl9LA0KCWxhYmVsV2l0aFN0YXRlOmZ1bmN0aW9uKG5hbWUsIHRleHQsIHRleHRBY3RpdmUsIGFjdGl2ZSkgew0KCQlyZXR1cm4gYDxzcGFuIG5hbWU9IiR7bmFtZX0iIGlkPSIke3RoaXMubWFrZUlkKG5hbWUpfSIgY2xhc3M9ImxhYmVsV2l0aFN0YXRlICR7YWN0aXZlID8gJ2FjdGl2ZScgOiAnJ30iIj4NCgkJICA8c3BhbiBjbGFzcz0ibGFiZWxTdGF0ZUFjdGl2ZSI+JHt0ZXh0QWN0aXZlfTwvc3Bhbj4NCgkJICA8c3BhbiBjbGFzcz0ibGFiZWxTdGF0ZU5vdEFjdGl2ZSI+JHt0ZXh0fTwvc3Bhbj4NCgkJPC9zcGFuPmA7DQoJfSwNCglsYWJlbFRvZ2dsZVN0YXRlOmZ1bmN0aW9uKG5hbWUsIGFjdGl2ZSkgew0KCQlsZXQgbGFiZWwgPSB0aGlzLmRvYy5xU2VsKGAjY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWQgc3Bhbi5sYWJlbFdpdGhTdGF0ZVtuYW1lPSR7bmFtZX1dYCk7DQoJCWxhYmVsLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGFjdGl2ZSk7DQoJfSwNCgljcmVhdGVXYXJuaW5nOmZ1bmN0aW9uKG1zZykgew0KCQl0aGlzLmRvYy5lbElkKCdyb3cyJykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIGANCgkJCTxkaXYgaWQ9ImNvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkIj4NCgkJCTxzdHlsZT4ke3RoaXMuY3NzKCl9PC9zdHlsZT4NCgkJCTxkaXYgY2xhc3M9Indhcm5pbmciPg0KCQkJPHNwYW4gY2xhc3M9ImNsb3NlV2FybmluZyI+JnRpbWVzOzwvc3Bhbj4NCgkJCSR7bXNnfQ0KCQkJPC9kaXY+DQoJCQk8L2Rpdj5gDQoJCSk7DQoJCXRoaXMuZG9jLnFTZWwoJyNjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZCAuY2xvc2VXYXJuaW5nJykub25jbGljayA9IChldmVudCkgPT4gew0KCQkJdGhpcy5kb2MuZWxJZCgnY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWQnKS5yZW1vdmUoKTsNCgkJfTsNCgl9LA0KCXJlYWRtZUxpbms6ZnVuY3Rpb24oKSB7IHJldHVybiAnaHR0cHM6Ly9naXRodWIuY29tL0NoYWthYS9jb29raWUtZ2FyZGVuLWhlbHBlci1yZWxvYWRlZC9ibG9iL21hc3Rlci9SRUFETUUubWQjaG93LWl0LXdvcmtzJzsgfSwNCgkNCglidWlsZDpmdW5jdGlvbigpIHsNCgkJaWYoCWwoImNvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkUHJvZHVjdEJ1dHRvbiIpICkNCgkJCWwoImNvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkUHJvZHVjdEJ1dHRvbiIpLnJlbW92ZSgpOw0KCQlpZigJbCgiY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWQiKSApDQoJCQlsKCJjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZCIpLnJlbW92ZSgpOw0KCQkNCgkJDQoJCXRoaXMuZG9jLnFTZWwoJyNyb3cyIC5wcm9kdWN0QnV0dG9ucycpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYA0KCQkJPGRpdiBpZD0iY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWRQcm9kdWN0QnV0dG9uIiBjbGFzcz0icHJvZHVjdEJ1dHRvbiI+Q0dIUjwvZGl2PmApOw0KCQl0aGlzLmRvYy5lbElkKCdyb3cyJykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBgDQoJCQk8ZGl2IGlkPSJjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZCI+DQoJCQkgIDxzdHlsZT4ke3RoaXMuY3NzKCl9PC9zdHlsZT4NCgkJCSAgPGEgaHJlZj0iJHt0aGlzLnJlYWRtZUxpbmsoKX0iIHRhcmdldD0ibmV3Ij5ob3cgaXQgd29ya3M8L2E+DQoJCQkgIDxkaXYgaWQ9ImNvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkVGl0bGUiIGNsYXNzPSJ0aXRsZSI+Q29va2llIEdhcmRlbiBIZWxwZXIgUmVsb2FkZWQ8L2Rpdj4NCgkJCSAgPGRpdiBpZD0iY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWRUb29scyI+DQoJCQkJPGRpdiBjbGFzcz0iY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWRCaWdQYW5lbCIgaWQ9ImF1dG9IYXJ2ZXN0UGFuZWwiPg0KCQkJCSAgPGgyPg0KCQkJCQlBdXRvLWhhcnZlc3QNCgkJCQkJJHt0aGlzLmJ1dHRvbignYXV0b0hhcnZlc3QnLCAnJywgJycsIHRydWUsIHRoaXMuY29uZmlnLmF1dG9IYXJ2ZXN0KX0NCgkJCQkgIDwvaDI+DQoJCQkJICA8ZGl2IGNsYXNzPSJjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZFN1YlBhbmVsIj4NCgkJCQkJPGgzPmltbW9ydGFsPC9oMz4NCgkJCQkJPHA+DQoJCQkJCSAgJHt0aGlzLmJ1dHRvbigNCgkJCQkJCSdhdXRvSGFydmVzdEF2b2lkSW1tb3J0YWxzJywgJ0F2b2lkIGltbW9ydGFscycsDQoJCQkJCQknRG8gbm90IGhhcnZlc3QgaW1tb3J0YWwgcGxhbnRzJywgdHJ1ZSwNCgkJCQkJCXRoaXMuY29uZmlnLmF1dG9IYXJ2ZXN0QXZvaWRJbW1vcnRhbHMNCgkJCQkJICApfQ0KCQkJCQk8L3A+DQoJCQkJCTxoMz5tYXR1cmU8L2gzPg0KCQkJCQk8cD4NCgkJCQkJICAke3RoaXMuYnV0dG9uKA0KCQkJCQkJJ2F1dG9IYXJ2ZXN0TmV3U2VlZHMnLCAnTmV3IHNlZWRzJywNCgkJCQkJCSdIYXJ2ZXN0IG5ldyBzZWVkcyBhcyBzb29uIGFzIHRoZXkgYXJlIG1hdHVyZScsIHRydWUsDQoJCQkJCQl0aGlzLmNvbmZpZy5hdXRvSGFydmVzdE5ld1NlZWRzDQoJCQkJCSAgKX0NCgkJCQkJPC9wPg0KCQkJCQk8cD4NCgkJCQkJICAke3RoaXMuYnV0dG9uKA0KCQkJCQkJJ2F1dG9IYXJ2ZXN0TWF0dXJlZCcsICdNYXR1cmVkIHNlZWRzJywNCgkJCQkJCSdIYXJ2ZXN0IG1hdHVyZWQgc2VlZHMgYXMgc29vbiBhcyB0aGV5IGFyZSBtYXR1cmUnLCB0cnVlLA0KCQkJCQkJdGhpcy5jb25maWcuYXV0b0hhcnZlc3RNYXR1cmVkDQoJCQkJCSAgKX0NCgkJCQkJPC9wPg0KCQkJCQk8cD4NCgkJCQkJICAke3RoaXMuYnV0dG9uKA0KCQkJCQkJJ2F1dG9IYXJ2ZXN0Q2hlY2tDcFNNdWx0JywgJ0NoZWNrIENwUyBtdWx0JywNCgkJCQkJCSdDaGVjayB0aGUgQ3BTIG11bHRpcGxpZXIgYmVmb3JlIGhhcnZlc3RpbmcgKHNlZSBiZWxvdyknLCB0cnVlLA0KCQkJCQkJdGhpcy5jb25maWcuYXV0b0hhcnZlc3RDaGVja0NwU011bHQNCgkJCQkJICApfQ0KCQkJCQk8L3A+DQoJCQkJCTxwPg0KCQkJCQkgICR7dGhpcy5udW1iZXJJbnB1dCgNCgkJCQkJCSdhdXRvSGFydmVzdE1pbmlDcFNNdWx0JywgJ01pbmkgQ3BTIG11bHRpcGxpZXInLA0KCQkJCQkJJ01pbmltdW0gQ3BTIG11bHRpcGxpZXIgZm9yIHRoZSBhdXRvLWhhcnZlc3QgdG8gaGFwcGVuJywNCgkJCQkJCXRoaXMuY29uZmlnLmF1dG9IYXJ2ZXN0TWluaUNwU011bHQNCgkJCQkJICApfQ0KCQkJCQk8L3A+DQoJCQkJICA8L2Rpdj4NCgkJCQkgIDxkaXYgY2xhc3M9ImNvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkU3ViUGFuZWwiPg0KCQkJCQk8aDM+eW91bmc8L2gzPg0KCQkJCQk8cD4NCgkJCQkJICAke3RoaXMuYnV0dG9uKA0KCQkJCQkJJ2F1dG9IYXJ2ZXN0V2VlZHMnLCAnUmVtb3ZlIHdlZWRzJywNCgkJCQkJCSdSZW1vdmUgd2VlZHMgYXMgc29vbiBhcyB0aGV5IGFwcGVhcicsIHRydWUsDQoJCQkJCQl0aGlzLmNvbmZpZy5hdXRvSGFydmVzdFdlZWRzDQoJCQkJCSAgKX0NCgkJCQkJPC9wPg0KCQkJCQk8cD4NCgkJCQkJICAke3RoaXMuYnV0dG9uKA0KCQkJCQkJJ2F1dG9IYXJ2ZXN0Q2xlYW5HYXJkZW4nLCAnQ2xlYW4gR2FyZGVuJywNCgkJCQkJCSdPbmx5IGFsbG93IHNhdmVkIGFuZCBuZXcgc2VlZHMnLCB0cnVlLA0KCQkJCQkJdGhpcy5jb25maWcuYXV0b0hhcnZlc3RDbGVhbkdhcmRlbg0KCQkJCQkgICl9DQoJCQkJCTwvcD4NCgkJCQkJPGgzPmR5aW5nPC9oMz4NCgkJCQkJPHA+DQoJCQkJCSAgJHt0aGlzLmJ1dHRvbigNCgkJCQkJCSdhdXRvSGFydmVzdER5aW5nJywgJ0R5aW5nIHBsYW50cycsDQoJCQkJCQlgSGFydmVzdCBkeWluZyBwbGFudHMsICR7dGhpcy5jb25maWcuYXV0b0hhcnZlc3REeWluZ1NlY29uZHN9cyBiZWZvcmUgYA0KCQkJCQkJKyBgdGhlIG5ldyB0aWNrIG9jY3Vyc2AsIHRydWUsDQoJCQkJCQl0aGlzLmNvbmZpZy5hdXRvSGFydmVzdER5aW5nDQoJCQkJCSAgKX0NCgkJCQkJPC9wPg0KCQkJCQk8cD4NCgkJCQkJICAke3RoaXMuYnV0dG9uKA0KCQkJCQkJJ2F1dG9IYXJ2ZXN0Q2hlY2tDcFNNdWx0RHlpbmcnLCAnQ2hlY2sgQ3BTIG11bHQnLA0KCQkJCQkJJ0NoZWNrIHRoZSBDcFMgbXVsdGlwbGllciBiZWZvcmUgaGFydmVzdGluZyAoc2VlIGJlbG93KScsIHRydWUsDQoJCQkJCQl0aGlzLmNvbmZpZy5hdXRvSGFydmVzdENoZWNrQ3BTTXVsdER5aW5nDQoJCQkJCSAgKX0NCgkJCQkJPC9wPg0KCQkJCQk8cD4NCgkJCQkJICAke3RoaXMubnVtYmVySW5wdXQoDQoJCQkJCQknYXV0b0hhcnZlc3RNaW5pQ3BTTXVsdER5aW5nJywgJ01pbmkgQ3BTIG11bHRpcGxpZXInLA0KCQkJCQkJJ01pbmltdW0gQ3BTIG11bHRpcGxpZXIgZm9yIHRoZSBhdXRvLWhhcnZlc3QgdG8gaGFwcGVuJywNCgkJCQkJCXRoaXMuY29uZmlnLmF1dG9IYXJ2ZXN0TWluaUNwU011bHREeWluZw0KCQkJCQkgICl9DQoJCQkJCTwvcD4NCgkJCQkgIDwvZGl2Pg0KCQkJCTwvZGl2Pg0KCQkJCTxkaXYgY2xhc3M9ImNvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkUGFuZWwiIGlkPSJhdXRvUGxhbnRQYW5lbCI+DQoJCQkJICA8aDI+DQoJCQkJCUF1dG8tcGxhbnQNCgkJCQkJJHt0aGlzLmJ1dHRvbignYXV0b1BsYW50JywgJycsICcnLCB0cnVlLCB0aGlzLmNvbmZpZy5hdXRvUGxhbnQpfQ0KCQkJCSAgPC9oMj4NCgkJCQkgIDxwPg0KCQkJCQkke3RoaXMuYnV0dG9uKA0KCQkJCQkgICdhdXRvUGxhbnRBdm9pZEJ1ZmZzJywgJ0F2b2lkIEJ1ZmZzJywNCgkJCQkJICAnTWFrZSBzdXJlIHRoZXJlIGlzIG5vIGJ1ZmZzIGJlZm9yZSBwbGFudGluZyAoc2F2aW5nIGNvb2tpZXMpJywgdHJ1ZSwNCgkJCQkJICB0aGlzLmNvbmZpZy5hdXRvUGxhbnRBdm9pZEJ1ZmZzDQoJCQkJCSl9DQoJCQkJICA8L3A+DQoJCQkJICA8cD4NCgkJCQkJJHt0aGlzLmJ1dHRvbigNCgkJCQkJICAnYXV0b1BsYW50Um90YXRlU29pbCcsICdSb3RhdGUgU29pbCcsDQoJCQkJCSAgJ1JvdGF0ZSBzb2lsIGJhc2VkIG9uIG1hdHVyZS95b3VuZyBjb3VudHMnLCB0cnVlLA0KCQkJCQkgIHRoaXMuY29uZmlnLmF1dG9QbGFudFJvdGF0ZVNvaWwNCgkJCQkJKX0NCgkJCQkJJHt0aGlzLmN1c3RvbUJ1dHRvbigNCgkJCQkJICAnYXV0b1BsYW50Um90YXRlU29pbENvbWJvTmFtZScsIHRoaXMuZ2V0U29pbFJvdGF0aW9uQ29tYm8oKVswXSwNCgkJCQkJICAnQ3ljbGUgb24gcG9zc2libGUgc29pbCByb3RhdGlvbiBjb21ib3MnLCB0aGlzLmNvbmZpZy5hdXRvUGxhbnRSb3RhdGVTb2lsDQoJCQkJCSl9DQoJCQkJICA8L3A+DQoJCQkJICA8cD4NCgkJCQkJJHt0aGlzLmJ1dHRvbigNCgkJCQkJICAnYXV0b1BsYW50Q2hlY2tDcFNNdWx0JywgJ0NoZWNrIENwUyBtdWx0JywNCgkJCQkJICAnQ2hlY2sgdGhlIENwUyBtdWx0aXBsaWVyIGJlZm9yZSBwbGFudGluZyAoc2VlIGJlbG93KScsIHRydWUsDQoJCQkJCSAgdGhpcy5jb25maWcuYXV0b1BsYW50Q2hlY2tDcFNNdWx0DQoJCQkJCSl9DQoJCQkJICA8L3A+DQoJCQkJICA8cD4NCgkJCQkJJHt0aGlzLm51bWJlcklucHV0KA0KCQkJCQkgICdhdXRvUGxhbnRNYXhpQ3BTTXVsdCcsICdNYXhpIENwUyBtdWx0aXBsaWVyJywNCgkJCQkJICAnTWF4aW11bSBDcFMgbXVsdGlwbGllciBmb3IgdGhlIGF1dG8tcGxhbnQgdG8gaGFwcGVuJywNCgkJCQkJICB0aGlzLmNvbmZpZy5hdXRvUGxhbnRNYXhpQ3BTTXVsdA0KCQkJCQkpfQ0KCQkJCSAgPC9wPg0KCQkJCSAgPHA+DQoJCQkJCSR7dGhpcy5idXR0b24oJ3NhdmVQbG90JywgJ1NhdmUgcGxvdCcsDQoJCQkJCSAgJ1NhdmUgdGhlIGN1cnJlbnQgcGxvdDsgdGhlc2Ugc2VlZHMgd2lsbCBiZSByZXBsYW50ZWQgbGF0ZXIuIEhvbGQgQ3RybCBhbmQgY2xpY2sgdG8gY2xlYXIuJyl9DQoJCQkJCSR7dGhpcy5sYWJlbFdpdGhTdGF0ZSgncGxvdElzU2F2ZWQnLCAnTm8gc2F2ZWQgcGxvdCcsICdQbG90IHNhdmVkJywNCgkJCQkJICBCb29sZWFuKHRoaXMuY29uZmlnLnNhdmVkUGxvdC5sZW5ndGgpKX0NCgkJCQkgIDwvcD4NCgkJCQkgIDwhLS0NCgkJCQkgIDxwPg0KCQkJCQkke3RoaXMuYnV0dG9uKA0KCQkJCQkgICdhdXRvRm9yY2VUaWNrcycsICdGb3JjZSB0aWNrcycsDQoJCQkJCSAgJ0ZvcmNlIGdyb3cgdGlja3MgdG8gaGFwcGVuIGZyZXF1ZW50bHknLCB0cnVlLA0KCQkJCQkgIHRoaXMuY29uZmlnLmF1dG9Gb3JjZVRpY2tzDQoJCQkJCSl9DQoJCQkJICA8L3A+DQoJCQkJICAtLT4NCgkJCQk8L2Rpdj4NCgkJCQk8ZGl2IGNsYXNzPSJjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZFBhbmVsIiBpZD0ibWFudWFsVG9vbHNQYW5lbCI+DQoJCQkJICA8aDI+TWFudWFsIHRvb2xzPC9oMj4NCgkJCQkgIDxwPg0KCQkJCQkke3RoaXMuYnV0dG9uKCdmaWxsR2FyZGVuV2l0aFNlbGVjdGVkU2VlZCcsICdQbGFudCBzZWxlY3RlZCBzZWVkJywNCgkJCQkJJ1BsYW50IHRoZSBzZWxlY3RlZCBzZWVkIG9uIGFsbCBlbXB0eSB0aWxlcycpfQ0KCQkJCSAgPC9wPg0KCQkJCTwvZGl2Pg0KCQkJCTxkaXYgY2xhc3M9ImNvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkUGFuZWwiIGlkPSJnYXJkZW5VcGdyYWRlc1BhbmVsIj4NCgkJCQkgIDxoMj5HYXJkZW4gdXBncmFkZXM8L2gyPg0KCQkJCSAgPHAgaWQ9ImNnaHJVcGdyYWRlTGlzdERpdiIgc3R5bGU9IiI+PC9wPg0KCQkJCTwvZGl2Pg0KCQkJCTxkaXYgY2xhc3M9ImNvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkU2VlZFBhbmVsIiBpZD0ic2VlZExpc3QiPg0KCQkJCSAgPGgyPlNlZWQgTGlzdCAke3RoaXMuYnV0dG9uKCdUb2dnbGVTZWVkTGlzdCcsICcrJywgDQoJCQkJCSdEaXNwbGF5IG9yIGhpZGUgc2VlZCBsaXN0LiBJbiBvcmFuZ2UsIHdoYXQgY291bGQgYmUgdW5sb2NrZWQuIEluIHJlZCwgd2hhdCBjYW5ub3QuIEhvbGQgQ3RybCBhbmQgY2xpY2sgdG8gcHJldmVudCBhdXRvSGFydmVzdC4nKX08L2gyPg0KCQkJCSAgPHAgaWQ9ImNnaHJTZWVkTGlzdERpdiIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PC9wPg0KCQkJCTwvZGl2Pg0KCQkJICA8L2Rpdj4NCgkJCTwvZGl2PmApOw0KDQoJCXRoaXMuZG9jLmVsSWQoJ2Nvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkUHJvZHVjdEJ1dHRvbicpLm9uY2xpY2sgPSAoZXZlbnQpID0+IHsNCgkJICB0aGlzLmRvYy5lbElkKCdjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZCcpLmNsYXNzTGlzdC50b2dnbGUoJ3Zpc2libGUnKTsNCgkJfTsNCg0KCQl0aGlzLmRvYy5xU2VsQWxsKCcjY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWQgaW5wdXQnKS5mb3JFYWNoKChpbnB1dCkgPT4gew0KCQkgIGlucHV0Lm9uY2hhbmdlID0gKGV2ZW50KSA9PiB7DQoJCQlpZiAoaW5wdXQudHlwZSA9PSAnbnVtYmVyJykgew0KCQkJICBsZXQgbWluID0gdGhpcy5jb25maWdbaW5wdXQubmFtZV0ubWluOw0KCQkJICBsZXQgbWF4ID0gdGhpcy5jb25maWdbaW5wdXQubmFtZV0ubWF4Ow0KCQkJICBpZiAobWluICE9PSB1bmRlZmluZWQgJiYgaW5wdXQudmFsdWUgPCBtaW4pIHsgaW5wdXQudmFsdWUgPSBtaW47IH0NCgkJCSAgaWYgKG1heCAhPT0gdW5kZWZpbmVkICYmIGlucHV0LnZhbHVlID4gbWF4KSB7IGlucHV0LnZhbHVlID0gbWF4OyB9DQoJCQkgIHRoaXMuaGFuZGxlQ2hhbmdlKGlucHV0Lm5hbWUsIGlucHV0LnZhbHVlKTsNCgkJCX0NCgkJICB9Ow0KCQl9KTsNCg0KCQl0aGlzLmRvYy5xU2VsQWxsKCcjY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWQgYS50b2dnbGVCdG4nKS5mb3JFYWNoKChhKSA9PiB7DQoJCSAgYS5vbmNsaWNrID0gKGV2ZW50KSA9PiB7DQoJCQl0aGlzLmhhbmRsZVRvZ2dsZShhLm5hbWUpOw0KCQkgIH07DQoJCX0pOw0KDQoJCXRoaXMuZG9jLnFTZWxBbGwoJyNjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZCBhLmJ0bicpLmZvckVhY2goKGEpID0+IHsNCgkJICBhLm9uY2xpY2sgPSAoZXZlbnQpID0+IHsNCgkJCXRoaXMuaGFuZGxlQ2xpY2soYS5uYW1lKTsNCgkJICB9Ow0KCQl9KTsNCg0KCQl0aGlzLmRvYy5lbElkKCdjb29raWVnYXJkZW5oZWxwZXJyZWxvYWRlZFBsb3RJc1NhdmVkJykub25tb3VzZW91dCA9IChldmVudCkgPT4gew0KCQkJdGhpcy5oYW5kbGVNb3VzZW91dFBsb3RJc1NhdmVkKHRoaXMpOw0KCQl9DQoJCXRoaXMuZG9jLmVsSWQoJ2Nvb2tpZWdhcmRlbmhlbHBlcnJlbG9hZGVkUGxvdElzU2F2ZWQnKS5vbm1vdXNlb3ZlciA9IChldmVudCkgPT4gew0KCQkJdGhpcy5oYW5kbGVNb3VzZW92ZXJQbG90SXNTYXZlZCh0aGlzKTsNCgkJfQ0KCQl0aGlzLmRvYy5lbElkKCdjb29raWVnYXJkZW5oZWxwZXJyZWxvYWRlZFRvZ2dsZVNlZWRMaXN0Jykub25jbGljayA9IChldmVudCkgPT4gew0KCQkJdGhpcy50b2dnbGVTZWVkTGlzdCh0aGlzKTsNCgkJfQ0KCX0sDQoJZ2V0VXBncmFkZUxpc3REaXNwbGF5OmZ1bmN0aW9uKCkgew0KCQlzdHIgPSAiIjsNCgkJaWYodGhpcy5pc0FjdGl2ZSgpKXsNCgkJCWZvcihsZXQgaT00NzA7aTw9NDc2O2krKyl7DQoJCQkJdmFyIGljID0gR2FtZS5VcGdyYWRlc0J5SWRbaV0uaWNvbjsNCgkJCQlzdHIgKz0gYA0KCQkJCTxkaXYgY2xhc3M9ImNyYXRlIHVwZ3JhZGUke0dhbWUuVXBncmFkZXNCeUlkW2ldLmJvdWdodD09MT8nIGVuYWJsZWQnOicnfSIgb25tb3VzZW91dD0iR2FtZS50b29sdGlwLnNob3VsZEhpZGU9MTsiIG9ubW91c2VvdmVyPSJHYW1lLnRvb2x0aXAuZHluYW1pYz0xO0dhbWUudG9vbHRpcC5kcmF3KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gR2FtZS5jcmF0ZVRvb2x0aXAoR2FtZS5VcGdyYWRlc0J5SWRbJHtpfV0sJ3N0b3JlJyk7fSwndG9wJyk7R2FtZS50b29sdGlwLndvYmJsZSgpOyIgaWQ9InVwZy0ke2l9IiBzdHlsZT0iJHtHYW1lLlVwZ3JhZGVzQnlJZFtpXS51bmxvY2tlZD09MD8nb3BhY2l0eTouMzsnOicnfXdpZHRoOjQ4cHg7aGVpZ2h0OjQ4cHg7YmFja2dyb3VuZC1pbWFnZTogdXJsKGltZy9pY29ucy5wbmcpO2JhY2tncm91bmQtcG9zaXRpb246ICR7LTEqaWNbMF0qNDh9cHggJHstMSppY1sxXSo0OH1weDsiPjwvZGl2PmA7DQoJCQl9DQoJCX0NCgkJcmV0dXJuIHN0cjsNCgl9LA0KCWdldFNlZWRMaXN0RGlzcGxheTpmdW5jdGlvbigpIHsNCgkJc3RyID0gIiI7DQoJCWlmKHRoaXMuaXNBY3RpdmUoKSl7DQoJCQlzdHIgKz0gIjxwPk9yYW5nZSAtIFVubG9ja2FibGUgLyBSZWQgLSBMb2NrZWQgLyBBdXJhIC0gUHJvdGVjdGlvbiBhZ2FpbnN0IEF1dG9IYXJ2ZXN0IChDdHJsK0NsaWNrKTwvcD4iOw0KCQkJZm9yIChsZXQgaSA9IDE7IGkgPD0gdGhpcy5taW5pZ2FtZSgpLnBsYW50c0J5SWQubGVuZ3RoOyBpKyspew0KCQkJCXZhciBwID0gdGhpcy5nZXRQbGFudChpKQ0KCQkJCXN0ciArPSBgPGRpdiBjbGFzcz0iY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWRTbWFsbFN1YlBhbmVsIHNlZWRMaXN0SXRlbSIgaWQ9InBsYW50LSR7aX0iPg0KCQkJCQk8ZGl2IGlkPSJnYXJkZW5TZWVkSWNvbi0ke2l9IiBjbGFzcz0iY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWRHYXJkZW5TZWVkIHNoYWRvd0ZpbHRlciR7dGhpcy5jb25maWcucHJvdGVjdGVkU2VlZHMuaW5jbHVkZXMoaSk/IiBjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZEJyaWdodGVuU2VlZCI6IiBjb29raWVHYXJkZW5IZWxwZXJSZWxvYWRlZFNlZWQifSAiIHN0eWxlPSJiYWNrZ3JvdW5kLXBvc2l0aW9uOjBweCAke3RoaXMuZ2V0U2VlZEljb25ZKGkpfXB4OyI+PC9kaXY+DQoJCQkJCTxkaXYgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrOyR7cC51bmxvY2tlZD09MT8nJzooIXRoaXMucGFyZW50c1VubG9ja2VkKGkpPydjb2xvcjpyZWQ7JzonY29sb3I6b3JhbmdlOycpfSI+JHtpfSAtICR7cC5uYW1lfTwvZGl2Pg0KCQkJCTwvZGl2PmA7DQoJCQl9DQoJCX0NCgkJDQoJCXJldHVybiBzdHI7DQoJfSwNCglzZXRTZWVkTGlzdFRvb2x0aXBzOmZ1bmN0aW9uKCkgew0KCQl0aGlzLmRvYy5xU2VsQWxsKCcuc2VlZExpc3RJdGVtJykuZm9yRWFjaCgoZCkgPT4gew0KCQkgIGQub25jbGljayA9IChldmVudCkgPT4gew0KCQkJdGhpcy5oYW5kbGVTZWVkQ2xpY2socGFyc2VJbnQoZC5pZC5zcGxpdCgnLScpWzFdKSk7DQoJCSAgfTsNCg0KCQkgIGQub25tb3VzZW91dCA9IChldmVudCkgPT4gew0KCQkgIAl0aGlzLmhhbmRsZU1vdXNlb3V0U2VlZExpc3QodGhpcyk7DQoJCSAgfQ0KCQkgIGQub25tb3VzZW92ZXIgPSAoZXZlbnQpID0+IHsNCgkJICAJdGhpcy5oYW5kbGVNb3VzZW92ZXJTZWVkTGlzdCh0aGlzLCBwYXJzZUludChkLmlkLnNwbGl0KCctJylbMV0pKTsNCgkJICB9DQoJCX0pOw0KCX0sDQoJaXNNdXRhdGlvblBsYWNlOmZ1bmN0aW9uKHBhcmVudHMseCx5KXsNCgkJaWYodGhpcy5pc0FjdGl2ZSgpKXsNCgkJCXZhciBsID0gR2FtZS5PYmplY3RzWydGYXJtJ10ubGV2ZWwNCgkJCQ0KCQkJLy9MZXZlbCAxDQoJCQlpZihsPT0xICYmIHBhcmVudHM9PTEpew0KCQkJCWlmKHg9PTIgJiYgKHk9PTJ8fHk9PTMpKXsgcmV0dXJuIDAgfQ0KCQkJfQ0KCQkJZWxzZSBpZihsPT0xICYmIHBhcmVudHM9PTIpew0KCQkJCWlmKHg9PTIgJiYgeT09Mil7IHJldHVybiAwIH0NCgkJCQllbHNlIGlmKHg9PTIgJiYgeT09Myl7IHJldHVybiAxIH0NCgkJCX0NCgkJCS8vTGV2ZWwgMg0KCQkJZWxzZSBpZihsPT0yICYmIHBhcmVudHM9PTEpew0KCQkJCWlmKHg9PTMgJiYgKHk9PTJ8fHk9PTMpKXsgcmV0dXJuIDAgfQ0KCQkJfQ0KCQkJZWxzZSBpZihsPT0yICYmIHBhcmVudHM9PTIpew0KCQkJCWlmKHg9PTMgJiYgeT09Mil7IHJldHVybiAwIH0NCgkJCQllbHNlIGlmKHg9PTMgJiYgeT09Myl7IHJldHVybiAxIH0NCgkJCX0NCgkJCS8vTGV2ZWwgMw0KCQkJZWxzZSBpZihsPT0zICYmIHBhcmVudHM9PTEpew0KCQkJCWlmKHk9PTMgJiYgKHg9PTJ8fHg9PTN8fHg9PTQpKXsgcmV0dXJuIDAgfQ0KCQkJfQ0KCQkJZWxzZSBpZihsPT0zICYmIHBhcmVudHM9PTIpew0KCQkJCWlmKHk9PTMgJiYgKHg9PTJ8fHg9PTQpKXsgcmV0dXJuIDAgfQ0KCQkJCWVsc2UgaWYoeT09MyAmJiB4PT0zKXsgcmV0dXJuIDEgfQ0KCQkJfQ0KCQkJLy9MZXZlbCA0DQoJCQllbHNlIGlmKGw9PTQgJiYgcGFyZW50cz09MSl7DQoJCQkJaWYoeT09MyAmJiAoeD09MXx8eD09Mnx8eD09M3x8eD09NCkpeyByZXR1cm4gMCB9DQoJCQl9DQoJCQllbHNlIGlmKGw9PTQgJiYgcGFyZW50cz09Mil7DQoJCQkJaWYoeT09MyAmJiAoeD09Mnx8eD09MykpeyByZXR1cm4gMCB9DQoJCQkJZWxzZSBpZih5PT0zICYmICh4PT0xfHx4PT00KSl7IHJldHVybiAxIH0NCgkJCX0NCgkJCS8vTGV2ZWwgNQ0KCQkJZWxzZSBpZihsPT01ICYmIHBhcmVudHM9PTEpew0KCQkJCWlmKCh4PT0xICYmIHk9PTEpIHx8ICh4PT0xICYmIHk9PTQpIHx8ICh4PT00ICYmIHk9PTEpIHx8ICh4PT00ICYmIHk9PTQpIHx8ICh4PT0zICYmIHk9PTIpIHx8ICh4PT0yICYmIHk9PTMpKXsgcmV0dXJuIDAgfQ0KCQkJfQ0KCQkJZWxzZSBpZihsPT01ICYmIHBhcmVudHM9PTIpew0KCQkJCWlmKCh4PT0xICYmIHk9PTEpIHx8ICh4PT0xICYmIHk9PTQpIHx8ICh4PT00ICYmIHk9PTEpIHx8ICh4PT00ICYmIHk9PTQpKXsgcmV0dXJuIDAgfQ0KCQkJCWVsc2UgaWYoKHg9PTMgJiYgeT09MikgfHwgKHg9PTIgJiYgeT09MykpeyByZXR1cm4gMSB9DQoJCQl9DQoJCQkvL0xldmVsIDYNCgkJCWVsc2UgaWYobD09NiAmJiBwYXJlbnRzPT0xKXsNCgkJCQlpZigoeD09MSAmJiB5PT0xKSB8fCAoeD09MSAmJiB5PT00KSB8fCAoeD09MiAmJiB5PT0yKSB8fCAoeD09MyAmJiB5PT00KSB8fCAoeD09NCAmJiB5PT0yKSB8fCAoeD09NSAmJiB5PT0xKSB8fCAoeD09NSAmJiB5PT00KSl7IHJldHVybiAwIH0NCgkJCX0NCgkJCWVsc2UgaWYobD09NiAmJiBwYXJlbnRzPT0yKXsNCgkJCQlpZigoeD09MiAmJiB5PT0zKSB8fCAoeD09MyAmJiB5PT0xKSB8fCAoeD09NSAmJiB5PT0zKSl7IHJldHVybiAwIH0NCgkJCQllbHNlIGlmKCh4PT0xICYmIHk9PTEpIHx8ICh4PT0xICYmIHk9PTMpIHx8ICh4PT00ICYmIHk9PTMpIHx8ICh4PT01ICYmIHk9PTEpKXsgcmV0dXJuIDEgfQ0KCQkJfQ0KCQkJLy9MZXZlbCA3DQoJCQllbHNlIGlmKGw9PTcgJiYgcGFyZW50cz09MSl7DQoJCQkJaWYoKHg9PTIgfHwgeD09NSkgJiYgKHk9PTEgfHwgeT09MiB8fCB5PT00IHx8IHk9PTUpKXsgcmV0dXJuIDAgfQ0KCQkJfQ0KCQkJZWxzZSBpZihsPT03ICYmIHBhcmVudHM9PTIpew0KCQkJCWlmKCh4PT0yIHx8IHg9PTUpICYmICh5PT0yIHx8IHk9PTUpKXsgcmV0dXJuIDAgfQ0KCQkJCWVsc2UgaWYoKHg9PTEgfHwgeD09NCkgJiYgKHk9PTIgfHwgeT09NSkpeyByZXR1cm4gMSB9DQoJCQl9DQoJCQkvL0xldmVsIDgNCgkJCWVsc2UgaWYobD09OCAmJiBwYXJlbnRzPT0xKXsNCgkJCQlpZigoeD09MSB8fCB4PT00KSAmJiAoeT09MSB8fCB5PT0yIHx8IHk9PTQgfHwgeT09NSkpeyByZXR1cm4gMCB9DQoJCQl9DQoJCQllbHNlIGlmKGw9PTggJiYgcGFyZW50cz09Mil7DQoJCQkJaWYoKHg9PTEgfHwgeD09NCkgJiYgKHk9PTEgfHwgeT09NCkpeyByZXR1cm4gMCB9DQoJCQkJZWxzZSBpZigoeD09MSB8fCB4PT00KSAmJiAoeT09MiB8fCB5PT01KSl7IHJldHVybiAxIH0NCgkJCX0NCgkJCS8vTGV2ZWwgOSsNCgkJCWVsc2UgaWYobD49OSAmJiBwYXJlbnRzPT0xKXsNCgkJCQlpZigoeD09MSB8fCB4PT00KSAmJiAoeT09MCB8fCB5PT0xIHx8IHk9PTIgfHwgeT09NCB8fCB5PT01KSl7IHJldHVybiAwIH0NCgkJCX0NCgkJCWVsc2UgaWYobD49OSAmJiBwYXJlbnRzPT0yKXsNCgkJCQlpZigoeD09MSB8fCB4PT00KSAmJiAoeT09MCB8fCB5PT01KSl7IHJldHVybiAwIH0NCgkJCQllbHNlIGlmKCh4PT00ICYmIHk9PTIpIHx8ICh4PT0xICYmIHk9PTMpKXsgcmV0dXJuIDAgfQ0KCQkJCWVsc2UgaWYoKHg9PTEgfHwgeD09NCkgJiYgKHk9PTEgfHwgeT09NCkpeyByZXR1cm4gMSB9DQoJCQl9DQoJCX0NCgkJcmV0dXJuIC0xOw0KCX0sDQoJZ2V0U2VlZEljb25ZOmZ1bmN0aW9uKHNlZWRJZCkgeyByZXR1cm4gdGhpcy5nZXRQbGFudChzZWVkSWQpLmljb24gKiAtNDg7IH0sDQoJYnVpbGRTYXZlZFBsb3Q6ZnVuY3Rpb24oKSB7DQoJCXJldHVybiBgPGRpdiBpZD0iY29va2llR2FyZGVuSGVscGVyUmVsb2FkZWRUb29sdGlwIj4NCgkJICAke3RoaXMuY29uZmlnLnNhdmVkUGxvdC5tYXAoKHJvdykgPT4gYDxkaXYgY2xhc3M9ImdhcmRlblRpbGVSb3ciPg0KCQkJJHtyb3cubWFwKCh0aWxlKSA9PiBgPGRpdiBjbGFzcz0idGlsZSI+DQoJCQkgICR7KHRpbGVbMF0gLSAxKSA8IDAgPyAnJyA6IGA8ZGl2IGNsYXNzPSJnYXJkZW5UaWxlSWNvbiINCgkJCQlzdHlsZT0iYmFja2dyb3VuZC1wb3NpdGlvbjogMCAke3RoaXMuZ2V0U2VlZEljb25ZKHRpbGVbMF0pfXB4OyI+DQoJCQkgIDwvZGl2PmB9DQoJCQk8L2Rpdj5gKS5qb2luKCcnKX0NCgkJICA8L2Rpdj5gKS5qb2luKCcnKX0NCgkJPC9kaXY+YDsNCgl9LA0KCWJ1aWxkTXV0YXRpb25QbG90OmZ1bmN0aW9uKHNlZWRJZCkgew0KCQkvL2NvbnNvbGUubG9nKHNlZWRJZCsiLSIrdGhpcy5pc1NlZWRVbmxvY2tlZChzZWVkSWQpKQ0KCQlyZXR1cm4gYDxkaXYgaWQ9ImNvb2tpZUdhcmRlbkhlbHBlclJlbG9hZGVkVG9vbHRpcCI+DQoJCSAgJHt0aGlzLmJ1aWxkTXV0YXRpb25QbG90RGF0YShzZWVkSWQpLm1hcCgocm93KSA9PiBgPGRpdiBjbGFzcz0iZ2FyZGVuVGlsZVJvdyI+DQoJCQkke3Jvdy5tYXAoKHRpbGUpID0+IGA8ZGl2IGNsYXNzPSJ0aWxlIj4NCgkJCSAgJHsodGlsZVswXSAtIDEpIDwgMCA/ICcnIDogYDxkaXYgY2xhc3M9ImdhcmRlblRpbGVJY29uICR7dGhpcy5pc1NlZWRVbmxvY2tlZCh0aWxlWzBdKT8nb24nOidvZmYnfSINCgkJCQlzdHlsZT0iYmFja2dyb3VuZC1wb3NpdGlvbjogMCAke3RoaXMuZ2V0U2VlZEljb25ZKHRpbGVbMF0pfXB4OyI+DQoJCQkgIDwvZGl2PmB9DQoJCQk8L2Rpdj5gKS5qb2luKCcnKX0NCgkJICA8L2Rpdj5gKS5qb2luKCcnKX0NCgkJPC9kaXY+YDsNCgl9LA0KCWVtcHR5UGxvdDpmdW5jdGlvbigpIHsNCgkJdmFyIFggPSBbMCwwXQ0KCQlyZXR1cm4gWw0KCQkJW1gsWCxYLFgsWCxYXSwNCgkJCVtYLFgsWCxYLFgsWF0sDQoJCQlbWCxYLFgsWCxYLFhdLA0KCQkJW1gsWCxYLFgsWCxYXSwNCgkJCVtYLFgsWCxYLFgsWF0sDQoJCQlbWCxYLFgsWCxYLFhdLA0KCQldOw0KCX0sDQoJYXZhaWxhYmxlUGxvdHM6ZnVuY3Rpb24oKSB7DQoJCXZhciBsID0gR2FtZS5PYmplY3RzWydGYXJtJ10ubGV2ZWwNCgkJaWYobD09MSl7DQoJCQlyZXR1cm4gWzIsMiwzLDNdOw0KCQl9ZWxzZSBpZihsPT0yKXsNCgkJCXJldHVybiBbMiwyLDQsM107DQoJCX1lbHNlIGlmKGw9PTMpew0KCQkJcmV0dXJuIFsyLDIsNCw0XTsNCgkJfWVsc2UgaWYobD09NCl7DQoJCQlyZXR1cm4gWzEsMiw0LDRdOw0KCQl9ZWxzZSBpZihsPT01KXsNCgkJCXJldHVybiBbMSwxLDQsNF07DQoJCX1lbHNlIGlmKGw9PTYpew0KCQkJcmV0dXJuIFsxLDEsNSw0XTsNCgkJfWVsc2UgaWYobD09Nyl7DQoJCQlyZXR1cm4gWzIsMiw1LDVdOw0KCQl9ZWxzZSBpZihsPT04KXsNCgkJCXJldHVybiBbMCwxLDUsNV07DQoJCX0NCgkJcmV0dXJuIFswLDAsNSw1XTsNCgl9LA0KCWFsbFBsb3RzOmZ1bmN0aW9uKHBhcmVudHMpIHsNCgkJdmFyIHBsb3RzID0gdGhpcy5hdmFpbGFibGVQbG90cygpOw0KCQl2YXIgcDEgPSBwYXJlbnRzWzBdKzE7DQoJCXZhciBYID0gWzAsMF07DQoJCXZhciBZID0gW3AxLDBdOw0KDQoJCXZhciBvdXRQbG90PSBbDQoJCQlbWCxYLFgsWCxYLFhdLA0KCQkJW1gsWCxYLFgsWCxYXSwNCgkJCVtYLFgsWCxYLFgsWF0sDQoJCQlbWCxYLFgsWCxYLFhdLA0KCQkJW1gsWCxYLFgsWCxYXSwNCgkJCVtYLFgsWCxYLFgsWF0NCgkJXTsNCgkJZm9yKHZhciB5PXBsb3RzWzFdO3k8PXBsb3RzWzNdO3krKyl7DQoJCQlmb3IodmFyIHg9cGxvdHNbMF07eDw9cGxvdHNbMl07eCsrKXsNCgkJCQlvdXRQbG90W3ldW3hdPVk7DQoJCQl9DQoJCX0NCgkJcmV0dXJuIG91dFBsb3Q7DQoNCgl9LA0KCWhvcml6b250YWxQbG90czpmdW5jdGlvbihwYXJlbnRzKSB7DQoJCXZhciBsID0gR2FtZS5PYmplY3RzWydGYXJtJ10ubGV2ZWwNCgkJdmFyIHAxID0gcGFyZW50c1swXSsxDQoJCXZhciBwMiA9IChwYXJlbnRzLmxlbmd0aD4xP3BhcmVudHNbMV06cGFyZW50c1swXSkrMTsNCgkJdmFyIFggPSBbMCwwXQ0KCQl2YXIgWSA9IFtwMSwwXQ0KCQl2YXIgWiA9IFtwMiwwXQ0KCQlpZihsPj04KXsNCgkJCXJldHVybiBbDQoJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQlbWSxZLFksWSxZLFldLA0KCQkJCVtYLFgsWCxYLFgsWF0sDQoJCQkJW1osWixaLFosWixaXSwNCgkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCVtZLFksWSxZLFksWV0NCgkJCV07DQoJCX1lbHNlIGlmKGw+PTcpew0KCQkJcmV0dXJuIFsNCgkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCVtYLFksWSxZLFksWV0sDQoJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQlbWCxaLFosWixaLFpdLA0KCQkJCVtYLFgsWCxYLFgsWF0sDQoJCQkJW1gsWSxZLFksWSxZXSwNCgkJCV07DQoJCX1lbHNlIGlmKGw+PTYpew0KCQkJcmV0dXJuIFsNCgkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCVtYLFgsWCxYLFgsWF0sDQoJCQkJW1gsWixaLFosWixaXSwNCgkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCVtYLFksWSxZLFksWV0sDQoJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCV07DQoJCX1lbHNlIGlmKGw+PTQpew0KCQkJcmV0dXJuIFsNCgkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCVtYLFgsWCxYLFgsWF0sDQoJCQkJW1gsWixaLFosWixYXSwNCgkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCVtYLFksWSxZLFksWF0sDQoJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJXTsNCgkJfWVsc2UgaWYobD49Myl7DQoJCQlyZXR1cm4gWw0KCQkJCVtYLFgsWCxYLFgsWF0sDQoJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQlbWCxYLFosWixaLFhdLA0KCQkJCVtYLFgsWCxYLFgsWF0sDQoJCQkJW1gsWCxZLFksWSxYXSwNCgkJCQlbWCxYLFgsWCxYLFhdDQoJCQldOw0KCQl9DQoJCXJldHVybiB0aGlzLmVtcHR5UGxvdCgpOw0KCX0sDQoJcGFyZW50c1VubG9ja2VkOmZ1bmN0aW9uKHNlZWRJZCkgew0KCQl2YXIgcGFyZW50cyA9IHRoaXMuZ2V0UGxhbnRQYXJlbnRzKHNlZWRJZCk7DQoJCWlmKHBhcmVudHMubGVuZ3RoPD0wKXsgcmV0dXJuIHRydWU7IH0NCgkJdmFyIHAxID0gcGFyZW50c1swXQ0KCQl2YXIgcDIgPSAocGFyZW50cy5sZW5ndGg+MT9wYXJlbnRzWzFdOnBhcmVudHNbMF0pOw0KCQkNCgkJcmV0dXJuIHRoaXMuaXNTZWVkVW5sb2NrZWQocDErMSkgJiYgdGhpcy5pc1NlZWRVbmxvY2tlZChwMisxKQ0KCX0sDQoJYnVpbGRNdXRhdGlvblBsb3REYXRhOmZ1bmN0aW9uKHNlZWRJZCkgew0KCQl2YXIgbSA9IHRoaXMuZ2V0UGxhbnRQYXJlbnRzKHNlZWRJZCk7DQoJCQ0KCQl2YXIgbCA9IEdhbWUuT2JqZWN0c1snRmFybSddLmxldmVsDQoJCS8vSnVpY3kgcXVlZW5iZWV0DQoJCWlmKHNlZWRJZD09MjIpew0KCQkJdmFyIFEgPSBbMjEsMF0NCgkJCXZhciBYID0gWzAsMF0NCgkJCWlmKGw+PTkpew0KCQkJCXJldHVybiBbIA0KCQkJCQlbUSxRLFEsUSxRLFFdLA0KCQkJCQlbUSxYLFEsUSxYLFFdLA0KCQkJCQlbUSxRLFEsUSxRLFFdLA0KCQkJCQlbUSxRLFEsUSxRLFFdLA0KCQkJCQlbUSxYLFEsUSxYLFFdLA0KCQkJCQlbUSxRLFEsUSxRLFFdDQoJCQkJXTsNCgkJCX0NCgkJCWlmKGw+PTgpew0KCQkJCXJldHVybiBbIA0KCQkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCQlbUSxRLFEsUSxRLFFdLA0KCQkJCQlbUSxYLFEsUSxYLFFdLA0KCQkJCQlbUSxRLFEsUSxRLFFdLA0KCQkJCQlbUSxYLFEsUSxYLFFdLA0KCQkJCQlbUSxRLFEsUSxRLFFdDQoJCQkJXTsNCgkJCX0NCgkJCWlmKGw+PTcpew0KCQkJCXJldHVybiBbIA0KCQkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCQlbWCxRLFEsUSxRLFFdLA0KCQkJCQlbWCxRLFgsUSxYLFFdLA0KCQkJCQlbWCxRLFEsUSxRLFFdLA0KCQkJCQlbWCxRLFgsUSxYLFFdLA0KCQkJCQlbWCxRLFEsUSxRLFFdDQoJCQkJXTsNCgkJCX0NCgkJCWlmKGw+PTYpew0KCQkJCXJldHVybiBbIA0KCQkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCQlbWCxRLFEsUSxRLFFdLA0KCQkJCQlbWCxRLFgsUSxYLFFdLA0KCQkJCQlbWCxRLFEsUSxRLFFdLA0KCQkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCQlbWCxYLFgsWCxYLFhdDQoJCQkJXTsNCgkJCX0NCgkJCWlmKGw+PTUpew0KCQkJCXJldHVybiBbIA0KCQkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCQlbWCxRLFEsUSxYLFhdLA0KCQkJCQlbWCxRLFgsUSxYLFhdLA0KCQkJCQlbWCxRLFEsUSxYLFhdLA0KCQkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCQlbWCxYLFgsWCxYLFhdDQoJCQkJXTsNCgkJCX0NCgkJCWlmKGw+PTQpew0KCQkJCXJldHVybiBbCQ0KCQkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCQlbWCxRLFEsUSxYLFhdLA0KCQkJCQlbWCxRLFgsUSxYLFhdLA0KCQkJCQlbWCxRLFEsUSxYLFhdLA0KCQkJCQlbWCxYLFgsWCxYLFhdDQoJCQkJXTsNCgkJCX0NCgkJCWlmKGw+PTMpew0KCQkJCXJldHVybiBbCQ0KCQkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCQlbWCxYLFgsWCxYLFhdLA0KCQkJCQlbWCxYLFEsUSxRLFhdLA0KCQkJCQlbWCxYLFEsWCxRLFhdLA0KCQkJCQlbWCxYLFEsUSxRLFhdLA0KCQkJCQlbWCxYLFgsWCxYLFhdDQoJCQkJXTsNCgkJCX0NCgkJCXJldHVybiB0aGlzLmVtcHR5UGxvdCgpOw0KCQl9DQoJCS8vR29sZGVuIGNsb3Zlcg0KCQlpZihzZWVkSWQ9PTYpew0KCQkJdmFyIEMgPSBbNSwwXQ0KCQkJdmFyIFggPSBbMCwwXQ0KCQkJaWYobD49OSl7DQoJCQkJcmV0dXJuIFsNCgkJCQkJW0MsWCxYLEMsWCxDXSwNCgkJCQkJW0MsQyxDLEMsQyxYXSwNCgkJCQkJW1gsWCxYLFgsQyxDXSwNCgkJCQkJW0MsQyxYLFgsWCxYXSwNCgkJCQkJW1gsQyxDLEMsQyxDXSwNCgkJCQkJW0MsWCxDLFgsWCxDXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj04KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW0MsWCxDLFgsWCxDXSwNCgkJCQkJW0MsQyxDLFgsWCxDXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW0MsQyxDLFgsWCxDXSwNCgkJCQkJW0MsWCxDLFgsWCxDXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj03KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsQyxYLEMsWCxDXSwNCgkJCQkJW1gsQyxYLEMsWCxDXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsQyxYLEMsWCxDXSwNCgkJCQkJW1gsQyxYLEMsWCxDXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj02KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsQyxDLFgsQyxDXSwNCgkJCQkJW1gsWCxDLFgsQyxYXSwNCgkJCQkJW1gsWCxDLFgsQyxYXSwNCgkJCQkJW1gsQyxDLFgsQyxDXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj01KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsQyxYLFgsQyxYXSwNCgkJCQkJW1gsQyxDLEMsQyxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsQyxDLEMsQyxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj00KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxDLFgsQyxYXSwNCgkJCQkJW1gsWCxDLFgsQyxYXSwNCgkJCQkJW1gsQyxDLFgsQyxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj0zKXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxDLFgsQyxYXSwNCgkJCQkJW1gsWCxDLFgsQyxYXSwNCgkJCQkJW1gsWCxDLFgsQyxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj0yKXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxDLFgsQyxYXSwNCgkJCQkJW1gsWCxDLFgsQyxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj0xKXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxDLEMsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9DQoJCQlyZXR1cm4gdGhpcy5lbXB0eVBsb3QoKTsNCgkJfQ0KCQkvL1Nocmlla2J1bGIgZnJvbSBFbGRlcndvcnQNCgkJaWYoc2VlZElkPT0zMSl7DQoJCQl2YXIgRSA9IFs4LDBdDQoJCQl2YXIgWCA9IFswLDBdDQoJCQlpZihsPj05KXsNCgkJCQlyZXR1cm4gWyANCgkJCQkJW1gsRSxFLEUsRSxYXSwNCgkJCQkJW0UsWCxYLFgsWCxFXSwNCgkJCQkJW0UsWCxFLEUsWCxFXSwNCgkJCQkJW0UsWCxFLEUsWCxFXSwNCgkJCQkJW0UsWCxYLFgsWCxFXSwNCgkJCQkJW1gsRSxFLEUsRSxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj04KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW0UsRSxYLEUsWCxFXSwNCgkJCQkJW1gsRSxYLEUsRSxFXSwNCgkJCQkJW0UsRSxYLFgsRSxYXSwNCgkJCQkJW1gsRSxYLEUsRSxFXSwNCgkJCQkJW0UsRSxYLEUsWCxFXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj03KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsRSxFLFgsRSxFXSwNCgkJCQkJW1gsWCxFLFgsRSxYXSwNCgkJCQkJW1gsRSxFLFgsRSxFXSwNCgkJCQkJW1gsWCxFLFgsRSxYXSwNCgkJCQkJW1gsRSxFLFgsRSxFXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj02KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxFLEUsRSxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsRSxFLEUsRSxFXSwNCgkJCQkJW1gsRSxYLEUsWCxFXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj01KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsRSxFLFgsRSxYXSwNCgkJCQkJW1gsWCxFLEUsRSxYXSwNCgkJCQkJW1gsRSxFLEUsWCxYXSwNCgkJCQkJW1gsRSxYLEUsRSxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj00KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsRSxYLEUsRSxYXSwNCgkJCQkJW1gsRSxFLEUsWCxYXSwNCgkJCQkJW1gsRSxYLEUsRSxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj0zKXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxFLFgsRSxYXSwNCgkJCQkJW1gsWCxFLEUsRSxYXSwNCgkJCQkJW1gsWCxFLFgsRSxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj0yKXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxFLFgsRSxYXSwNCgkJCQkJW1gsWCxFLEUsRSxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPDIpeyAvL0FsdGVybmF0aXZlIHBhcmVudHMNCgkJCQltPVsyOSw4XTsNCgkJCX0NCgkJfQ0KCQkvL0V2ZXJkYWlzeQ0KCQlpZihzZWVkSWQ9PTMzKXsNCgkJCXZhciBUID0gWzMyLDBdDQoJCQl2YXIgRSA9IFs4LDBdDQoJCQl2YXIgWCA9IFswLDBdDQoJCQlpZihsPj05KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsVCxFLEUsWCxUXSwNCgkJCQkJW1QsVCxYLFQsWCxUXSwNCgkJCQkJW0UsWCxYLEUsWCxFXSwNCgkJCQkJW0UsVCxFLEUsWCxUXSwNCgkJCQkJW1gsWCxYLFgsVCxUXSwNCgkJCQkJW1QsVCxFLFQsVCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj04KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1QsVCxULFQsVCxUXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW0UsRSxFLEUsRSxFXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1QsVCxULFQsVCxUXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj03KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsVCxULFQsVCxUXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsRSxFLEUsRSxFXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsVCxULFQsVCxUXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj02KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsVCxYLEUsWCxUXSwNCgkJCQkJW1gsVCxYLEUsWCxUXSwNCgkJCQkJW1gsVCxYLEUsWCxUXSwNCgkJCQkJW1gsVCxYLEUsWCxUXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj01KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxULEUsRSxYXSwNCgkJCQkJW1gsVCxULFgsVCxYXSwNCgkJCQkJW1gsRSxYLFgsRSxYXSwNCgkJCQkJW1gsRSxULEUsRSxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj00KXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsRSxFLEUsRSxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsVCxULFQsVCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9ZWxzZSBpZihsPj0zKXsNCgkJCQlyZXR1cm4gWwkNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXSwNCgkJCQkJW1gsWCxFLFgsVCxYXSwNCgkJCQkJW1gsWCxFLFgsVCxYXSwNCgkJCQkJW1gsWCxFLFgsVCxYXSwNCgkJCQkJW1gsWCxYLFgsWCxYXQ0KCQkJCV07DQoJCQl9DQoJCQlyZXR1cm4gdGhpcy5lbXB0eVBsb3QoKTsNCgkJfQ0KCQkvL0Jyb3duTW9sZCAmJiBDcnVtYnNwb3JlIDogRmlsbGVkIHBsb3RzDQoJCWlmKHNlZWRJZD09MTMgfHwgc2VlZElkPT0yNCl7DQoJCQlyZXR1cm4gdGhpcy5hbGxQbG90cyhtKTsNCgkJfQ0KCQkvL0FsdGVybmF0aXZlIHBhcmVudHMNCgkJLy9TaHJpZWtidWxiIGZvciBsZXZlbCAxLTINCgkJaWYoc2VlZElkPT0zMSAmJiBsPD0yKXsNCgkJCW09WzI5LDhdOw0KCQl9DQoJCQ0KCQlsZXQgcGxvdCA9IHRoaXMuY2xvbmUodGhpcy5taW5pZ2FtZSgpLnBsb3QpOw0KCQlmb3IgKGxldCB4PTA7IHg8NjsgeCsrKSB7DQoJCSAgZm9yIChsZXQgeT0wOyB5PDY7IHkrKykgew0KCQkJdmFyIG1pZCA9IHRoaXMuaXNNdXRhdGlvblBsYWNlKG0ubGVuZ3RoLHkseCk7DQoJCQlwbG90W3hdW3ldID0gWyhtaWQ+PTA/bVttaWRdKzE6MCksIDBdOw0KCQkgIH0NCgkJfQ0KCQlyZXR1cm4gcGxvdDsNCgl9LA0KCWlzU2VlZFVubG9ja2VkOmZ1bmN0aW9uKHNlZWRJZCkgeyByZXR1cm4gdGhpcy5nZXRQbGFudChzZWVkSWQpLnVubG9ja2VkPT0xOyB9LA0KCWdldFBsYW50UGFyZW50czpmdW5jdGlvbihzZWVkSWQpIHsNCgkJdmFyIG11dGF0aW9ucyA9IFtbMF0sWzBdLFswLDFdLFsxLDJdLFswLDNdLFs0XSxbNCwzXSxbMiw2XSxbMF0sWzAsMTJdLFs5LDExXSxbMTJdLFsxM10sW10sWzYsMTBdLFs2LDE0XSxbMTRdLFs5LDE5XSxbMiwxMV0sWzI5LDEyXSxbOCw5XSxbMjBdLFsyMF0sWzEzXSxbMjNdLFsyMywxXSxbMjMsNl0sWzI0LDI5XSxbMjMsMTJdLFsxMSw0XSxbN10sWzAsMTBdLFszMSw3XSxbNywyM11dOw0KCQlyZXR1cm4gbXV0YXRpb25zW3NlZWRJZC0xXTsNCgl9LA0KCQ0KCS8vR2FyZGVuIGZ1bmN0aW9ucw0KCW1pbmlnYW1lOmZ1bmN0aW9uKCl7IHJldHVybiBHYW1lLk9iamVjdHNbJ0Zhcm0nXS5taW5pZ2FtZTsgfSwNCglpc0FjdGl2ZTpmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5taW5pZ2FtZSgpICE9PSB1bmRlZmluZWQ7IH0sDQoJdGVtcGxhY2U6ZnVuY3Rpb24oKXsNCgkJcmV0dXJuIDENCgl9LA0KCWdldFNvaWxSb3RhdGlvbkNvbWJvOmZ1bmN0aW9uKCl7DQoJCS8vcmV0dXJuIGFycmF5IHdpdGgNCgkJLy8JMCA6IGN1cnJlbnQgY29tYm8gbGFiZWwNCgkJLy8JMSA6IG1vc3QgeW91bmcgc29pbA0KCQkvLwkyIDogbW9zdCBtYXR1cmUgc29pbA0KCQkvLwkzIDogbmV4dCBzb2lsIGNvbWJvIGlkDQoJCXN3aXRjaCAodGhpcy5jb25maWcuYXV0b1BsYW50Um90YXRlU29pbENvbWJvKSB7DQoJCQljYXNlIDA6DQoJCQkJcmV0dXJuIFsnRmVydGlsaXplci9DbGF5JywxLDIsMV07DQoJCQljYXNlIDE6DQoJCQkJcmV0dXJuIFsnRmVydGlsaXplci9Xb29kQ2hpcHMnLDEsNCwwXTsNCgkJCWRlZmF1bHQ6DQoJCQkJcmV0dXJuIFsnRmVydGlsaXplci9DbGF5IERlZicsMSwyLDFdOw0KCQl9DQoJfSwNCglzZXROZXh0Q29tYm86ZnVuY3Rpb24oKXsNCgkJdGhpcy5jb25maWcuYXV0b1BsYW50Um90YXRlU29pbENvbWJvPXRoaXMuZ2V0U29pbFJvdGF0aW9uQ29tYm8oKVszXQ0KCX0sDQoJc2V0Q29ycmVjdFNvaWw6ZnVuY3Rpb24oKXsNCgkJdmFyIE0gPSB0aGlzLm1pbmlnYW1lKCk7DQoJCWlmKCFNLmZyZWV6ZSl7DQoJCQl2YXIgeW91bmcgPSAwOw0KCQkJdmFyIG1hdHVyID0gMDsNCgkJCWZvciAobGV0IHg9MDsgeDw2OyB4KyspIHsNCgkJCQlmb3IgKGxldCB5PTA7IHk8NjsgeSsrKSB7DQoJCQkJCWlmKCF0aGlzLnRpbGVJc0VtcHR5KHgsIHkpKXsNCgkJCQkJCWxldCB0aWxlID0gdGhpcy5nZXRUaWxlKHgsIHkpOw0KCQkJCQkJaWYodGhpcy5nZXRQbGFudCh0aWxlLnNlZWRJZCkuaW1tb3J0YWwpDQoJCQkJCQkJY29udGludWU7DQoJCQkJCQlsZXQgc3RhZ2UgPSB0aGlzLmdldFBsYW50U3RhZ2UodGlsZSk7DQoJCQkJCQlpZihzdGFnZT09J3lvdW5nJyl7DQoJCQkJCQkJeW91bmcrKzsNCgkJCQkJCX1lbHNlew0KCQkJCQkJCW1hdHVyKys7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQkNCgkJCXZhciBzb2lsQ29tYm8gPSB0aGlzLmdldFNvaWxSb3RhdGlvbkNvbWJvKCk7DQoJCQl2YXIgdGFyZ2V0U29pbCA9IHlvdW5nPj1tYXR1cj9zb2lsQ29tYm9bMV06c29pbENvbWJvWzJdOw0KCQkJDQoJCQlpZiggTS5zb2lsIT10YXJnZXRTb2lsICYmIE0ucGFyZW50LmFtb3VudD49TS5zb2lsc0J5SWRbdGFyZ2V0U29pbF0ucmVxICYmIE0ubmV4dFNvaWw8RGF0ZS5ub3coKSApew0KCQkJCU0ubmV4dFNvaWw9RGF0ZS5ub3coKSsoR2FtZS5IYXMoJ1R1cmJvLWNoYXJnZWQgc29pbCcpPzE6KDEwMDAqNjAqMTApKTsNCgkJCQlNLnRvQ29tcHV0ZT10cnVlOw0KCQkJCU0uc29pbD10YXJnZXRTb2lsOw0KCQkJCU0uY29tcHV0ZVN0ZXBUKCk7DQoJCQkJZm9yICh2YXIgaSBpbiBNLnNvaWxzKXt2YXIgaXQ9TS5zb2lsc1tpXTtpZiAoaXQuaWQ9PU0uc29pbCl7bCgnZ2FyZGVuU29pbC0nK2l0LmlkKS5jbGFzc0xpc3QuYWRkKCdvbicpO31lbHNle2woJ2dhcmRlblNvaWwtJytpdC5pZCkuY2xhc3NMaXN0LnJlbW92ZSgnb24nKTt9fQ0KCQkJfQ0KCQl9DQoJfSwNCglDcFNNdWx0OmZ1bmN0aW9uKCl7DQoJCXZhciByZXMgPSAxDQoJCWZvciAobGV0IGtleSBpbiBHYW1lLmJ1ZmZzKSB7DQoJCQlpZiAodHlwZW9mIEdhbWUuYnVmZnNba2V5XS5tdWx0Q3BTICE9ICd1bmRlZmluZWQnKSB7DQoJCQkJcmVzICo9IEdhbWUuYnVmZnNba2V5XS5tdWx0Q3BTOw0KCQkJfQ0KCQl9DQoJCXJldHVybiByZXM7DQoJfSwNCglzZWNvbmRzQmVmb3JlTmV4dFRpY2s6ZnVuY3Rpb24oKXsgcmV0dXJuICh0aGlzLm1pbmlnYW1lKCkubmV4dFN0ZXAtRGF0ZS5ub3coKSkgLyAxMDAwOyB9LA0KCXNlbGVjdGVkU2VlZDpmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5taW5pZ2FtZSgpLnNlZWRTZWxlY3RlZDsgfSwNCglzZWxlY3RTZWVkOmZ1bmN0aW9uKHNlZWRJZCl7IHRoaXMubWluaWdhbWUoKS5zZWVkU2VsZWN0ZWQgPSBzZWVkSWQ7IH0sDQoJY2xvbmVQbG90OmZ1bmN0aW9uKCl7DQoJCWxldCBwbG90ID0gdGhpcy5jbG9uZSh0aGlzLm1pbmlnYW1lKCkucGxvdCk7DQoJCWZvciAobGV0IHg9MDsgeDw2OyB4KyspIHsNCgkJICBmb3IgKGxldCB5PTA7IHk8NjsgeSsrKSB7DQoJCQlsZXQgW3NlZWRJZCwgYWdlXSA9IHBsb3RbeF1beV07DQoJCQlsZXQgcGxhbnQgPSB0aGlzLmdldFBsYW50KHNlZWRJZCk7DQoJCQlpZiAocGxhbnQgIT0gdW5kZWZpbmVkICYmICFwbGFudC5wbGFudGFibGUpIHsNCgkJCSAgcGxvdFt4XVt5XSA9IFswLCAwXTsNCgkJCX0NCgkJICB9DQoJCX0NCgkJcmV0dXJuIHBsb3Q7DQoJfSwNCglnZXRQbGFudDpmdW5jdGlvbihpZCl7IHJldHVybiB0aGlzLm1pbmlnYW1lKCkucGxhbnRzQnlJZFtpZCAtIDFdOyB9LA0KCWdldFRpbGU6ZnVuY3Rpb24oeCwgeSl7DQoJCWxldCB0aWxlID0gdGhpcy5taW5pZ2FtZSgpLmdldFRpbGUoeCwgeSk7DQoJCXJldHVybiB7IHNlZWRJZDogdGlsZVswXSwgYWdlOiB0aWxlWzFdIH07DQoJfSwNCglnZXRQbGFudFN0YWdlOmZ1bmN0aW9uKHRpbGUpew0KCQlsZXQgcGxhbnQgPSB0aGlzLmdldFBsYW50KHRpbGUuc2VlZElkKTsNCgkJaWYgKHRpbGUuYWdlIDwgcGxhbnQubWF0dXJlKSB7DQoJCSAgcmV0dXJuICd5b3VuZyc7DQoJCX0gZWxzZSB7DQoJCSAgaWYgKCh0aWxlLmFnZSArIE1hdGguY2VpbChwbGFudC5hZ2VUaWNrICsgcGxhbnQuYWdlVGlja1IpKSA8IDEwMCkgew0KCQkJcmV0dXJuICdtYXR1cmUnOw0KCQkgIH0gZWxzZSB7DQoJCQlyZXR1cm4gJ2R5aW5nJzsNCgkJICB9DQoJCX0NCgl9LA0KCXRpbGVJc0VtcHR5OmZ1bmN0aW9uKHgsIHkpeyByZXR1cm4gdGhpcy5nZXRUaWxlKHgsIHkpLnNlZWRJZCA9PSAwOyB9LA0KCXBsYW50U2VlZDpmdW5jdGlvbihzZWVkSWQsIHgsIHkpew0KCQlsZXQgcGxhbnQgPSB0aGlzLmdldFBsYW50KHNlZWRJZCArIDEpOw0KCQlpZiAocGxhbnQucGxhbnRhYmxlKSB7DQoJCSAgdGhpcy5taW5pZ2FtZSgpLnVzZVRvb2woc2VlZElkLCB4LCB5KTsNCgkJfQ0KCX0sDQoJZm9yRWFjaFRpbGU6ZnVuY3Rpb24oY2FsbGJhY2spew0KCQlmb3IgKGxldCB4PTA7IHg8NjsgeCsrKSB7DQoJCSAgZm9yIChsZXQgeT0wOyB5PDY7IHkrKykgew0KCQkJaWYgKHRoaXMubWluaWdhbWUoKS5pc1RpbGVVbmxvY2tlZCh4LCB5KSkgew0KCQkJICBjYWxsYmFjayh4LCB5KTsNCgkJCX0NCgkJICB9DQoJCX0NCgl9LA0KCWhhcnZlc3Q6ZnVuY3Rpb24oeCwgeSl7IHRoaXMubWluaWdhbWUoKS5oYXJ2ZXN0KHgsIHksIDEpOyB9LA0KCWZpbGxHYXJkZW5XaXRoU2VsZWN0ZWRTZWVkOmZ1bmN0aW9uKCl7DQoJCWlmICh0aGlzLnNlbGVjdGVkU2VlZCgpID4gLTEpIHsNCgkJICB0aGlzLmZvckVhY2hUaWxlKCh4LCB5KSA9PiB7DQoJCQlpZiAodGhpcy50aWxlSXNFbXB0eSh4LCB5KSkgew0KCQkJICB0aGlzLnBsYW50U2VlZCh0aGlzLnNlbGVjdGVkU2VlZCgpLCB4LCB5KTsNCgkJCX0NCgkJICB9KTsNCgkJfQ0KCX0sDQoJaGFuZGxlWW91bmc6ZnVuY3Rpb24ocGxhbnQsIHgsIHkpew0KCQlpZiAocGxhbnQud2VlZCAmJiB0aGlzLmNvbmZpZy5hdXRvSGFydmVzdFdlZWRzKSB7DQoJCQl0aGlzLmhhcnZlc3QoeCwgeSk7DQoJCQlyZXR1cm4NCgkJfQ0KCQlpZih0aGlzLmNvbmZpZy5zYXZlZFBsb3QubGVuZ3RoPjApew0KCQkJbGV0IFtzZWVkSWQsIGFnZV0gPSB0aGlzLmNvbmZpZy5zYXZlZFBsb3RbeV1beF07DQoJCQlzZWVkSWQtLTsNCgkJCWlmICggdGhpcy5jb25maWcuYXV0b0hhcnZlc3RDbGVhbkdhcmRlbiAmJiAoKHBsYW50LnVubG9ja2VkICYmIHNlZWRJZCA9PSAtMSkgfHwgKHNlZWRJZCA+IC0xICYmIHNlZWRJZCAhPSBwbGFudC5pZCAmJiBwbGFudC51bmxvY2tlZCkpICkgew0KCQkJCXRoaXMuaGFydmVzdCh4LCB5KTsNCgkJCX0NCgkJfQ0KCX0sDQoJaGFuZGxlTWF0dXJlOmZ1bmN0aW9uKHBsYW50LCB4LCB5KXsNCgkJaWYgKCFwbGFudC51bmxvY2tlZCAmJiB0aGlzLmNvbmZpZy5hdXRvSGFydmVzdE5ld1NlZWRzKSB7DQoJCSAgdGhpcy5oYXJ2ZXN0KHgsIHkpOw0KCQl9IGVsc2UgaWYgKHRoaXMuaXNDcHNCb251cyhwbGFudCkgJiYgdGhpcy5jb25maWcuYXV0b0hhcnZlc3RDaGVja0NwU011bHQgJiYgdGhpcy5DcFNNdWx0KCkgPj0gdGhpcy5jb25maWcuYXV0b0hhcnZlc3RNaW5pQ3BTTXVsdC52YWx1ZSkgew0KCQkgIHRoaXMuaGFydmVzdCh4LCB5KTsNCgkJfWVsc2UgaWYodGhpcy5jb25maWcuYXV0b0hhcnZlc3RNYXR1cmVkKXsNCgkJICB0aGlzLmhhcnZlc3QoeCwgeSk7DQoJCX0NCgl9LA0KCWhhbmRsZUR5aW5nOmZ1bmN0aW9uKHBsYW50LCB4LCB5KXsNCgkJaWYoIXRoaXMuaXNFeHBsb2RhYmxlKHBsYW50KSl7DQoJCQlpZiAodGhpcy5pc0Nwc0JvbnVzKHBsYW50KSAmJiB0aGlzLmNvbmZpZy5hdXRvSGFydmVzdENoZWNrQ3BTTXVsdER5aW5nICYmIHRoaXMuQ3BTTXVsdCgpID49IHRoaXMuY29uZmlnLmF1dG9IYXJ2ZXN0TWluaUNwU011bHREeWluZy52YWx1ZSkgew0KCQkJdGhpcy5oYXJ2ZXN0KHgsIHkpOw0KCQkJfSBlbHNlIGlmICh0aGlzLmNvbmZpZy5hdXRvSGFydmVzdER5aW5nICYmIHRoaXMuc2Vjb25kc0JlZm9yZU5leHRUaWNrKCkgPD0gdGhpcy5jb25maWcuYXV0b0hhcnZlc3REeWluZ1NlY29uZHMpIHsNCgkJCXRoaXMuaGFydmVzdCh4LCB5KTsNCgkJCX0NCgkJfQ0KCX0sDQoJaXNFeHBsb2RhYmxlOmZ1bmN0aW9uKHBsYW50KXsNCgkJLy9UaGVzZSBwbGFudHMgYXJlIG1lYW50IHRvIGxldCBleHBsb2RlLCByYXRoZXIgdGhhbiBoYXJ2ZXN0ZWQuDQoJCXZhciBleHBsID0gWyJjcnVtYnNwb3JlIiwiZG91Z2hzaHJvb20iXTsNCgkJcmV0dXJuIGV4cGwuaW5jbHVkZXMocGxhbnQua2V5KTsNCgl9LA0KCWlzQ3BzQm9udXM6ZnVuY3Rpb24ocGxhbnQpew0KCQkvL1RoZXNlIHBsYW50cyBnaXZlIGJvbnVzIENwUyB3aGVuIGhhcnZlc3RlZC4NCgkJdmFyIGNwc2JvbnVzID0gWyJiYWtlYmVycnkiLCJjaG9jb3Jvb3QiLCJ3aGl0ZUNob2Nvcm9vdCIsInF1ZWVuYmVldCIsImR1a2V0YXRlciJdOw0KCQlyZXR1cm4gY3BzYm9udXMuaW5jbHVkZXMocGxhbnQua2V5KTsNCgl9LA0KCWdldEJ1ZmZNdWx0Q3BzOmZ1bmN0aW9uKCl7DQoJCXZhciBtdWx0ID0gMTsNCgkJZm9yICh2YXIgYiBpbiBHYW1lLmJ1ZmZzKXtpZihHYW1lLmJ1ZmZzW2JdLmhhc093blByb3BlcnR5KCdtdWx0Q3BTJykpe211bHQqPUdhbWUuYnVmZnNbYl0ubXVsdENwUzt9fQ0KCQlyZXR1cm4gbXVsdDsNCgl9LA0KCXJ1bjpmdW5jdGlvbigpIHsNCgkJaWYodGhpcy5pc0FjdGl2ZSgpKXsNCgkJCS8vRGlzcGxheSBTZWVkIExpc3QNCgkJCXRoaXMuZG9jLmVsSWQoJ2NnaHJTZWVkTGlzdERpdicpLnRleHRDb250ZW50ID0gJyc7DQoJCQl0aGlzLmRvYy5lbElkKCdjZ2hyU2VlZExpc3REaXYnKS5pbm5lckhUTUwgPSB0aGlzLmdldFNlZWRMaXN0RGlzcGxheSgpOw0KCQkJdGhpcy5zZXRTZWVkTGlzdFRvb2x0aXBzKCk7DQoNCgkJCS8vRGlzcGxheSBVcGdyYWRlcw0KCQkJdGhpcy5kb2MuZWxJZCgnY2doclVwZ3JhZGVMaXN0RGl2JykudGV4dENvbnRlbnQgPSAnJzsNCgkJCXRoaXMuZG9jLmVsSWQoJ2NnaHJVcGdyYWRlTGlzdERpdicpLmlubmVySFRNTCA9IHRoaXMuZ2V0VXBncmFkZUxpc3REaXNwbGF5KCk7DQoJCQkNCgkJCS8vIHNhY3JpZmljZSBnYXJkZW4NCgkJCWlmKCF0aGlzLm9sZENvbnZlcnQpew0KCQkJCXRoaXMub2xkQ29udmVydCA9IHRoaXMubWluaWdhbWUoKS5jb252ZXJ0Ow0KCQkJCXRoaXMubWluaWdhbWUoKS5jb252ZXJ0ID0gKCkgPT4gew0KCQkJCSAgdGhpcy5jb25maWcuc2F2ZWRQbG90ID0gW107DQoJCQkJICB0aGlzLmxhYmVsVG9nZ2xlU3RhdGUoJ3Bsb3RJc1NhdmVkJywgZmFsc2UpOw0KCQkJCSAgdGhpcy5oYW5kbGVUb2dnbGUoJ2F1dG9IYXJ2ZXN0Jyk7DQoJCQkJICB0aGlzLmhhbmRsZVRvZ2dsZSgnYXV0b1BsYW50Jyk7DQoJCQkJICB0aGlzLnNhdmUoKTsNCgkJCQkgIHRoaXMub2xkQ29udmVydCgpOw0KCQkJCX0NCgkJCX0NCgkJCQ0KCQkJdGhpcy5mb3JFYWNoVGlsZSgoeCwgeSkgPT4gew0KCQkJICBpZiAodGhpcy5jb25maWcuYXV0b0hhcnZlc3QgJiYgIXRoaXMudGlsZUlzRW1wdHkoeCwgeSkpIHsNCgkJCQlsZXQgdGlsZSA9IHRoaXMuZ2V0VGlsZSh4LCB5KTsNCgkJCQlsZXQgcGxhbnQgPSB0aGlzLmdldFBsYW50KHRpbGUuc2VlZElkKTsNCg0KCQkJCWlmICgocGxhbnQuaW1tb3J0YWwgJiYgdGhpcy5jb25maWcuYXV0b0hhcnZlc3RBdm9pZEltbW9ydGFscykgfHwgdGhpcy5jb25maWcucHJvdGVjdGVkU2VlZHMuaW5jbHVkZXModGlsZS5zZWVkSWQpKSB7DQoJCQkJICAvLyBkbyBub3RoaW5nDQoJCQkJfSBlbHNlIHsNCgkJCQkgIGxldCBzdGFnZSA9IHRoaXMuZ2V0UGxhbnRTdGFnZSh0aWxlKTsNCgkJCQkgIHN3aXRjaCAoc3RhZ2UpIHsNCgkJCQkJY2FzZSAneW91bmcnOg0KCQkJCQkgIHRoaXMuaGFuZGxlWW91bmcocGxhbnQsIHgsIHkpOw0KCQkJCQkgIGJyZWFrOw0KCQkJCQljYXNlICdtYXR1cmUnOg0KCQkJCQkgIHRoaXMuaGFuZGxlTWF0dXJlKHBsYW50LCB4LCB5KTsNCgkJCQkJICBicmVhazsNCgkJCQkJY2FzZSAnZHlpbmcnOg0KCQkJCQkgIHRoaXMuaGFuZGxlRHlpbmcocGxhbnQsIHgsIHkpOw0KCQkJCQkgIGJyZWFrOw0KCQkJCQlkZWZhdWx0Og0KCQkJCQkgIGNvbnNvbGUubG9nKGBVbmV4cGVjdGVkIHBsYW50IHN0YWdlOiAke3N0YWdlfWApOw0KCQkJCSAgfQ0KCQkJCX0NCgkJCSAgfQ0KDQoJCQkgIGlmICh0aGlzLmNvbmZpZy5hdXRvUGxhbnQgJiYNCgkJCQkJKCF0aGlzLmNvbmZpZy5hdXRvUGxhbnRDaGVja0NwU011bHQgfHwgdGhpcy5DcFNNdWx0KCkgPD0gdGhpcy5jb25maWcuYXV0b1BsYW50TWF4aUNwU011bHQudmFsdWUpICYmDQoJCQkJCSghdGhpcy5jb25maWcuYXV0b1BsYW50QXZvaWRCdWZmcyB8fCB0aGlzLmdldEJ1ZmZNdWx0Q3BzKCk8PTEpICYmDQoJCQkJICAJdGhpcy50aWxlSXNFbXB0eSh4LCB5KSAmJg0KCQkJCSAgCXRoaXMuY29uZmlnLnNhdmVkUGxvdC5sZW5ndGggPiAwDQoJCQkJKSB7DQoJCQkJbGV0IFtzZWVkSWQsIGFnZV0gPSB0aGlzLmNvbmZpZy5zYXZlZFBsb3RbeV1beF07DQoJCQkJaWYgKHNlZWRJZCA+IDApIHsNCgkJCQkJdGhpcy5wbGFudFNlZWQoc2VlZElkIC0gMSwgeCwgeSk7DQoJCQkJfQ0KCQkJICB9DQoJCQl9KTsNCg0KCQkJaWYgKHRoaXMuY29uZmlnLmF1dG9QbGFudFJvdGF0ZVNvaWwpew0KCQkJCXRoaXMuc2V0Q29ycmVjdFNvaWwoKTsNCgkJCX0NCgkJCWlmICh0aGlzLmNvbmZpZy5hdXRvRm9yY2VUaWNrcyl7DQoJCQkJaWYodGhpcy5taW5pZ2FtZSgpLm5leHRTdGVwPkRhdGUubm93KCkpew0KCQkJCQl0aGlzLm1pbmlnYW1lKCkubmV4dFN0ZXA9RGF0ZS5ub3coKQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0sDQoJLy9PdmVyYWxsIGZ1bmN0aW9ucw0KCWNhcGl0YWxpemU6ZnVuY3Rpb24od29yZCl7IHJldHVybiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKTsgfSwNCgl1bmNhcGl0YWxpemU6ZnVuY3Rpb24od29yZCl7IHJldHVybiB3b3JkLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgd29yZC5zbGljZSgxKTsgfSwNCgljbG9uZTpmdW5jdGlvbih4KXsgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoeCkpOyB9LA0KCS8vTW9kIERhdGEgZnVuY3Rpb25zDQoJZGVmYXVsdENvbmZpZzpmdW5jdGlvbigpew0KCQl2YXIgZGF0YSA9IHsNCgkJCXRpbWVySW50ZXJ2YWw6IDEwMDAsDQoJCQlhdXRvSGFydmVzdDogZmFsc2UsDQoJCQlhdXRvSGFydmVzdE5ld1NlZWRzOiB0cnVlLA0KCQkJYXV0b0hhcnZlc3RNYXR1cmVkOiBmYWxzZSwNCgkJCWF1dG9IYXJ2ZXN0QXZvaWRJbW1vcnRhbHM6IHRydWUsDQoJCQlhdXRvSGFydmVzdFdlZWRzOiB0cnVlLA0KCQkJYXV0b0hhcnZlc3RDbGVhbkdhcmRlbjogZmFsc2UsDQoJCQlhdXRvSGFydmVzdENoZWNrQ3BTTXVsdDogZmFsc2UsDQoJCQlhdXRvSGFydmVzdE1pbmlDcFNNdWx0OiB7IHZhbHVlOiAxLCBtaW46IDAgfSwNCgkJCWF1dG9IYXJ2ZXN0RHlpbmc6IHRydWUsDQoJCQlhdXRvSGFydmVzdER5aW5nU2Vjb25kczogNSwNCgkJCWF1dG9IYXJ2ZXN0Q2hlY2tDcFNNdWx0RHlpbmc6IGZhbHNlLA0KCQkJYXV0b0hhcnZlc3RNaW5pQ3BTTXVsdER5aW5nOiB7IHZhbHVlOiAxLCBtaW46IDAgfSwNCgkJCWF1dG9QbGFudDogZmFsc2UsDQoJCQlhdXRvUGxhbnRBdm9pZEJ1ZmZzOiB0cnVlLA0KCQkJYXV0b1BsYW50Um90YXRlU29pbDogZmFsc2UsDQoJCQlhdXRvUGxhbnRSb3RhdGVTb2lsQ29tYm86IDAsDQoJCQlhdXRvUGxhbnRDaGVja0NwU011bHQ6IGZhbHNlLA0KCQkJYXV0b1BsYW50TWF4aUNwU011bHQ6IHsgdmFsdWU6IDAsIG1pbjogMCB9LA0KCQkJYXV0b0ZvcmNlVGlja3M6IGZhbHNlLA0KCQkJc2F2ZWRQbG90OiBbXSwNCgkJCXByb3RlY3RlZFNlZWRzOiBbXSwNCgkJfQ0KCQlyZXR1cm4gZGF0YTsNCgl9LA0KCXNhdmU6ZnVuY3Rpb24oKXsgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuY29uZmlnKTsgfSwNCglsb2FkOmZ1bmN0aW9uKHN0cil7DQoJCXZhciBvYmogPSB7fQ0KCQlpZihzdHIpew0KCQkJb2JqID0gSlNPTi5wYXJzZShzdHIpDQoJCX0NCgkJDQoJCXRoaXMuY29uZmlnID0gew0KCQkgIC4uLnRoaXMuZGVmYXVsdENvbmZpZygpLA0KCQkgIC4uLm9iaiwNCgkJfTsNCgkJdGhpcy5idWlsZCgpOw0KCX0sDQp9KTsNCg=="},{"meta":{"name":"ncs4ASAx","url":"https://pastebin.com/raw/ncs4ASAx","ts":1718314851444,"mimetype":"text/plain"},"source":"IWZ1bmN0aW9uKCkNCnsNCglHYW1lLnJlZ2lzdGVyTW9kKCJhdXRvc2FjcmlmaWNlIiwNCgl7DQoJCWF1dG9fc2FjX2VuYWJsZWQ6IGZhbHNlLA0KCQlkb19jb252ZXJ0OiBmYWxzZSwNCgkJYXZvaWRfY3BzX2J1ZmZzOiBmYWxzZSwNCgkJYWxsb3dfZnJlbnppZXM6IGZhbHNlLA0KCQlkb19zb2lsX3JvdGF0aW9uOiBmYWxzZSwNCgkJDQoJCWhvb2tfYWRkZWQ6IGZhbHNlLA0KCQlsYXN0X3RpbWVfY2FsbGVkX2Zyb21fYnVmZl9lbmQ6IDAsDQoJCQ0KCQlhdXRvX3NhY19idXR0b246IG51bGwsDQoJCWRvX2NvbnZlcnRfYnV0dG9uOiBudWxsLA0KCQlhdm9pZF9jcHNfYnVmZnNfYnV0dG9uOiBudWxsLA0KCQlhbGxvd19mcmVuemllc19idXR0b246IG51bGwsDQoJCWRvX3NvaWxfcm90YXRpb25fYnV0dG9uOiBudWxsLA0KCQkNCgkJaW5pdDogZnVuY3Rpb24oKQ0KCQl7DQoJCQlHYW1lLk5vdGlmeSgnQXV0byBTYWNyaWZpY2UgTG9hZGVkIScsYEVuYWJsZSBpdCB3aXRoIHRoZSBidXR0b24gYXQgdGhlIGJvdHRvbSBvZiB0aGUgb3B0aW9ucyBtZW51LmAsIFsxNiwgNl0sIDUpOw0KCQkJDQoJCQlsZXQgTU9EID0gdGhpczsNCgkJCQ0KCQkJbGV0IG1lbnUgPSBHYW1lLlVwZGF0ZU1lbnU7DQoJCQkNCgkJCUdhbWUuVXBkYXRlTWVudSA9IGZ1bmN0aW9uKCkNCgkJCXsNCgkJCQltZW51KCk7DQoJCQkJDQoJCQkJaWYgKEdhbWUub25NZW51ID09ICdwcmVmcycpDQoJCQkJew0KCQkJCQlkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc2NyZWVucmVhZGVyQnV0dG9uIikubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5pbnNlcnRBZGphY2VudEhUTUwoImFmdGVyZW5kIiwgYA0KCQkJCQkJPGEgY2xhc3M9InNtYWxsRmFuY3lCdXR0b24gcHJlZkJ1dHRvbiBvcHRpb24gJHtNT0QuYXV0b19zYWNfZW5hYmxlZCA/ICJvbiIgOiAib2ZmIn0iIGlkPSJhdXRvLXNhYy1idXR0b24iIG9uY2xpY2s9IkdhbWUudG9nZ2xlX2F1dG9fc2FjKCkiPkF1dG9TYWNyaWZpY2UgJHtNT0QuYXV0b19zYWNfZW5hYmxlZCA/ICJPTiIgOiAiT0ZGIn08L2E+DQoJCQkJCQk8bGFiZWw+KHRoZSBnbG9iYWwgb24vb2ZmIHN3aXRjaCBmb3IgdGhlIEF1dG9TYWNyaWZpY2UgbW9kLiBNYWtlcyB0aGUgZ2FyZGVuIGZ1bGx5IGF1dG9tYXRpYywgZnJvbSBwbGFudGluZyB0byBoYXJ2ZXN0aW5nIHRvIHNhY3JpZmljaW5nLiBOb25lIG9mIHRoZSBiZWxvdyBmb3VyIG9wdGlvbnMgaGF2ZSBhbnkgZWZmZWN0IGlmIHRoaXMgaXMgb2ZmLik8L2xhYmVsPg0KCQkJCQkJPGJyPg0KCQkJCQkJDQoJCQkJCQk8YSBjbGFzcz0ic21hbGxGYW5jeUJ1dHRvbiBwcmVmQnV0dG9uIG9wdGlvbiAke01PRC5kb19jb252ZXJ0ID8gIm9uIiA6ICJvZmYifSIgaWQ9ImRvLWNvbnZlcnQtYnV0dG9uIiBvbmNsaWNrPSJHYW1lLnRvZ2dsZV9kb19jb252ZXJ0KCkiPkF1dG8gY29udmVydCAke01PRC5kb19jb252ZXJ0ID8gIk9OIiA6ICJPRkYifTwvYT4NCgkJCQkJCTxsYWJlbD4oYXV0b21hdGljYWxseSBjb252ZXJ0IHRoZSBnYXJkZW47IHR1cm4gb2ZmIGlmIHlvdSB3YW50IHRoZSBzZWVkcyBidXQgbm90IHRoZSBsdW1wcyk8L2xhYmVsPg0KCQkJCQkJPGJyPg0KCQkJCQkJDQoJCQkJCQk8YSBjbGFzcz0ic21hbGxGYW5jeUJ1dHRvbiBwcmVmQnV0dG9uIG9wdGlvbiAke01PRC5hdm9pZF9jcHNfYnVmZnMgPyAib24iIDogIm9mZiJ9IiBpZD0iYXZvaWQtY3BzLWJ1ZmZzLWJ1dHRvbiIgb25jbGljaz0iR2FtZS50b2dnbGVfYXZvaWRfY3BzX2J1ZmZzKCkiPkF2b2lkIENwUyBidWZmcyAke01PRC5hdm9pZF9jcHNfYnVmZnMgPyAiT04iIDogIk9GRiJ9PC9hPg0KCQkJCQkJPGxhYmVsPihza2lwIHBsYW50aW5nIHNlZWRzIGlmIGEgYnVmZiBpcyBjdXJyZW50bHkgYWN0aXZlOyBpZ25vcmVzIGxvYW5zKTwvbGFiZWw+DQoJCQkJCQk8YnI+DQoJCQkJCQkNCgkJCQkJCTxhIGNsYXNzPSJzbWFsbEZhbmN5QnV0dG9uIHByZWZCdXR0b24gb3B0aW9uICR7TU9ELmFsbG93X2ZyZW56aWVzID8gIm9uIiA6ICJvZmYifSIgaWQ9ImFsbG93LWZyZW56aWVzLWJ1dHRvbiIgb25jbGljaz0iR2FtZS50b2dnbGVfYWxsb3dfZnJlbnppZXMoKSI+VG9sZXJhdGUgZnJlbnppZXMgJHtNT0QuYWxsb3dfZnJlbnppZXMgPyAiT04iIDogIk9GRiJ9PC9hPg0KCQkJCQkJPGxhYmVsPihzdGlsbCBwbGFudCBzZWVkcyBkdXJpbmcgcmVndWxhciA3eCBmcmVuemllczsgaGFzIG5vIGVmZmVjdCBpZiB0aGUgcHJldmlvdXMgb3B0aW9uIGlzIG9mZik8L2xhYmVsPg0KCQkJCQkJPGJyPg0KCQkJCQkJDQoJCQkJCQk8YSBjbGFzcz0ic21hbGxGYW5jeUJ1dHRvbiBwcmVmQnV0dG9uIG9wdGlvbiAke01PRC5kb19zb2lsX3JvdGF0aW9uID8gIm9uIiA6ICJvZmYifSIgaWQ9ImRvLXNvaWwtcm90YXRpb24tYnV0dG9uIiBvbmNsaWNrPSJHYW1lLnRvZ2dsZV9kb19zb2lsX3JvdGF0aW9uKCkiPkF1dG8gcm90YXRlIHNvaWwgJHtNT0QuZG9fc29pbF9yb3RhdGlvbiA/ICJPTiIgOiAiT0ZGIn08L2E+DQoJCQkJCQk8bGFiZWw+KGF1dG9tYXRpY2FsbHkgc3dpdGNoIGJldHdlZW4gZmVydGlsaXplciBhbmQgd29vZCBjaGlwcyk8L2xhYmVsPg0KCQkJCQkJPGJyPg0KCQkJCQlgKTsNCgkJCQkJDQoJCQkJCXNldFRpbWVvdXQoKCkgPT4NCgkJCQkJew0KCQkJCQkJTU9ELmF1dG9fc2FjX2J1dHRvbiA9IGwoImF1dG8tc2FjLWJ1dHRvbiIpOw0KCQkJCQkJTU9ELmRvX2NvbnZlcnRfYnV0dG9uID0gbCgiZG8tY29udmVydC1idXR0b24iKTsNCgkJCQkJCU1PRC5hdm9pZF9jcHNfYnVmZnNfYnV0dG9uID0gbCgiYXZvaWQtY3BzLWJ1ZmZzLWJ1dHRvbiIpOw0KCQkJCQkJTU9ELmFsbG93X2ZyZW56aWVzX2J1dHRvbiA9IGwoImFsbG93LWZyZW56aWVzLWJ1dHRvbiIpOw0KCQkJCQkJTU9ELmRvX3NvaWxfcm90YXRpb25fYnV0dG9uID0gbCgiZG8tc29pbC1yb3RhdGlvbi1idXR0b24iKTsNCgkJCQkJfSwgNTApOw0KCQkJCX0NCgkJCX07DQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgICAgICBHYW1lLnVwZGF0ZUJ1ZmZzPWZ1bmN0aW9uKCkvL2V4ZWN1dGVkIGV2ZXJ5IGxvZ2ljIGZyYW1lDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBHYW1lLmJ1ZmZzKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmY9R2FtZS5idWZmc1tpXTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIGlmIChidWZmLnRpbWU+PTApDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbCgnYnVmZlBpZVRpbWVyJytidWZmLmlkKSkgbCgnYnVmZicrYnVmZi5pZCkuaW5uZXJIVE1MPWwoJ2J1ZmYnK2J1ZmYuaWQpLmlubmVySFRNTCsnPGRpdiBjbGFzcz0icGllVGltZXIiIGlkPSJidWZmUGllVGltZXInK2J1ZmYuaWQrJyI+PC9kaXY+JzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBUPTEtKGJ1ZmYudGltZS9idWZmLm1heFRpbWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgVD0oVCoxNDQpJTE0NDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGwoJ2J1ZmZQaWVUaW1lcicrYnVmZi5pZCkuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPSgtTWF0aC5mbG9vcihUJTE4KSkqNDgrJ3B4ICcrKC1NYXRoLmZsb29yKFQvMTgpKSo0OCsncHgnOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGJ1ZmYudGltZS0tOw0KICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZi50aW1lPD0wKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoR2FtZS5vbkNyYXRlPT1sKCdidWZmJytidWZmLmlkKSkgR2FtZS50b29sdGlwLmhpZGUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWZmLm9uRGllKSBidWZmLm9uRGllKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBHYW1lLmJ1ZmZzTC5yZW1vdmVDaGlsZChsKCdidWZmJytidWZmLmlkKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoR2FtZS5idWZmc1tidWZmLm5hbWVdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdhbWUuYnVmZnNbYnVmZi5uYW1lXT0wOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBHYW1lLmJ1ZmZzW2J1ZmYubmFtZV07DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBHYW1lLnJlY2FsY3VsYXRlR2FpbnM9MTsNCiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWUuc3RvcmVUb1JlZnJlc2g9MTsNCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1PRC5hdXRvX3NhY19lbmFibGVkICYmIERhdGUubm93KCkgLSBNT0QubGFzdF90aW1lX2NhbGxlZF9mcm9tX2J1ZmZfZW5kID4gMTAwMDApDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAJCU1PRC5sYXN0X3RpbWVfY2FsbGVkX2Zyb21fYnVmZl9lbmQgPSBEYXRlLm5vdygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgCQkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNT0QucG9zdF90aWNrX2xvZ2ljKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KCQkJDQoJCQlHYW1lLnRvZ2dsZV9hdXRvX3NhYyA9IGZ1bmN0aW9uKCkNCgkJCXsNCgkJCQlNT0QuYXV0b19zYWNfZW5hYmxlZCA9ICFNT0QuYXV0b19zYWNfZW5hYmxlZDsNCgkJCQkNCgkJCQlpZiAoIU1PRC5hdXRvX3NhY19lbmFibGVkKQ0KCQkJCXsNCgkJCQkJdHJ5DQoJCQkJCXsNCgkJCQkJCU1PRC5hdXRvX3NhY19idXR0b24udGV4dENvbnRlbnQgPSAiQXV0b1NhY3JpZmljZSBPRkYiOw0KCQkJCQkJTU9ELmF1dG9fc2FjX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJvbiIpOw0KCQkJCQkJTU9ELmF1dG9fc2FjX2J1dHRvbi5jbGFzc0xpc3QuYWRkKCJvZmYiKTsNCgkJCQkJfQ0KCQkJCQkNCgkJCQkJY2F0Y2goZXgpIHt9DQoJCQkJCQ0KCQkJCQlpZiAoTU9ELmRvX2NvbnZlcnQpDQoJCQkJCXsNCgkJCQkJCUdhbWUudG9nZ2xlX2RvX2NvbnZlcnQoKTsNCgkJCQkJfQ0KCQkJCQkNCgkJCQkJaWYgKE1PRC5hdm9pZF9jcHNfYnVmZnMpDQoJCQkJCXsNCgkJCQkJCUdhbWUudG9nZ2xlX2F2b2lkX2Nwc19idWZmcygpOw0KCQkJCQl9DQoJCQkJCQ0KCQkJCQlpZiAoTU9ELmFsbG93X2ZyZW56aWVzKQ0KCQkJCQl7DQoJCQkJCQlHYW1lLnRvZ2dsZV9hbGxvd19mcmVuemllcygpOw0KCQkJCQl9DQoJCQkJCQ0KCQkJCQlpZiAoTU9ELmRvX3NvaWxfcm90YXRpb24pDQoJCQkJCXsNCgkJCQkJCUdhbWUudG9nZ2xlX2RvX3NvaWxfcm90YXRpb24oKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQkNCgkJCQllbHNlDQoJCQkJew0KCQkJCQl0cnkNCgkJCQkJew0KCQkJCQkJTU9ELmF1dG9fc2FjX2J1dHRvbi50ZXh0Q29udGVudCA9ICJBdXRvU2FjcmlmaWNlIE9OIjsNCgkJCQkJCU1PRC5hdXRvX3NhY19idXR0b24uY2xhc3NMaXN0LnJlbW92ZSgib2ZmIik7DQoJCQkJCQlNT0QuYXV0b19zYWNfYnV0dG9uLmNsYXNzTGlzdC5hZGQoIm9uIik7DQoJCQkJCX0NCgkJCQkJDQoJCQkJCWNhdGNoKGV4KSB7fQ0KCQkJCQkNCgkJCQkJaWYgKCFNT0QuZG9fY29udmVydCkNCgkJCQkJew0KCQkJCQkJR2FtZS50b2dnbGVfZG9fY29udmVydCgpOw0KCQkJCQl9DQoJCQkJCQ0KCQkJCQlpZiAoIU1PRC5kb19zb2lsX3JvdGF0aW9uKQ0KCQkJCQl7DQoJCQkJCQlHYW1lLnRvZ2dsZV9kb19zb2lsX3JvdGF0aW9uKCk7DQoJCQkJCX0NCgkJCQl9DQoJCQkJDQoJCQkJTU9ELmFkZF9ob29rKCk7DQoJCQl9Ow0KCQkJDQoJCQlHYW1lLnRvZ2dsZV9kb19jb252ZXJ0ID0gZnVuY3Rpb24oKQ0KCQkJew0KCQkJCU1PRC5kb19jb252ZXJ0ID0gIU1PRC5kb19jb252ZXJ0Ow0KCQkJCQ0KCQkJCXRyeQ0KCQkJCXsNCgkJCQkJaWYgKCFNT0QuZG9fY29udmVydCkNCgkJCQkJew0KCQkJCQkJTU9ELmRvX2NvbnZlcnRfYnV0dG9uLnRleHRDb250ZW50ID0gIkF1dG8gY29udmVydCBPRkYiOw0KCQkJCQkJTU9ELmRvX2NvbnZlcnRfYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm9uIik7DQoJCQkJCQlNT0QuZG9fY29udmVydF9idXR0b24uY2xhc3NMaXN0LmFkZCgib2ZmIik7DQoJCQkJCX0NCgkJCQkJDQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJTU9ELmRvX2NvbnZlcnRfYnV0dG9uLnRleHRDb250ZW50ID0gIkF1dG8gY29udmVydCBPTiI7DQoJCQkJCQlNT0QuZG9fY29udmVydF9idXR0b24uY2xhc3NMaXN0LnJlbW92ZSgib2ZmIik7DQoJCQkJCQlNT0QuZG9fY29udmVydF9idXR0b24uY2xhc3NMaXN0LmFkZCgib24iKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQkNCgkJCQljYXRjaChleCkge30NCgkJCX07DQoJCQkNCgkJCUdhbWUudG9nZ2xlX2F2b2lkX2Nwc19idWZmcyA9IGZ1bmN0aW9uKCkNCgkJCXsNCgkJCQlNT0QuYXZvaWRfY3BzX2J1ZmZzID0gIU1PRC5hdm9pZF9jcHNfYnVmZnM7DQoJCQkJDQoJCQkJdHJ5DQoJCQkJew0KCQkJCQlpZiAoIU1PRC5hdm9pZF9jcHNfYnVmZnMpDQoJCQkJCXsNCgkJCQkJCU1PRC5hdm9pZF9jcHNfYnVmZnNfYnV0dG9uLnRleHRDb250ZW50ID0gIkF2b2lkIENwUyBidWZmcyBPRkYiOw0KCQkJCQkJTU9ELmF2b2lkX2Nwc19idWZmc19idXR0b24uY2xhc3NMaXN0LnJlbW92ZSgib24iKTsNCgkJCQkJCU1PRC5hdm9pZF9jcHNfYnVmZnNfYnV0dG9uLmNsYXNzTGlzdC5hZGQoIm9mZiIpOw0KCQkJCQl9DQoJCQkJCQ0KCQkJCQllbHNlDQoJCQkJCXsNCgkJCQkJCU1PRC5hdm9pZF9jcHNfYnVmZnNfYnV0dG9uLnRleHRDb250ZW50ID0gIkF2b2lkIENwUyBidWZmcyBPTiI7DQoJCQkJCQlNT0QuYXZvaWRfY3BzX2J1ZmZzX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCJvZmYiKTsNCgkJCQkJCU1PRC5hdm9pZF9jcHNfYnVmZnNfYnV0dG9uLmNsYXNzTGlzdC5hZGQoIm9uIik7DQoJCQkJCX0NCgkJCQl9DQoJCQkJDQoJCQkJY2F0Y2goZXgpIHt9DQoJCQl9Ow0KCQkJDQoJCQlHYW1lLnRvZ2dsZV9hbGxvd19mcmVuemllcyA9IGZ1bmN0aW9uKCkNCgkJCXsNCgkJCQlNT0QuYWxsb3dfZnJlbnppZXMgPSAhTU9ELmFsbG93X2ZyZW56aWVzOw0KCQkJCQ0KCQkJCXRyeQ0KCQkJCXsNCgkJCQkJaWYgKCFNT0QuYWxsb3dfZnJlbnppZXMpDQoJCQkJCXsNCgkJCQkJCU1PRC5hbGxvd19mcmVuemllc19idXR0b24udGV4dENvbnRlbnQgPSAiVG9sZXJhdGUgZnJlbnppZXMgT0ZGIjsNCgkJCQkJCU1PRC5hbGxvd19mcmVuemllc19idXR0b24uY2xhc3NMaXN0LnJlbW92ZSgib24iKTsNCgkJCQkJCU1PRC5hbGxvd19mcmVuemllc19idXR0b24uY2xhc3NMaXN0LmFkZCgib2ZmIik7DQoJCQkJCX0NCgkJCQkJDQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJTU9ELmFsbG93X2ZyZW56aWVzX2J1dHRvbi50ZXh0Q29udGVudCA9ICJUb2xlcmF0ZSBmcmVuemllcyBPTiI7DQoJCQkJCQlNT0QuYWxsb3dfZnJlbnppZXNfYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoIm9mZiIpOw0KCQkJCQkJTU9ELmFsbG93X2ZyZW56aWVzX2J1dHRvbi5jbGFzc0xpc3QuYWRkKCJvbiIpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCQ0KCQkJCWNhdGNoKGV4KSB7fQ0KCQkJfTsNCgkJCQ0KCQkJR2FtZS50b2dnbGVfZG9fc29pbF9yb3RhdGlvbiA9IGZ1bmN0aW9uKCkNCgkJCXsNCgkJCQlNT0QuZG9fc29pbF9yb3RhdGlvbiA9ICFNT0QuZG9fc29pbF9yb3RhdGlvbjsNCgkJCQkNCgkJCQl0cnkNCgkJCQl7DQoJCQkJCWlmICghTU9ELmRvX3NvaWxfcm90YXRpb24pDQoJCQkJCXsNCgkJCQkJCU1PRC5kb19zb2lsX3JvdGF0aW9uX2J1dHRvbi50ZXh0Q29udGVudCA9ICJBdXRvIHJvdGF0ZSBzb2lsIE9GRiI7DQoJCQkJCQlNT0QuZG9fc29pbF9yb3RhdGlvbl9idXR0b24uY2xhc3NMaXN0LnJlbW92ZSgib24iKTsNCgkJCQkJCU1PRC5kb19zb2lsX3JvdGF0aW9uX2J1dHRvbi5jbGFzc0xpc3QuYWRkKCJvZmYiKTsNCgkJCQkJfQ0KCQkJCQkNCgkJCQkJZWxzZQ0KCQkJCQl7DQoJCQkJCQlNT0QuZG9fc29pbF9yb3RhdGlvbl9idXR0b24udGV4dENvbnRlbnQgPSAiQXV0byByb3RhdGUgc29pbCBPTiI7DQoJCQkJCQlNT0QuZG9fc29pbF9yb3RhdGlvbl9idXR0b24uY2xhc3NMaXN0LnJlbW92ZSgib2ZmIik7DQoJCQkJCQlNT0QuZG9fc29pbF9yb3RhdGlvbl9idXR0b24uY2xhc3NMaXN0LmFkZCgib24iKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQkNCgkJCQljYXRjaChleCkge30NCgkJCX07DQoJCX0sDQoJCQ0KCQkNCgkJDQoJCXNhdmU6IGZ1bmN0aW9uKCkNCgkJew0KCQkJcmV0dXJuIGAke3RoaXMuZmVydGlsaXplcl90aWNrc318JHt0aGlzLndvb2RjaGlwc190aWNrc318JHt0aGlzLmF1dG9fc2FjX2VuYWJsZWQgPyAxIDogMH18JHt0aGlzLmRvX2NvbnZlcnQgPyAxIDogMH18JHt0aGlzLmF2b2lkX2Nwc19idWZmcyA/IDEgOiAwfXwke3RoaXMuZG9fc29pbF9yb3RhdGlvbiA/IDEgOiAwfXwke3RoaXMuYWxsb3dfZnJlbnppZXMgPyAxIDogMH1gOw0KCQl9LA0KCQkNCgkJDQoJCQ0KCQlsb2FkOiBmdW5jdGlvbihzdHIpDQoJCXsNCgkJCWlmIChzdHIuaW5kZXhPZigifCIpID09PSAtMSkNCgkJCXsNCgkJCQl0aGlzLmZlcnRpbGl6ZXJfdGlja3MgPSAwOw0KCQkJCXRoaXMud29vZGNoaXBzX3RpY2tzID0gMDsNCgkJCQkNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQkNCgkJCWxldCBjb21wb25lbnRzID0gc3RyLnNwbGl0KCJ8Iik7DQoJCQkNCgkJCXRoaXMuZmVydGlsaXplcl90aWNrcyA9IHBhcnNlSW50KGNvbXBvbmVudHNbMF0pOw0KCQkJdGhpcy53b29kY2hpcHNfdGlja3MgPSBwYXJzZUludChjb21wb25lbnRzWzFdKTsNCgkJCQ0KCQkJc2V0VGltZW91dCgoKSA9Pg0KCQkJew0KCQkJCWlmIChjb21wb25lbnRzLmxlbmd0aCA+IDIgJiYgISFwYXJzZUludChjb21wb25lbnRzWzJdKSAhPT0gdGhpcy5hdXRvX3NhY19lbmFibGVkKQ0KCQkJCXsNCgkJCQkJR2FtZS50b2dnbGVfYXV0b19zYWMoKTsNCgkJCQl9DQoJCQkJDQoJCQkJaWYgKGNvbXBvbmVudHMubGVuZ3RoID4gMyAmJiAhIXBhcnNlSW50KGNvbXBvbmVudHNbM10pICE9PSB0aGlzLmRvX2NvbnZlcnQpDQoJCQkJew0KCQkJCQlHYW1lLnRvZ2dsZV9kb19jb252ZXJ0KCk7DQoJCQkJfQ0KCQkJCQ0KCQkJCWlmIChjb21wb25lbnRzLmxlbmd0aCA+IDQgJiYgISFwYXJzZUludChjb21wb25lbnRzWzRdKSAhPT0gdGhpcy5hdm9pZF9jcHNfYnVmZnMpDQoJCQkJew0KCQkJCQlHYW1lLnRvZ2dsZV9hdm9pZF9jcHNfYnVmZnMoKTsNCgkJCQl9DQoJCQkJDQoJCQkJaWYgKGNvbXBvbmVudHMubGVuZ3RoID4gNSAmJiAhIXBhcnNlSW50KGNvbXBvbmVudHNbNV0pICE9PSB0aGlzLmRvX3NvaWxfcm90YXRpb24pDQoJCQkJew0KCQkJCQlHYW1lLnRvZ2dsZV9kb19zb2lsX3JvdGF0aW9uKCk7DQoJCQkJfQ0KCQkJCQ0KCQkJCWlmIChjb21wb25lbnRzLmxlbmd0aCA+IDYgJiYgISFwYXJzZUludChjb21wb25lbnRzWzZdKSAhPT0gdGhpcy5hbGxvd19mcmVuemllcykNCgkJCQl7DQoJCQkJCUdhbWUudG9nZ2xlX2FsbG93X2ZyZW56aWVzKCk7DQoJCQkJfQ0KCQkJfSwgMTAwMCk7DQoJCX0sDQoJCQ0KCQkNCgkJDQoJCWFkZF9ob29rOiBmdW5jdGlvbigpDQoJCXsNCgkJCWlmICh0aGlzLmhvb2tfYWRkZWQpDQoJCQl7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJDQoJCQl0aGlzLmhvb2tfYWRkZWQgPSB0cnVlOw0KCQkJDQoJCQlsZXQgTU9EID0gdGhpczsNCgkJCQ0KCQkJbGV0IGJ1aWxkX3Bsb3QgPSBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLmJ1aWxkUGxvdDsNCgkJCQ0KCQkJR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5idWlsZFBsb3QgPSBmdW5jdGlvbigpDQoJCQl7DQoJCQkJYnVpbGRfcGxvdCgpOw0KCQkJCQ0KCQkJCWlmIChNT0QuYXV0b19zYWNfZW5hYmxlZCkNCgkJCQl7DQoJCQkJCU1PRC5wb3N0X3RpY2tfbG9naWMoKTsNCgkJCQl9DQoJCQl9Ow0KCQl9LA0KCQkNCgkJDQoJCQ0KCQlzZWVkX29yZGVyOg0KCQlbDQoJCQkibWVkZGxld2VlZCIsDQoJCQkNCgkJCSJiYWtlYmVycnkiLA0KCQkJInRodW1iY29ybiIsDQoJCQkiY3JvbmVyaWNlIiwNCgkJCQ0KCQkJImNydW1ic3BvcmUiLA0KCQkJImJyb3duTW9sZCIsDQoJCQkid2hpdGVNaWxkZXciLA0KCQkJImNob2Nvcm9vdCIsDQoJCQkicXVlZW5iZWV0IiwNCgkJCSJxdWVlbmJlZXRMdW1wIiwNCgkJCQ0KCQkJImdpbGRtaWxsZXQiLA0KCQkJImNsb3ZlciIsDQoJCQkiZ3JlZW5Sb3QiLA0KCQkJInNoaW1tZXJsaWx5IiwNCgkJCQ0KCQkJImVsZGVyd29ydCIsDQoJCQkNCgkJCSJrZWVubW9zcyIsDQoJCQkiZHJvd3N5ZmVybiIsDQoJCQkid2FyZGxpY2hlbiIsDQoJCQkNCgkJCSJ3aGl0ZUNob2Nvcm9vdCIsDQoJCQkidGlkeWdyYXNzIiwNCgkJCQ0KCQkJImV2ZXJkYWlzeSIsDQoJCQkiaWNob3JwdWZmIiwNCgkJCQ0KCQkJImRvdWdoc2hyb29tIiwNCgkJCSJ3cmlua2xlZ2lsbCIsDQoJCQkiZ2xvdmVtb3JlbCIsDQoJCQkiY2hlYXBjYXAiLA0KCQkJImZvb2xCb2xldGUiLA0KCQkJDQoJCQkid2hpc2tlcmJsb29tIiwNCgkJCSJjaGltZXJvc2UiLA0KCQkJIm51cnNldHVsaXAiLA0KCQkJDQoJCQkiZHVrZXRhdGVyIiwNCgkJCSJzaHJpZWtidWxiIiwNCgkJCQ0KCQkJImdvbGRlbkNsb3ZlciINCgkJXSwNCgkJDQoJCXNlZWRfdG9fdW5sb2NrOiAiIiwNCgkJc2Vjb25kYXJ5X3RhcmdldHM6IHt9LA0KCQkNCgkJDQoJCQ0KCQkvL1RoZSB0eXBlIGlzIDAgZm9yIDJ4IG9mIG9uZSBwbGFudCwgMSBmb3IgMiBkaWZmZXJlbnQgcGxhbnRzLCBhbmQgMiBmb3IgYSB3ZWlyZCBzZXR1cCB0aGF0IG11c3QgYmUgZXhwbGljaXRseSBkZWZpbmVkLg0KCQltdXRhdGlvbl9zZXR1cHM6DQoJCXsNCgkJCXRodW1iY29ybjoNCgkJCXsNCgkJCQlpZDogMSwNCgkJCQl0eXBlOiAwLA0KCQkJCXBhcmVudHM6IFsiYmFrZXJXaGVhdCJdDQoJCQl9LA0KCQkJDQoJCQliYWtlYmVycnk6DQoJCQl7DQoJCQkJaWQ6IDgsDQoJCQkJdHlwZTogMCwNCgkJCQlwYXJlbnRzOiBbImJha2VyV2hlYXQiXSwNCgkJCQl0cnlfd2l0aG91dF9yZXBsYW50aW5nOiBbInF1ZWVuYmVldCJdLA0KCQkJCXRyeV93aXRob3V0X3JlcGxhbnRpbmdfcGFydG5lcjogWyJjaG9jb3Jvb3QiXQ0KCQkJfSwNCgkJCQ0KCQkJd2hpdGVNaWxkZXc6DQoJCQl7DQoJCQkJaWQ6IDExLA0KCQkJCXR5cGU6IDAsDQoJCQkJcGFyZW50czogWyJicm93bk1vbGQiXQ0KCQkJfSwNCgkJCQ0KCQkJZG91Z2hzaHJvb206DQoJCQl7DQoJCQkJaWQ6IDI0LA0KCQkJCXR5cGU6IDAsDQoJCQkJcGFyZW50czogWyJjcnVtYnNwb3JlIl0NCgkJCX0sDQoJCQkNCgkJCWR1a2V0YXRlcjoNCgkJCXsNCgkJCQlpZDogMjIsDQoJCQkJdHlwZTogMCwNCgkJCQlwYXJlbnRzOiBbInF1ZWVuYmVldCJdDQoJCQl9LA0KCQkJDQoJCQludXJzZXR1bGlwOg0KCQkJew0KCQkJCWlkOiAxNiwNCgkJCQl0eXBlOiAwLA0KCQkJCXBhcmVudHM6IFsid2hpc2tlcmJsb29tIl0NCgkJCX0sDQoJCQkNCgkJCWdvbGRlbkNsb3ZlcjoNCgkJCXsNCgkJCQlpZDogNSwNCgkJCQl0eXBlOiAwLA0KCQkJCXBhcmVudHM6IFsiY2xvdmVyIl0sDQoJCQkJDQoJCQkJdGlsZXM6IFtbMCwgMF0sIFswLCAyXSwgWzAsIDVdLCBbMSwgMV0sIFsxLCAyXSwgWzEsIDNdLCBbMSwgNF0sIFsxLCA1XSwgWzIsIDBdLCBbMiwgMV0sIFszLCA0XSwgWzMsIDVdLCBbNCwgMF0sIFs0LCAxXSwgWzQsIDJdLCBbNCwgM10sIFs0LCA0XSwgWzUsIDBdLCBbNSwgM10sIFs1LCA1XV0sDQoJCQkNCgkJCQllbXB0eV90aWxlczogW1swLCAxXSwgWzAsIDNdLCBbMCwgNF0sIFsxLCAwXSwgWzIsIDJdLCBbMiwgM10sIFsyLCA0XSwgWzIsIDVdLCBbMywgMF0sIFszLCAxXSwgWzMsIDJdLCBbMywgM10sIFs0LCA1XSwgWzUsIDFdLCBbNSwgMl0sIFs1LCA0XV0NCgkJCX0sDQoJCQkNCgkJCXF1ZWVuYmVldEx1bXA6DQoJCQl7DQoJCQkJaWQ6IDIxLA0KCQkJCXR5cGU6IDAsDQoJCQkJcGFyZW50czogWyJxdWVlbmJlZXQiXSwNCgkJCQkNCgkJCQl0aWxlczogW1swLCAwXSwgWzAsIDFdLCBbMCwgMl0sIFswLCAzXSwgWzAsIDRdLCBbMSwgMF0sIFsxLCAyXSwgWzEsIDRdLCBbMiwgMF0sIFsyLCAxXSwgWzIsIDJdLCBbMiwgM10sIFsyLCA0XSwgWzMsIDBdLCBbMywgMl0sIFszLCA0XSwgWzQsIDBdLCBbNCwgMV0sIFs0LCAyXSwgWzQsIDNdLCBbNCwgNF1dLA0KCQkJDQoJCQkJZW1wdHlfdGlsZXM6IFtbMSwgMV0sIFsxLCAzXSwgWzMsIDFdLCBbMywgM11dDQoJCQl9LA0KCQkJDQoJCQlzaHJpZWtidWxiOg0KCQkJew0KCQkJCWlkOiAzMCwNCgkJCQl0eXBlOiAwLA0KCQkJCXBhcmVudHM6IFsiZHVrZXRhdGVyIl0sDQoJCQl9LA0KCQkJDQoJCQkNCgkJCQ0KCQkJY3JvbmVyaWNlOg0KCQkJew0KCQkJCWlkOiAyLA0KCQkJCXR5cGU6IDEsDQoJCQkJcGFyZW50czogWyJ0aHVtYmNvcm4iLCAiYmFrZXJXaGVhdCJdLA0KCQkJCXRyeV93aXRob3V0X3JlcGxhbnRpbmc6IFsiZ2lsZG1pbGxldCJdLA0KCQkJCXRyeV93aXRob3V0X3JlcGxhbnRpbmdfcGFydG5lcjogWyJ0aHVtYmNvcm4iXQ0KCQkJfSwNCgkJCQ0KCQkJZ2lsZG1pbGxldDoNCgkJCXsNCgkJCQlpZDogMywNCgkJCQl0eXBlOiAxLA0KCQkJCXBhcmVudHM6IFsidGh1bWJjb3JuIiwgImNyb25lcmljZSJdLA0KCQkJCXRyeV93aXRob3V0X3JlcGxhbnRpbmc6IFsiY2xvdmVyIl0sDQoJCQkJdHJ5X3dpdGhvdXRfcmVwbGFudGluZ19wYXJ0bmVyOiBbImJha2VyV2hlYXQiXQ0KCQkJfSwNCgkJCQ0KCQkJY2hvY29yb290Og0KCQkJew0KCQkJCWlkOiA5LA0KCQkJCXR5cGU6IDEsDQoJCQkJcGFyZW50czogWyJiYWtlcldoZWF0IiwgImJyb3duTW9sZCJdLA0KCQkJCXRyeV93aXRob3V0X3JlcGxhbnRpbmc6IFsid2hpdGVDaG9jb3Jvb3QiXSwNCgkJCQl0cnlfd2l0aG91dF9yZXBsYW50aW5nX3BhcnRuZXI6IFsid2hpdGVNaWxkZXciXQ0KCQkJfSwNCgkJCQ0KCQkJd3JpbmtsZWdpbGw6DQoJCQl7DQoJCQkJaWQ6IDI4LA0KCQkJCXR5cGU6IDEsDQoJCQkJcGFyZW50czogWyJicm93bk1vbGQiLCAiY3J1bWJzcG9yZSJdDQoJCQl9LA0KCQkJDQoJCQlnbG92ZW1vcmVsOg0KCQkJew0KCQkJCWlkOiAyNSwNCgkJCQl0eXBlOiAxLA0KCQkJCXBhcmVudHM6IFsidGh1bWJjb3JuIiwgImNydW1ic3BvcmUiXQ0KCQkJfSwNCgkJCQ0KCQkJY2xvdmVyOg0KCQkJew0KCQkJCWlkOiA0LA0KCQkJCXR5cGU6IDEsDQoJCQkJcGFyZW50czogWyJiYWtlcldoZWF0IiwgImdpbGRtaWxsZXQiXSwNCgkJCQl0cnlfd2l0aG91dF9yZXBsYW50aW5nOiBbInNoaW1tZXJsaWx5IiwgImdyZWVuUm90Il0sDQoJCQkJdHJ5X3dpdGhvdXRfcmVwbGFudGluZ19wYXJ0bmVyOiBbImdpbGRtaWxsZXQiLCAid2hpdGVNaWxkZXciXQ0KCQkJfSwNCgkJCQ0KCQkJcXVlZW5iZWV0Og0KCQkJew0KCQkJCWlkOiAyMCwNCgkJCQl0eXBlOiAxLA0KCQkJCXBhcmVudHM6IFsiY2hvY29yb290IiwgImJha2ViZXJyeSJdDQoJCQl9LA0KCQkJDQoJCQl3aGl0ZUNob2Nvcm9vdDoNCgkJCXsNCgkJCQlpZDogMTAsDQoJCQkJdHlwZTogMSwNCgkJCQlwYXJlbnRzOiBbIndoaXRlTWlsZGV3IiwgImNob2Nvcm9vdCJdDQoJCQl9LA0KCQkJDQoJCQl3YXJkbGljaGVuOg0KCQkJew0KCQkJCWlkOiAxOCwNCgkJCQl0eXBlOiAxLA0KCQkJCXBhcmVudHM6IFsia2Vlbm1vc3MiLCAiY3JvbmVyaWNlIl0NCgkJCX0sDQoJCQkNCgkJCXNoaW1tZXJsaWx5Og0KCQkJew0KCQkJCWlkOiA2LA0KCQkJCXR5cGU6IDEsDQoJCQkJcGFyZW50czogWyJnaWxkbWlsbGV0IiwgImNsb3ZlciJdDQoJCQl9LA0KCQkJDQoJCQl0aWR5Z3Jhc3M6DQoJCQl7DQoJCQkJaWQ6IDMxLA0KCQkJCXR5cGU6IDEsDQoJCQkJcGFyZW50czogWyJiYWtlcldoZWF0IiwgIndoaXRlQ2hvY29yb290Il0NCgkJCX0sDQoJCQkNCgkJCWdyZWVuUm90Og0KCQkJew0KCQkJCWlkOiAyOSwNCgkJCQl0eXBlOiAxLA0KCQkJCXBhcmVudHM6IFsid2hpdGVNaWxkZXciLCAiY2xvdmVyIl0NCgkJCX0sDQoJCQkNCgkJCWVsZGVyd29ydDoNCgkJCXsNCgkJCQlpZDogNywNCgkJCQl0eXBlOiAxLA0KCQkJCXBhcmVudHM6IFsic2hpbW1lcmxpbHkiLCAiY3JvbmVyaWNlIl0NCgkJCX0sDQoJCQkNCgkJCXdoaXNrZXJibG9vbToNCgkJCXsNCgkJCQlpZDogMTQsDQoJCQkJdHlwZTogMSwNCgkJCQlwYXJlbnRzOiBbIndoaXRlQ2hvY29yb290IiwgInNoaW1tZXJsaWx5Il0NCgkJCX0sDQoJCQkNCgkJCWNoZWFwY2FwOg0KCQkJew0KCQkJCWlkOiAyNiwNCgkJCQl0eXBlOiAxLA0KCQkJCXBhcmVudHM6IFsic2hpbW1lcmxpbHkiLCAiY3J1bWJzcG9yZSJdDQoJCQl9LA0KCQkJDQoJCQlrZWVubW9zczoNCgkJCXsNCgkJCQlpZDogMTksDQoJCQkJdHlwZTogMSwNCgkJCQlwYXJlbnRzOiBbImdyZWVuUm90IiwgImJyb3duTW9sZCJdDQoJCQl9LA0KCQkJDQoJCQlmb29sQm9sZXRlOg0KCQkJew0KCQkJCWlkOiAyNywNCgkJCQl0eXBlOiAxLA0KCQkJCXBhcmVudHM6IFsiZ3JlZW5Sb3QiLCAiZG91Z2hzaHJvb20iXQ0KCQkJfSwNCgkJCQ0KCQkJY2hpbWVyb3NlOg0KCQkJew0KCQkJCWlkOiAxNSwNCgkJCQl0eXBlOiAxLA0KCQkJCXBhcmVudHM6IFsic2hpbW1lcmxpbHkiLCAid2hpc2tlcmJsb29tIl0NCgkJCX0sDQoJCQkNCgkJCWRyb3dzeWZlcm46DQoJCQl7DQoJCQkJaWQ6IDE3LA0KCQkJCXR5cGU6IDEsDQoJCQkJcGFyZW50czogWyJjaG9jb3Jvb3QiLCAia2Vlbm1vc3MiXQ0KCQkJfSwNCgkJCQ0KCQkJaWNob3JwdWZmOg0KCQkJew0KCQkJCWlkOiAzMywNCgkJCQl0eXBlOiAxLA0KCQkJCXBhcmVudHM6IFsiY3J1bWJzcG9yZSIsICJlbGRlcndvcnQiXSwNCgkJCQkNCgkJCQlmYXN0X3RpbGVzOiBbWzEsIDFdLCBbMSwgNF0sIFs1LCAxXSwgWzUsIDRdXSwNCgkJCQkNCgkJCQlzbG93X3RpbGVzOiBbWzAsIDBdLCBbMCwgMV0sIFswLCAyXSwgWzAsIDNdLCBbMCwgNF0sIFswLCA1XSwgWzMsIDBdLCBbMywgMV0sIFszLCAyXSwgWzMsIDNdLCBbMywgNF0sIFszLCA1XV0sDQoJCQkNCgkJCQllbXB0eV90aWxlczogW1sxLCAwXSwgWzEsIDJdLCBbMSwgM10sIFsxLCA1XSwgWzIsIDBdLCBbMiwgMV0sIFsyLCAyXSwgWzIsIDNdLCBbMiwgNF0sIFsyLCA1XSwgWzQsIDBdLCBbNCwgMV0sIFs0LCAyXSwgWzQsIDNdLCBbNCwgNF0sIFs0LCA1XSwgWzUsIDBdLCBbNSwgMl0sIFs1LCAzXSwgWzUsIDVdXQ0KCQkJfSwNCgkJCQ0KCQkJZXZlcmRhaXN5Og0KCQkJew0KCQkJCWlkOiAzMiwNCgkJCQl0eXBlOiAxLA0KCQkJCXBhcmVudHM6IFsidGlkeWdyYXNzIiwgImVsZGVyd29ydCJdLA0KCQkJCQ0KCQkJCWZhc3RfdGlsZXM6IFtbMSwgMF0sIFsxLCAyXSwgWzEsIDNdLCBbMSwgNV0sIFsyLCAwXSwgWzIsIDJdLCBbMiwgNV0sIFs0LCAwXSwgWzQsIDVdLCBbNSwgMF0sIFs1LCAxXSwgWzUsIDJdLCBbNSwgM10sIFs1LCA0XSwgWzUsIDVdXSwNCgkJCQkNCgkJCQlzbG93X3RpbGVzOiBbWzAsIDBdLCBbMCwgMV0sIFswLCAyXSwgWzAsIDNdLCBbMCwgNF0sIFswLCA1XSwgWzMsIDBdLCBbMywgMV0sIFszLCAyXSwgWzMsIDNdLCBbMywgNF0sIFszLCA1XV0sDQoJCQkNCgkJCQllbXB0eV90aWxlczogW1sxLCAxXSwgWzEsIDRdLCBbMiwgMV0sIFsyLCAzXSwgWzIsIDRdLCBbNCwgMV0sIFs0LCAyXSwgWzQsIDNdLCBbNCwgNF1dDQoJCQl9LA0KCQkJDQoJCQkNCgkJCQ0KCQkJYmFrZXJXaGVhdDoNCgkJCXsNCgkJCQlpZDogMA0KCQkJfSwNCgkJCQ0KCQkJbWVkZGxld2VlZDoNCgkJCXsNCgkJCQlpZDogMTMsDQoJCQkJdHlwZTogMiwNCgkJCQlwYXJlbnRzOiBbXQ0KCQkJfSwNCgkJCQ0KCQkJYnJvd25Nb2xkOg0KCQkJew0KCQkJCWlkOiAxMiwNCgkJCQl0eXBlOiAyLA0KCQkJCXBhcmVudHM6IFsibWVkZGxld2VlZCJdLA0KCQkJCXRyeV93aXRob3V0X3JlcGxhbnRpbmc6IFsid2hpdGVNaWxkZXciXSwNCgkJCQl0cnlfd2l0aG91dF9yZXBsYW50aW5nX3BhcnRuZXI6IFsiIl0NCgkJCX0sDQoJCQkNCgkJCWNydW1ic3BvcmU6DQoJCQl7DQoJCQkJaWQ6IDIzLA0KCQkJCXR5cGU6IDIsDQoJCQkJcGFyZW50czogWyJtZWRkbGV3ZWVkIl0sDQoJCQkJdHJ5X3dpdGhvdXRfcmVwbGFudGluZzogWyJ3cmlua2xlZ2lsbCIsICJnbG92ZW1vcmVsIl0sDQoJCQkJdHJ5X3dpdGhvdXRfcmVwbGFudGluZ19wYXJ0bmVyOiBbImJyb3duTW9sZCIsICJ0aHVtYmNvcm4iXQ0KCQkJfQ0KCQl9LA0KCQkNCgkJDQoJCQ0KCQlmZXJ0aWxpemVyX3RpY2tzOiAwLA0KCQl3b29kY2hpcHNfdGlja3M6IDAsDQoJCQ0KCQlsYXN0X2ZlcnRpbGl6ZXJfdGlja3M6IDAsDQoJCWxhc3Rfd29vZGNoaXBzX3RpY2tzOiAwLA0KCQkNCgkJbnVtX2l0ZXJhdGlvbnM6IC0xLA0KCQkNCgkJcG9zdF90aWNrX2xvZ2ljOiBmdW5jdGlvbigpDQoJCXsNCgkJCS8vRGVidWcgZm9yIHRlc3RpbmcNCgkJCS8qDQoJCQlHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnNvaWxzWyJmZXJ0aWxpemVyIl0udGljayA9IC4wMDA1Ow0KCQkJR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5zb2lsc1sid29vZGNoaXBzIl0udGljayA9IC4wMDA1Ow0KCQkJR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5uZXh0U29pbCA9IDA7DQoJCQkqLw0KCQkJDQoJCQlpZiAoR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5zb2lsID09PSAxKQ0KCQkJew0KCQkJCXRoaXMuZmVydGlsaXplcl90aWNrcysrOw0KCQkJfQ0KCQkJDQoJCQllbHNlDQoJCQl7DQoJCQkJdGhpcy53b29kY2hpcHNfdGlja3MrKzsNCgkJCX0NCgkJCQ0KCQkJDQoJCQkNCgkJCWlmICh0aGlzLnRpY2tzX3VudGlsX2Zhc3RfcGxhbnRzID4gMCkNCgkJCXsNCgkJCQl0aGlzLnRpY2tzX3VudGlsX2Zhc3RfcGxhbnRzLS07DQoJCQl9DQoJCQkNCgkJCQ0KCQkJDQoJCQkvL0lmIHdlIGZpbmQgd2hhdCB3ZSdyZSBsb29raW5nIGZvciwgd2Ugc3dpdGNoIHRvIGZlcnRpbGl6ZXIsIGFuZCB0aGVuIGNsZWFyIHRoZSBwbG90Lg0KCQkJbGV0IGZvdW5kX3RhcmdldCA9IHRoaXMuZmluZF90YXJnZXQoKTsNCgkJCQ0KCQkJaWYgKGZvdW5kX3RhcmdldCkNCgkJCXsNCgkJCQl0aGlzLmNoYW5nZV9zb2lsKDEpOw0KCQkJCQ0KCQkJCXRoaXMudGlja3NfdW50aWxfZmFzdF9wbGFudHMgPSAtMTsNCgkJCX0NCgkJCQ0KCQkJDQoJCQkNCgkJCXRoaXMuaGFuZGxlX3NlY29uZGFyeV90YXJnZXRzKCk7DQoJCQkNCgkJCXRoaXMuYWRkX2VsZGVyd29ydCgpOw0KCQkJDQoJCQl0aGlzLnNlbGVjdF9uZXh0X3RhcmdldCgpOw0KCQkJDQoJCQlsZXQgYXJnID0gdGhpcy5zZWVkX3RvX3VubG9jayA9PT0gInF1ZWVuYmVldEx1bXAiID8gMSA6IDA7DQoJCQkNCgkJCWlmIChhcmcpDQoJCQl7DQoJCQkJdGhpcy5mZXJ0aWxpemVyX3JlcXVlc3RzID0gMDsNCgkJCX0NCgkJCQ0KCQkJdGhpcy5yZW1vdmVfdW5sb2NrZWRfcGxhbnRzKGZhbHNlLCBhcmcpOw0KCQkJDQoJCQl0aGlzLnJlbW92ZV9ub25fdW5sb2NrZWRfZHVwbGljYXRlcygpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KCQkJLy9Tb21ldGltZXMgd2UgbWF5IGJlIGluIGEgc3RhdGUgd2hlcmUgd2UgZG9uJ3QgaGF2ZSB0aGUgYWJpbGl0eSB0byBncm93IGFueXRoaW5nIGNhdXNlIHdlJ3JlIHdhaXRpbmcgb24gYSB0b24gb2Ygc3R1ZmYgdG8gZ3Jvdy4NCgkJCWlmICh0aGlzLnNlZWRfdG9fdW5sb2NrID09PSAiIikNCgkJCXsNCiAgICAgICAgICAgICAgICAvL0lmIHRoZXJlJ3Mgb25seSBvbmUgc2VlZCB0byB1bmxvY2sgYW5kIGl0J3MgcHJlc2VudCwgY2hhbmdlIHRvIGZlcnRpbGl6ZXIgYW5kIHJldHVybi4NCiAgICAgICAgICAgICAgICBsZXQgbnVtX25vdF91bmxvY2tlZCA9IDA7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlZWRfb3JkZXIubGVuZ3RoOyBpKyspDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBpZiAoIUdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW3RoaXMuc2VlZF9vcmRlcltpXV0udW5sb2NrZWQpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG51bV9ub3RfdW5sb2NrZWQrKzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiAobnVtX25vdF91bmxvY2tlZCA9PT0gMSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGxldCBpZCA9IHRoaXMubXV0YXRpb25fc2V0dXBzW3RoaXMuc2VlZF9vcmRlcltpXV0uaWQ7DQoJCQkJDQogICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50bHlfZ3Jvd2luZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgNjsgaisrKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3RbaV1bal1bMF0gLSAxID09PSBpZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseV9ncm93aW5nID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRseV9ncm93aW5nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudGx5X2dyb3dpbmcpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlX3NvaWwoMSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJDQoJCQkNCgkJCQ0KCQkJbGV0IHNldHVwID0gdGhpcy5tdXRhdGlvbl9zZXR1cHNbdGhpcy5zZWVkX3RvX3VubG9ja107DQoJCQkNCgkJCWlmIChzZXR1cC50eXBlID09PSAwKQ0KCQkJew0KCQkJCXRoaXMudW5sb2NrX3R5cGVfMF9sb2dpYyguLi4oc2V0dXAucGFyZW50cykpOw0KCQkJfQ0KCQkJDQoJCQllbHNlIGlmIChzZXR1cC50eXBlID09PSAxKQ0KCQkJew0KCQkJCXRoaXMudW5sb2NrX3R5cGVfMV9sb2dpYyguLi4oc2V0dXAucGFyZW50cykpOw0KCQkJfQ0KCQkJDQoJCQkNCgkJCQ0KCQkJaWYgKHRoaXMuc2VlZF90b191bmxvY2sgPT09ICJtZWRkbGV3ZWVkIikNCgkJCXsNCgkJCQl0aGlzLnVubG9ja19tZWRkbGV3ZWVkX2xvZ2ljKCk7DQoJCQl9DQoJCQkNCgkJCWVsc2UgaWYgKHRoaXMuc2VlZF90b191bmxvY2sgPT09ICJjcnVtYnNwb3JlIiB8fCB0aGlzLnNlZWRfdG9fdW5sb2NrID09PSAiYnJvd25Nb2xkIikNCgkJCXsNCgkJCQl0aGlzLnVubG9ja19jcnVtYnNwb3JlX2Jyb3duTW9sZF9sb2dpYygpOw0KCQkJCQ0KCQkJCXRoaXMucmVtb3ZlX25vbl91bmxvY2tlZF9kdXBsaWNhdGVzKCk7DQoJCQl9DQoJCQkNCgkJCWVsc2UgaWYgKHRoaXMuc2VlZF90b191bmxvY2sgPT09ICJzaHJpZWtidWxiIikNCgkJCXsNCgkJCQl0aGlzLmNoYW5nZV9zb2lsKDQpOw0KCQkJfQ0KCQkJDQoJCQllbHNlIGlmICh0aGlzLnNlZWRfdG9fdW5sb2NrID09PSAicXVlZW5iZWV0THVtcCIpDQoJCQl7DQoJCQkJaWYgKCFHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsYW50c1siZWxkZXJ3b3J0Il0udW5sb2NrZWQpDQoJCQkJew0KCQkJCQl0aGlzLnNlbGVjdF9uZXh0X3RhcmdldCh0cnVlKTsNCgkJCQkJDQoJCQkJCWlmICh0aGlzLnNlZWRfdG9fdW5sb2NrID09PSAiIikNCgkJCQkJew0KCQkJCQkJaWYgKHRoaXMuZmVydGlsaXplcl9yZXF1ZXN0cyA+IDApDQoJCQkJCQl7DQoJCQkJCQkJdGhpcy5jaGFuZ2Vfc29pbCgxKTsNCgkJCQkJCX0NCgkJCQkJCQ0KCQkJCQkJcmV0dXJuOw0KCQkJCQl9DQoJCQkJCQ0KCQkJCQl0aGlzLnJlbW92ZV91bmxvY2tlZF9wbGFudHMoZmFsc2UsIDIpOw0KCQkJCQkNCgkJCQkJbGV0IHNldHVwID0gdGhpcy5tdXRhdGlvbl9zZXR1cHNbdGhpcy5zZWVkX3RvX3VubG9ja107DQoJCQkJCQ0KCQkJCQlpZiAoc2V0dXAudHlwZSA9PT0gMCkNCgkJCQkJew0KCQkJCQkJdGhpcy51bmxvY2tfdHlwZV8wX2xvZ2ljKC4uLihzZXR1cC5wYXJlbnRzKSwgW1swLCA1XSwgWzIsIDVdLCBbNCwgNV0sIFs1LCAwXSwgWzUsIDJdLCBbNSwgNF1dLCBbWzEsIDVdLCBbMywgNV0sIFs1LCAxXSwgWzUsIDNdLCBbNSwgNV1dKTsNCgkJCQkJfQ0KCQkJCQkNCgkJCQkJZWxzZSBpZiAoc2V0dXAudHlwZSA9PT0gMSkNCgkJCQkJew0KCQkJCQkJdGhpcy51bmxvY2tfdHlwZV8xX2xvZ2ljKC4uLihzZXR1cC5wYXJlbnRzKSwgW1swLCA1XSwgWzQsIDVdLCBbNSwgMl1dLCBbWzIsIDVdLCBbNSwgMF0sIFs1LCA0XV0sIFtbMSwgNV0sIFszLCA1XSwgWzUsIDFdLCBbNSwgM10sIFs1LCA1XV0pOw0KCQkJCQl9DQoJCQkJCQ0KCQkJCQlpZiAodGhpcy5mZXJ0aWxpemVyX3JlcXVlc3RzID09PSAyKQ0KCQkJCQl7DQoJCQkJCQl0aGlzLmNoYW5nZV9zb2lsKDEpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy9VcGRhdGUgdGhlIGdhcmRlbiB0ZXh0Lg0KICAgICAgICAgICAgbGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiI0FVVE9TQUMtbmV3LWxpbmUtYnJlYWssICNBVVRPU0FDLWdhcmRlbi10ZXh0Iik7DQogICAgICAgICAgICANCiAgICAgICAgICAgIGxldCB0ZXh0ID0gdGhpcy5zZWVkX3RvX3VubG9jayA9PT0gIiIgPyAiTm90aGluZyIgOiBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsYW50c1t0aGlzLnNlZWRfdG9fdW5sb2NrXS5uYW1lOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoIDwgMikNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0cnkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNnYXJkZW5TZWVkcyIpLmluc2VydEFkamFjZW50SFRNTCgiYWZ0ZXJlbmQiLCBgPGRpdiBpZD0iQVVUT1NBQy1uZXctbGluZS1icmVhayIgY2xhc3M9ImxpbmUiPjwvZGl2PjxkaXYgaWQ9IkFVVE9TQUMtZ2FyZGVuLXRleHQiIGNsYXNzPSJ0aXRsZSBnYXJkZW5QYW5lbExhYmVsIj5UYXJnZXRpbmcgJHt0ZXh0fTwvZGl2PmApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBjYXRjaChleCkge30NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGVsZW1lbnRzWzFdLnRleHRDb250ZW50ID0gYFRhcmdldGluZyAke3RleHR9YDsNCiAgICAgICAgICAgIH0NCgkJfSwNCgkJDQoJCQ0KCQkNCgkJbmVlZF93b29kY2hpcHNfZm9yX3NlY29uZGFyeV90YXJnZXQ6IGZhbHNlLA0KCQkNCgkJLy9EZWFscyB3aXRoIHBsYW50cyB3aGVyZSB3ZSBhdHRlbXB0IHRvIHBhcmxheSB0aGVtIGRpcmVjdGx5IGludG8gbmV3IG11dGF0aW9ucy4NCgkJaGFuZGxlX3NlY29uZGFyeV90YXJnZXRzOiBmdW5jdGlvbigpDQoJCXsNCgkJCXRoaXMubmVlZF93b29kY2hpcHNfZm9yX3NlY29uZGFyeV90YXJnZXQgPSBmYWxzZTsNCgkJCQ0KCQkJZm9yIChsZXQga2V5IGluIHRoaXMuc2Vjb25kYXJ5X3RhcmdldHMpDQoJCQl7DQoJCQkJbGV0IHNvdXJjZV90aWxlID0gdGhpcy5zZWNvbmRhcnlfdGFyZ2V0c1trZXldLnNvdXJjZV90aWxlOw0KCQkJCWxldCBzb3VyY2Vfa2V5ID0gdGhpcy5zZWNvbmRhcnlfdGFyZ2V0c1trZXldLnNvdXJjZV9rZXk7DQoJCQkJDQoJCQkJDQoJCQkJDQoJCQkJbGV0IG11dGF0aW9uX3RpbGVzID0gdGhpcy5zZWNvbmRhcnlfdGFyZ2V0c1trZXldLm11dGF0aW9uX3RpbGVzOw0KCQkJCQ0KCQkJCWxldCBtdXRhdGlvbl9oYXBwZW5lZCA9IGZhbHNlOw0KCQkJCQ0KCQkJCWZvciAobGV0IGkgPSAwOyBpIDwgbXV0YXRpb25fdGlsZXMubGVuZ3RoOyBpKyspDQoJCQkJew0KCQkJCQlsZXQgaWQgPSBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3RbbXV0YXRpb25fdGlsZXNbaV1bMF1dW211dGF0aW9uX3RpbGVzW2ldWzFdXVswXSAtIDE7DQoJCQkJCQ0KCQkJCQlpZiAoaWQgPT09IHRoaXMubXV0YXRpb25fc2V0dXBzW2tleV0uaWQpDQoJCQkJCXsNCgkJCQkJCW11dGF0aW9uX2hhcHBlbmVkID0gdHJ1ZTsNCgkJCQkJCWJyZWFrOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCQ0KCQkJCQ0KCQkJCQ0KCQkJCWlmIChtdXRhdGlvbl9oYXBwZW5lZCB8fCBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsYW50c1trZXldLnVubG9ja2VkIHx8IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFtzb3VyY2VfdGlsZVswXV1bc291cmNlX3RpbGVbMV1dWzBdIC0gMSAhPT0gdGhpcy5tdXRhdGlvbl9zZXR1cHNbc291cmNlX2tleV0uaWQpDQoJCQkJew0KCQkJCQlkZWxldGUgdGhpcy5zZWNvbmRhcnlfdGFyZ2V0c1trZXldOw0KCQkJCQljb250aW51ZTsNCgkJCQl9DQoJCQkJDQoJCQkJaWYgKHRoaXMuc2Vjb25kYXJ5X3RhcmdldHNba2V5XS50aWNrc190b193YWl0ICE9PSAwKQ0KCQkJCXsNCgkJCQkJdGhpcy5zZWNvbmRhcnlfdGFyZ2V0c1trZXldLnRpY2tzX3RvX3dhaXQtLTsNCgkJCQl9DQoJCQkJDQoJCQkJaWYgKHRoaXMuc2Vjb25kYXJ5X3RhcmdldHNba2V5XS50aWNrc190b193YWl0ID09PSAwKQ0KCQkJCXsNCgkJCQkJbGV0IHRpbGVzID0gdGhpcy5zZWNvbmRhcnlfdGFyZ2V0c1trZXldLnRpbGVzOw0KCQkJCQlsZXQga2V5X3RvX3BsYW50ID0gdGhpcy5zZWNvbmRhcnlfdGFyZ2V0c1trZXldLmtleV90b19wbGFudDsNCgkJCQkJDQoJCQkJCWlmIChrZXlfdG9fcGxhbnQgPT09ICIiKQ0KCQkJCQl7DQoJCQkJCQljb250aW51ZTsNCgkJCQkJfQ0KCQkJCQkNCgkJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCB0aWxlcy5sZW5ndGg7IGkrKykNCgkJCQkJew0KCQkJCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFt0aWxlc1tpXVswXV1bdGlsZXNbaV1bMV1dWzBdID09PSAwKQ0KCQkJCQkJew0KCQkJCQkJCXRoaXMucGxhbnRfc2VlZCh0aGlzLm11dGF0aW9uX3NldHVwc1trZXlfdG9fcGxhbnRdLmlkLCB0aWxlc1tpXVsxXSwgdGlsZXNbaV1bMF0pOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJCQ0KCQkJCWlmIChHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3Rbc291cmNlX3RpbGVbMF1dW3NvdXJjZV90aWxlWzFdXVsxXSA+PSBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsYW50c1tzb3VyY2Vfa2V5XS5tYXR1cmUpDQoJCQkJew0KCQkJCQlsZXQgbWF0dXJlID0gMDsNCgkJCQkJDQoJCQkJCWxldCB0aWxlcyA9IHRoaXMuc2Vjb25kYXJ5X3RhcmdldHNba2V5XS50aWxlczsNCgkJCQkJbGV0IGtleV90b19wbGFudCA9IHRoaXMuc2Vjb25kYXJ5X3RhcmdldHNba2V5XS5rZXlfdG9fcGxhbnQ7DQoJCQkJCQ0KCQkJCQlpZiAoa2V5X3RvX3BsYW50ID09PSAiIikNCgkJCQkJew0KCQkJCQkJY29udGludWU7DQoJCQkJCX0NCgkJCQkJDQoJCQkJCWZvciAobGV0IGkgPSAwOyBpIDwgdGlsZXMubGVuZ3RoOyBpKyspDQoJCQkJCXsNCgkJCQkJCWlmIChHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3RbdGlsZXNbaV1bMF1dW3RpbGVzW2ldWzFdXVsxXSA9PT0gR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNba2V5X3RvX3BsYW50XS5tYXR1cmUpDQoJCQkJCQl7DQoJCQkJCQkJbWF0dXJlKys7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJDQoJCQkJCWlmIChtYXR1cmUgPiB0aWxlcy5sZW5ndGggLyAyKQ0KCQkJCQl7DQoJCQkJCQl0aGlzLm5lZWRfd29vZGNoaXBzX2Zvcl9zZWNvbmRhcnlfdGFyZ2V0ID0gdHJ1ZTsNCgkJCQkJCXRoaXMuY2hhbmdlX3NvaWwoNCk7DQoJCQkJCX0JDQoJCQkJfQ0KCQkJfQ0KCQl9LA0KCQkNCgkJDQoJCQ0KCQkvL1doZW4gdGhlcmUncyBqdXN0IGEgSlFCIG9yIEV2ZXJkYWlzeSBsZWZ0IGdyb3dpbmcsIHN1cnJvdW5kIGl0IHdpdGggRWxkZXJ3b3J0Lg0KCQlhZGRfZWxkZXJ3b3J0OiBmdW5jdGlvbigpDQoJCXsNCgkJCWZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKQ0KCQkJew0KCQkJCWZvciAobGV0IGogPSAwOyBqIDwgNjsgaisrKQ0KCQkJCXsNCgkJCQkJbGV0IGlkID0gR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbG90W2ldW2pdWzBdIC0gMTsNCgkJCQkJDQoJCQkJCWlmIChpZCA9PT0gdGhpcy5tdXRhdGlvbl9zZXR1cHNbInF1ZWVuYmVldEx1bXAiXS5pZCkNCgkJCQkJew0KCQkJCQkJLy9UaGVzZSB0d28gbmV2ZXIgb2NjdXIgaW4gdGhlIG91dGVyIGVkZ2Ugb2YgdGhlIGdhcmRlbiwgc28gd2UgY2FuIHNraXAgaW5ib3VuZHMgY2hlY2tzLg0KCQkJCQkJZm9yIChsZXQgayA9IC0xOyBrIDw9IDE7IGsrKykNCgkJCQkJCXsNCgkJCQkJCQlmb3IgKGxldCBsID0gLTE7IGwgPD0gMTsgbCsrKQ0KCQkJCQkJCXsNCgkJCQkJCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFtpICsga11baiArIGxdWzBdID09PSAwKQ0KCQkJCQkJCQl7DQoJCQkJCQkJCQl0aGlzLnBsYW50X3NlZWQodGhpcy5tdXRhdGlvbl9zZXR1cHNbImVsZGVyd29ydCJdLmlkLCBqICsgbCwgaSArIGspOw0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9LA0KCQkNCgkJDQoJCQ0KCQlsYXN0X25vdGlmaWNhdGlvbjogIiIsDQoJCW5vdGlmaWVkX2pxYjogZmFsc2UsDQoJCQ0KCQkvL0ZpbmQgdGhlIGZpcnN0IG5vbi11bmxvY2tlZCBzZWVkIGFuZCB0YXJnZXQgaXQuDQoJCXNlbGVjdF9uZXh0X3RhcmdldDogZnVuY3Rpb24oaWdub3JlX2pxYiA9IGZhbHNlKQ0KCQl7DQoJCQl0aGlzLnNlZWRfdG9fdW5sb2NrID0gIiI7DQoJCQkNCgkJCWZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZWVkX29yZGVyLmxlbmd0aDsgaSsrKQ0KCQkJew0KCQkJCWlmIChHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsYW50c1t0aGlzLnNlZWRfb3JkZXJbaV1dLnVubG9ja2VkKQ0KCQkJCXsNCgkJCQkJY29udGludWU7DQoJCQkJfQ0KCQkJCQ0KCQkJCWlmIChpZ25vcmVfanFiICYmICh0aGlzLnNlZWRfb3JkZXJbaV0gPT09ICJzaHJpZWtidWxiIiB8fCB0eXBlb2YgdGhpcy5tdXRhdGlvbl9zZXR1cHNbdGhpcy5zZWVkX29yZGVyW2ldXS5lbXB0eV90aWxlcyAhPT0gInVuZGVmaW5lZCIpKQ0KCQkJCXsNCgkJCQkJY29udGludWU7DQoJCQkJfQ0KCQkJCQ0KCQkJCQ0KCQkJCQ0KCQkJCWxldCBwYXJlbnRzID0gdGhpcy5tdXRhdGlvbl9zZXR1cHNbdGhpcy5zZWVkX29yZGVyW2ldXS5wYXJlbnRzOw0KCQkJCQ0KCQkJCWlmIChwYXJlbnRzLmxlbmd0aCA+IDAgJiYgIUdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW3BhcmVudHNbMF1dLnVubG9ja2VkKQ0KCQkJCXsNCgkJCQkJY29udGludWU7DQoJCQkJfQ0KCQkJCQ0KCQkJCWlmIChwYXJlbnRzLmxlbmd0aCA+IDEgJiYgIUdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW3BhcmVudHNbMV1dLnVubG9ja2VkKQ0KCQkJCXsNCgkJCQkJY29udGludWU7DQoJCQkJfQ0KCQkJCQ0KCQkJCWxldCBpZCA9IHRoaXMubXV0YXRpb25fc2V0dXBzW3RoaXMuc2VlZF9vcmRlcltpXV0uaWQ7DQoJCQkJDQoJCQkJbGV0IGN1cnJlbnRseV9ncm93aW5nID0gZmFsc2U7DQoJCQkJDQoJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspDQoJCQkJew0KCQkJCQlmb3IgKGxldCBqID0gMDsgaiA8IDY7IGorKykNCgkJCQkJew0KCQkJCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFtpXVtqXVswXSAtIDEgPT09IGlkKQ0KCQkJCQkJew0KCQkJCQkJCWN1cnJlbnRseV9ncm93aW5nID0gdHJ1ZTsNCgkJCQkJCQkNCgkJCQkJCQlicmVhazsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCQkNCgkJCQkJaWYgKGN1cnJlbnRseV9ncm93aW5nKQ0KCQkJCQl7DQoJCQkJCQlicmVhazsNCgkJCQkJfQ0KCQkJCX0NCgkJCQkNCgkJCQlpZiAoY3VycmVudGx5X2dyb3dpbmcpDQoJCQkJew0KCQkJCQljb250aW51ZTsNCgkJCQl9DQoJCQkJDQoJCQkJdGhpcy5zZWVkX3RvX3VubG9jayA9IHRoaXMuc2VlZF9vcmRlcltpXTsNCgkJCQkNCgkJCQlpZiAodGhpcy5zZWVkX3RvX3VubG9jayAhPT0gdGhpcy5sYXN0X25vdGlmaWNhdGlvbikNCgkJCQl7DQoJCQkJCWlmICh0aGlzLnNlZWRfdG9fdW5sb2NrID09PSAicXVlZW5iZWV0THVtcCIpDQoJCQkJCXsNCgkJCQkJCWlmICh0aGlzLm5vdGlmaWVkX2pxYikNCgkJCQkJCXsNCgkJCQkJCQlyZXR1cm47DQoJCQkJCQl9DQoJCQkJCQkNCgkJCQkJCXRoaXMubm90aWZpZWRfanFiID0gdHJ1ZTsNCgkJCQkJfQ0KCQkJCQkNCgkJCQkJdGhpcy5sYXN0X25vdGlmaWNhdGlvbiA9IHRoaXMuc2VlZF90b191bmxvY2s7DQoJCQkJCQ0KCQkJCQlHYW1lLk5vdGlmeSgnQXV0byBTYWNyaWZpY2UnLCBgVGFyZ2V0aW5nICR7R2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNbdGhpcy5zZWVkX29yZGVyW2ldXS5uYW1lfWAsIFsxNSwgNl0sIEluZmluaXR5KTsNCgkJCQkJDQoJCQkJCXRoaXMudGlja3NfdW50aWxfZmFzdF9wbGFudHMgPSAtMTsNCgkJCQkJDQoJCQkJCS8vQW4gdW5mb3J0dW5hdGUgZWRnZSBjYXNlOiB3ZSBnbyBmcm9tIGFsbCB3aGVhdCB0byBoYWxmIGNvcm4gYW5kIGhhbGYgd2hlYXQsIGFuZCBzbyB3aXRob3V0IHRoaXMsIHdlIGhhdmUgdG8gd2FpdCBmb3IgdGhlIHdoZWF0IHRvIGRlY2F5IGZpcnN0Lg0KCQkJCQlpZiAodGhpcy5zZWVkX3RvX3VubG9jayA9PT0gImNyb25lcmljZSIpDQoJCQkJCXsNCgkJCQkJCXRoaXMucmVtb3ZlX3VubG9ja2VkX3BsYW50cyh0cnVlKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQkNCgkJCQlicmVhazsNCgkJCX0NCgkJCQ0KCQkJDQoJCQkNCgkJCWlmICh0aGlzLnNlZWRfdG9fdW5sb2NrID09PSAiIiAmJiAhaWdub3JlX2pxYikNCgkJCXsNCgkJCQkvL1Bvc3NpYmx5IHRpbWUgdG8gc2FjcmlmaWNlIQ0KCQkJCWZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZWVkX29yZGVyLmxlbmd0aDsgaSsrKQ0KCQkJCXsNCgkJCQkJaWYgKCFHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsYW50c1t0aGlzLnNlZWRfb3JkZXJbaV1dLnVubG9ja2VkKQ0KCQkJCQl7DQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCgkJCQl9DQoJCQkJDQoJCQkJaWYgKCF0aGlzLmRvX2NvbnZlcnQpDQoJCQkJew0KCQkJCQlyZXR1cm47DQoJCQkJfQ0KCQkJCQ0KCQkJCUdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUuY29udmVydCgpOw0KCQkJCQ0KCQkJCXRoaXMuc2VlZF90b191bmxvY2sgPSAibWVkZGxld2VlZCI7DQoJCQkJDQoJCQkJDQoJCQkJDQoJCQkJdGhpcy5tdXRhdGlvbl9zZXR1cHNbInF1ZWVuYmVldEx1bXAiXSA9DQoJCQkJew0KCQkJCQlpZDogMjEsDQoJCQkJCXR5cGU6IDAsDQoJCQkJCXBhcmVudHM6IFsicXVlZW5iZWV0Il0sDQoJCQkJCQ0KCQkJCQl0aWxlczogW1swLCAwXSwgWzAsIDFdLCBbMCwgMl0sIFswLCAzXSwgWzAsIDRdLCBbMSwgMF0sIFsxLCAyXSwgWzEsIDRdLCBbMiwgMF0sIFsyLCAxXSwgWzIsIDJdLCBbMiwgM10sIFsyLCA0XSwgWzMsIDBdLCBbMywgMl0sIFszLCA0XSwgWzQsIDBdLCBbNCwgMV0sIFs0LCAyXSwgWzQsIDNdLCBbNCwgNF1dLA0KCQkJCQ0KCQkJCQllbXB0eV90aWxlczogW1sxLCAxXSwgWzEsIDNdLCBbMywgMV0sIFszLCAzXV0NCgkJCQl9Ow0KCQkJCQ0KCQkJCQ0KCQkJCQ0KCQkJCXRoaXMubnVtX2l0ZXJhdGlvbnMrKzsNCgkJCQkNCgkJCQlpZiAodGhpcy5udW1faXRlcmF0aW9ucyA9PT0gMCkNCgkJCQl7DQoJCQkJCXRoaXMuZmVydGlsaXplcl90aWNrcyA9IDA7DQoJCQkJCXRoaXMud29vZGNoaXBzX3RpY2tzID0gMDsNCgkJCQl9DQoJCQkJDQoJCQkJZWxzZQ0KCQkJCXsNCgkJCQkJY29uc29sZS5sb2coYFNhY3JpZmljZWQgaW4gJHt0aGlzLmZlcnRpbGl6ZXJfdGlja3MgLSB0aGlzLmxhc3RfZmVydGlsaXplcl90aWNrc30gZmVydGlsaXplciB0aWNrcyBhbmQgJHt0aGlzLndvb2RjaGlwc190aWNrcyAtIHRoaXMubGFzdF93b29kY2hpcHNfdGlja3N9IHdvb2RjaGlwcyB0aWNrcy4gQ3VycmVudCBhdmVyYWdlIG9mICR7dGhpcy5udW1faXRlcmF0aW9uc30gcnVuczogJHtNYXRoLnJvdW5kKHRoaXMuZmVydGlsaXplcl90aWNrcyAvIHRoaXMubnVtX2l0ZXJhdGlvbnMpfSwgJHtNYXRoLnJvdW5kKHRoaXMud29vZGNoaXBzX3RpY2tzIC8gdGhpcy5udW1faXRlcmF0aW9ucyl9YCk7DQoJCQkJCQ0KCQkJCQl0aGlzLmxhc3RfZmVydGlsaXplcl90aWNrcyA9IHRoaXMuZmVydGlsaXplcl90aWNrczsNCgkJCQkJdGhpcy5sYXN0X3dvb2RjaGlwc190aWNrcyA9IHRoaXMud29vZGNoaXBzX3RpY2tzOw0KCQkJCX0NCgkJCQkNCgkJCQlHYW1lLk5vdGlmeSgnQXV0byBTYWNyaWZpY2UnLCBgVGFyZ2V0aW5nICR7R2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNbdGhpcy5zZWVkX29yZGVyWzBdXS5uYW1lfWAsIFsxNSwgNl0sIEluZmluaXR5KTsNCgkJCX0NCgkJfSwNCgkJDQoJCQ0KCQkNCgkJLy9IYXJ2ZXN0cyBwbGFudHMgdGhhdCBhcmUgbm90IHVubG9ja2VkIGFuZCBlaXRoZXIgYWJvdXQgdG8gZGllIG9yIG1hdHVyZSB3aXRob3V0IGEgcGFybGF5LiBJZiB0aGVyZSBpcyBhIHBhcmxheSwgaXQgc2V0cyB0aGF0IHVwLg0KCQlmaW5kX3RhcmdldDogZnVuY3Rpb24oKQ0KCQl7DQoJCQlsZXQgZm91bmRfdGFyZ2V0ID0gZmFsc2U7DQoJCQkNCgkJCWZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKQ0KCQkJew0KCQkJCWZvciAobGV0IGogPSAwOyBqIDwgNjsgaisrKQ0KCQkJCXsNCgkJCQkJbGV0IHRpbGUgPSBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3RbaV1bal07DQoJCQkJCQ0KCQkJCQlpZiAodGlsZVswXSA9PT0gMCkNCgkJCQkJew0KCQkJCQkJY29udGludWU7DQoJCQkJCX0NCgkJCQkJDQoJCQkJCWxldCBwbGFudCA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzQnlJZFt0aWxlWzBdIC0gMV07DQoJCQkJCQ0KCQkJCQlpZiAocGxhbnQua2V5ID09PSB0aGlzLnNlZWRfdG9fdW5sb2NrKQ0KCQkJCQl7DQoJCQkJCQlmb3VuZF90YXJnZXQgPSB0cnVlOw0KCQkJCQl9DQoJCQkJCQ0KCQkJCQkNCgkJCQkJDQoJCQkJCWlmICghR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNbcGxhbnQua2V5XS51bmxvY2tlZCAmJiB0aWxlWzFdID49IHBsYW50Lm1hdHVyZSAmJiAodGlsZVsxXSA+PSA4NSB8fCB0eXBlb2YgdGhpcy5tdXRhdGlvbl9zZXR1cHNbcGxhbnQua2V5XS50cnlfd2l0aG91dF9yZXBsYW50aW5nID09PSAidW5kZWZpbmVkIiB8fCB0aGlzLm11dGF0aW9uX3NldHVwc1twbGFudC5rZXldLnRyeV93aXRob3V0X3JlcGxhbnRpbmcubGVuZ3RoID09PSAwKSkNCgkJCQkJew0KCQkJCQkJdGhpcy5oYXJ2ZXN0X3BsYW50KGosIGkpOw0KCQkJCQl9DQoJCQkJCQkNCgkJCQkJZWxzZSBpZiAodHlwZW9mIHRoaXMubXV0YXRpb25fc2V0dXBzW3BsYW50LmtleV0udHJ5X3dpdGhvdXRfcmVwbGFudGluZyAhPT0gInVuZGVmaW5lZCIgJiYgdGhpcy5tdXRhdGlvbl9zZXR1cHNbcGxhbnQua2V5XS50cnlfd2l0aG91dF9yZXBsYW50aW5nLmxlbmd0aCAhPT0gMCkNCgkJCQkJew0KCQkJCQkJZm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLm11dGF0aW9uX3NldHVwc1twbGFudC5rZXldLnRyeV93aXRob3V0X3JlcGxhbnRpbmcubGVuZ3RoOyBrKyspDQoJCQkJCQl7DQoJCQkJCQkJbGV0IGtleSA9IHRoaXMubXV0YXRpb25fc2V0dXBzW3BsYW50LmtleV0udHJ5X3dpdGhvdXRfcmVwbGFudGluZ1trXTsNCgkJCQkJCQkNCgkJCQkJCQlpZiAodHlwZW9mIHRoaXMuc2Vjb25kYXJ5X3RhcmdldHNba2V5XSA9PT0gInVuZGVmaW5lZCIpDQoJCQkJCQkJew0KCQkJCQkJCQlsZXQgdGlsZXMgPSBbXTsNCgkJCQkJCQkJDQoJCQkJCQkJCWlmICh0aGlzLm11dGF0aW9uX3NldHVwc1twbGFudC5rZXldLnRyeV93aXRob3V0X3JlcGxhbnRpbmcubGVuZ3RoID09PSAxKQ0KCQkJCQkJCQl7DQoJCQkJCQkJCQl0aWxlcyA9IFtbaSAtIDIsIGpdLCBbaSArIDIsIGpdLCBbaSwgaiAtIDJdLCBbaSwgaiArIDJdXTsNCgkJCQkJCQkJfQ0KCQkJCQkJCQkNCgkJCQkJCQkJZWxzZSBpZiAoayA9PT0gMCkNCgkJCQkJCQkJew0KCQkJCQkJCQkJdGlsZXMgPSBbW2kgLSAyLCBqXSwgW2kgKyAyLCBqXV07DQoJCQkJCQkJCX0NCgkJCQkJCQkJDQoJCQkJCQkJCWVsc2UNCgkJCQkJCQkJew0KCQkJCQkJCQkJdGlsZXMgPSBbW2ksIGogLSAyXSwgW2ksIGogKyAyXV07DQoJCQkJCQkJCX0NCgkJCQkJCQkJDQoJCQkJCQkJCQ0KCQkJCQkJCQkNCgkJCQkJCQkJZm9yIChsZXQgbCA9IDA7IGwgPCB0aWxlcy5sZW5ndGg7IGwrKykNCgkJCQkJCQkJew0KCQkJCQkJCQkJaWYgKHRpbGVzW2xdWzBdIDwgMCB8fCB0aWxlc1tsXVswXSA+IDUgfHwgdGlsZXNbbF1bMV0gPCAwIHx8IHRpbGVzW2xdWzFdID4gNSkNCgkJCQkJCQkJCXsNCgkJCQkJCQkJCQl0aWxlcy5zcGxpY2UobCwgMSk7DQoJCQkJCQkJCQkJbC0tOw0KCQkJCQkJCQkJfQ0KCQkJCQkJCQl9DQoJCQkJCQkJCQ0KCQkJCQkJCQkvL1RoaXMgaXMgYSBsaXR0bGUgYW5ub3lpbmcgLS0gaXQncyBoYXJkIHRvIG5vdCBnZXQgZHVwbGljYXRlcywgc28gd2UgbmVlZCBhbiBpbnRlcm1lZGlhdGUgc3RlcC4NCgkJCQkJCQkJbGV0IG11dGF0aW9uX3RpbGVzX3ZhbGlkaXR5ID0gW1swLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF1dOw0KCQkJCQkJCQkNCgkJCQkJCQkJZm9yIChsZXQgbCA9IDA7IGwgPCB0aWxlcy5sZW5ndGg7IGwrKykNCgkJCQkJCQkJew0KCQkJCQkJCQkJbXV0YXRpb25fdGlsZXNfdmFsaWRpdHlbKHRpbGVzW2xdWzBdIC0gaSkgLyAyICsgMV1bKHRpbGVzW2xdWzBdIC0gaikgLyAyICsgMV0gPSAxOw0KCQkJCQkJCQl9DQoJCQkJCQkJCQ0KCQkJCQkJCQlsZXQgbXV0YXRpb25fdGlsZXMgPSBbXTsNCgkJCQkJCQkJDQoJCQkJCQkJCWZvciAobGV0IGwgPSAwOyBsIDwgMzsgbCsrKQ0KCQkJCQkJCQl7DQoJCQkJCQkJCQlmb3IgKGxldCBtID0gMDsgbSA8IDM7IG0rKykNCgkJCQkJCQkJCXsNCgkJCQkJCQkJCQlsZXQgcm93ID0gaSArIGwgLSAxOw0KCQkJCQkJCQkJCWxldCBjb2wgPSBqICsgbSAtIDE7DQoJCQkJCQkJCQkJDQoJCQkJCQkJCQkJaWYgKG11dGF0aW9uX3RpbGVzX3ZhbGlkaXR5W2xdW21dICYmIHJvdyA+PSAwICYmIHJvdyA8IDUgJiYgY29sID4gMCAmJiBjb2wgPCA1KQ0KCQkJCQkJCQkJCXsNCgkJCQkJCQkJCQkJbXV0YXRpb25fdGlsZXMucHVzaChbcm93LCBjb2xdKTsNCgkJCQkJCQkJCQl9DQoJCQkJCQkJCQl9DQoJCQkJCQkJCX0NCgkJCQkJCQkJDQoJCQkJCQkJCQ0KCQkJCQkJCQkNCgkJCQkJCQkJbGV0IGtleV90b19wbGFudCA9IHRoaXMubXV0YXRpb25fc2V0dXBzW3BsYW50LmtleV0udHJ5X3dpdGhvdXRfcmVwbGFudGluZ19wYXJ0bmVyW2tdOwkNCgkJCQkJCQkJDQoJCQkJCQkJCWxldCB0aWNrc190b193YWl0ID0gMDsNCgkJCQkJCQkJDQoJCQkJCQkJCWlmIChrZXlfdG9fcGxhbnQgIT09ICIiKQ0KCQkJCQkJCQl7DQoJCQkJCQkJCQlsZXQgZmFzdF90aWNrcyA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW2tleV90b19wbGFudF0ubWF0dXJlIC8gKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW2tleV90b19wbGFudF0uYWdlVGljayArIEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW2tleV90b19wbGFudF0uYWdlVGlja1IgLyAyKTsNCgkJCQkNCgkJCQkJCQkJCWxldCBzbG93X3RpY2tzID0gR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNbcGxhbnQua2V5XS5tYXR1cmUgLyAoR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNbcGxhbnQua2V5XS5hZ2VUaWNrICsgR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNbcGxhbnQua2V5XS5hZ2VUaWNrUiAvIDIpOw0KCQkJCQkJCQkJDQoJCQkJCQkJCQl0aWNrc190b193YWl0ID0gTWF0aC5tYXgoTWF0aC5mbG9vcihzbG93X3RpY2tzIC0gZmFzdF90aWNrcyksIDApOw0KCQkJCQkJCQl9DQoJCQkJCQkJCQ0KCQkJCQkJCQkNCgkJCQkJCQkJDQoJCQkJCQkJCXRoaXMuc2Vjb25kYXJ5X3RhcmdldHNba2V5XSA9DQoJCQkJCQkJCXsNCgkJCQkJCQkJCXNvdXJjZV90aWxlOiBbaSwgal0sDQoJCQkJCQkJCQlzb3VyY2Vfa2V5OiBwbGFudC5rZXksDQoJCQkJCQkJCQl0aWxlczogdGlsZXMsDQoJCQkJCQkJCQl0aWNrc190b193YWl0OiB0aWNrc190b193YWl0LA0KCQkJCQkJCQkJa2V5X3RvX3BsYW50OiBrZXlfdG9fcGxhbnQsDQoJCQkJCQkJCQltdXRhdGlvbl90aWxlczogbXV0YXRpb25fdGlsZXMNCgkJCQkJCQkJfTsNCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQkNCgkJCXJldHVybiBmb3VuZF90YXJnZXQ7DQoJCX0sDQoJCQ0KCQkNCgkJDQoJCS8vUmVtb3ZlcyBhbGwgcGxhbnRzIHRoYXQgaGF2ZSBiZWVuIHVubG9ja2VkLCBhcmVuJ3QgY3VycmVudGx5IGJlaW5nIHVzZWQgYXMgcGFyZW50cywgYW5kIGFyZW4ndCBwYXJ0IG9mIGEgcGFybGF5LiBJZiBqcWJfc2VjdGlvbiBpcyAxLCBvbmx5IHRoZSB0b3AgNXg1IGlzIGNvbnNpZGVyZWQsIGFuZCBpZiBpdCdzIDIsIG9ubHkgdGhlIDExIG90aGVyIHNwYWNlcyBhcmUuDQoJCXJlbW92ZV91bmxvY2tlZF9wbGFudHM6IGZ1bmN0aW9uKGlnbm9yZV9wYXJlbnRzID0gZmFsc2UsIGpxYl9zZWN0aW9uID0gMCkNCgkJew0KCQkJZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspDQoJCQl7DQoJCQkJZm9yIChsZXQgaiA9IDA7IGogPCA2OyBqKyspDQoJCQkJew0KCQkJCQlpZiAoKGpxYl9zZWN0aW9uID09PSAxICYmIChpID09PSA1IHx8IGogPT09IDUpKSB8fCAoanFiX3NlY3Rpb24gPT09IDIgJiYgIShpID09PSA1IHx8IGogPT09IDUpKSkNCgkJCQkJew0KCQkJCQkJY29udGludWU7DQoJCQkJCX0NCgkJCQkJDQoJCQkJCQ0KCQkJCQkNCgkJCQkJbGV0IHRpbGUgPSBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3RbaV1bal07DQoJCQkJCQ0KCQkJCQlpZiAodGlsZVswXSA9PT0gMCkNCgkJCQkJew0KCQkJCQkJY29udGludWU7DQoJCQkJCX0NCgkJCQkJDQoJCQkJCWxldCBwbGFudCA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzQnlJZFt0aWxlWzBdIC0gMV07DQoJCQkJCQ0KCQkJCQkNCgkJCQkJDQoJCQkJCWxldCBpc19zZWNvbmRhcnlfdW5sb2NrID0gZmFsc2U7DQoJCQkJCQ0KCQkJCQlmb3IgKGxldCBrZXkgaW4gdGhpcy5zZWNvbmRhcnlfdGFyZ2V0cykNCgkJCQkJew0KCQkJCQkJaWYgKHBsYW50LmtleSA9PT0gdGhpcy5zZWNvbmRhcnlfdGFyZ2V0c1trZXldLmtleV90b19wbGFudCkNCgkJCQkJCXsNCgkJCQkJCQlmb3IgKGxldCBrID0gMDsgayA8IHRoaXMuc2Vjb25kYXJ5X3RhcmdldHNba2V5XS50aWxlcy5sZW5ndGg7IGsrKykNCgkJCQkJCQl7DQoJCQkJCQkJCWlmICh0aGlzLnNlY29uZGFyeV90YXJnZXRzW2tleV0udGlsZXNba11bMF0gPT09IGkgJiYgdGhpcy5zZWNvbmRhcnlfdGFyZ2V0c1trZXldLnRpbGVzW2tdWzFdID09PSBqKQ0KCQkJCQkJCQl7DQoJCQkJCQkJCQlpc19zZWNvbmRhcnlfdW5sb2NrID0gdHJ1ZTsNCgkJCQkJCQkJCQ0KCQkJCQkJCQkJYnJlYWs7DQoJCQkJCQkJCX0NCgkJCQkJCQl9DQoJCQkJCQkJDQoJCQkJCQkJaWYgKGlzX3NlY29uZGFyeV91bmxvY2spDQoJCQkJCQkJew0KCQkJCQkJCQlicmVhazsNCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJDQoJCQkJCQ0KCQkJCQkNCgkJCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW3BsYW50LmtleV0udW5sb2NrZWQgJiYgKGlnbm9yZV9wYXJlbnRzIHx8IHRoaXMuc2VlZF90b191bmxvY2sgPT09ICIiIHx8IHRoaXMubXV0YXRpb25fc2V0dXBzW3RoaXMuc2VlZF90b191bmxvY2tdLnBhcmVudHMuaW5kZXhPZihwbGFudC5rZXkpID09PSAtMSkgJiYgIWlzX3NlY29uZGFyeV91bmxvY2spDQoJCQkJCXsNCgkJCQkJCXRoaXMuaGFydmVzdF9wbGFudChqLCBpKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfSwNCgkJDQoJCQ0KCQkNCgkJcmVtb3ZlX25vbl91bmxvY2tlZF9kdXBsaWNhdGVzOiBmdW5jdGlvbigpDQoJCXsNCgkJCWxldCBub25fdW5sb2NrZWRfcGxhbnRzID0ge307DQoJCQkNCgkJCWZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKQ0KCQkJew0KCQkJCWZvciAobGV0IGogPSAwOyBqIDwgNjsgaisrKQ0KCQkJCXsNCgkJCQkJbGV0IHRpbGUgPSBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3RbaV1bal07DQoJCQkJCQ0KCQkJCQlpZiAodGlsZVswXSA9PT0gMCkNCgkJCQkJew0KCQkJCQkJY29udGludWU7DQoJCQkJCX0NCgkJCQkJDQoJCQkJCWxldCBwbGFudCA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzQnlJZFt0aWxlWzBdIC0gMV07DQoJCQkJCQ0KCQkJCQlpZiAoIUdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW3BsYW50LmtleV0udW5sb2NrZWQpDQoJCQkJCXsNCgkJCQkJCWlmICh0eXBlb2Ygbm9uX3VubG9ja2VkX3BsYW50c1twbGFudC5rZXldID09PSAidW5kZWZpbmVkIikNCgkJCQkJCXsNCgkJCQkJCQlub25fdW5sb2NrZWRfcGxhbnRzW3BsYW50LmtleV0gPSBbXTsNCgkJCQkJCX0NCgkJCQkJCQ0KCQkJCQkJbm9uX3VubG9ja2VkX3BsYW50c1twbGFudC5rZXldLnB1c2goW2ksIGpdKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCQ0KCQkJZm9yIChsZXQga2V5IGluIG5vbl91bmxvY2tlZF9wbGFudHMpDQoJCQl7DQoJCQkJaWYgKG5vbl91bmxvY2tlZF9wbGFudHNba2V5XS5sZW5ndGggPiAxKQ0KCQkJCXsNCgkJCQkJbGV0IG1heF9hZ2UgPSAwOw0KCQkJCQkNCgkJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBub25fdW5sb2NrZWRfcGxhbnRzW2tleV0ubGVuZ3RoOyBpKyspDQoJCQkJCXsNCgkJCQkJCWxldCByb3cgPSBub25fdW5sb2NrZWRfcGxhbnRzW2tleV1baV1bMF07DQoJCQkJCQlsZXQgY29sID0gbm9uX3VubG9ja2VkX3BsYW50c1trZXldW2ldWzFdOw0KCQkJCQkJDQoJCQkJCQlsZXQgdGlsZSA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFtyb3ddW2NvbF07DQoJCQkJCQkNCgkJCQkJCW1heF9hZ2UgPSBNYXRoLm1heChtYXhfYWdlLCB0aWxlWzFdKTsNCgkJCQkJfQ0KCQkJCQkNCgkJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBub25fdW5sb2NrZWRfcGxhbnRzW2tleV0ubGVuZ3RoOyBpKyspDQoJCQkJCXsNCgkJCQkJCWxldCByb3cgPSBub25fdW5sb2NrZWRfcGxhbnRzW2tleV1baV1bMF07DQoJCQkJCQlsZXQgY29sID0gbm9uX3VubG9ja2VkX3BsYW50c1trZXldW2ldWzFdOw0KCQkJCQkJDQoJCQkJCQlsZXQgdGlsZSA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFtyb3ddW2NvbF07DQoJCQkJCQkNCgkJCQkJCWlmICh0aWxlWzFdIDwgbWF4X2FnZSkNCgkJCQkJCXsNCgkJCQkJCQl0aGlzLmhhcnZlc3RfcGxhbnQoY29sLCByb3cpOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9LA0KCQkNCgkJDQoJCQ0KCQlmZXJ0aWxpemVyX3JlcXVlc3RzOiAwLA0KCQkNCgkJdW5sb2NrX3R5cGVfMF9sb2dpYzogZnVuY3Rpb24ocGFyZW50LCB0aWxlc19vdmVycmlkZSA9IDAsIGVtcHR5X3RpbGVzX292ZXJyaWRlID0gMCkNCgkJew0KCQkJbGV0IGlkID0gdGhpcy5tdXRhdGlvbl9zZXR1cHNbcGFyZW50XS5pZDsNCiAgICAgICAgICAgIGxldCBwbGFudCA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzQnlJZFtpZF07DQoJCQkNCgkJCWxldCBpbnRhY3QgPSAwOw0KICAgICAgICAgICAgbGV0IHBvc3NpYmx5X2ludGFjdCA9IDA7DQoJCQkNCgkJCWxldCB0aWxlcyA9IFtdOw0KCQkJbGV0IGVtcHR5X3RpbGVzID0gW107DQoJCQkNCgkJCWlmIChlbXB0eV90aWxlc19vdmVycmlkZSAhPT0gMCkNCgkJCXsNCgkJCQl0aWxlcyA9IHRpbGVzX292ZXJyaWRlOw0KCQkJCWVtcHR5X3RpbGVzID0gZW1wdHlfdGlsZXNfb3ZlcnJpZGU7DQoJCQl9DQoJCQkNCgkJCWVsc2UgaWYgKHR5cGVvZiB0aGlzLm11dGF0aW9uX3NldHVwc1t0aGlzLnNlZWRfdG9fdW5sb2NrXS50aWxlcyAhPT0gInVuZGVmaW5lZCIpDQoJCQl7DQoJCQkJdGlsZXMgPSB0aGlzLm11dGF0aW9uX3NldHVwc1t0aGlzLnNlZWRfdG9fdW5sb2NrXS50aWxlczsNCgkJCQkNCgkJCQllbXB0eV90aWxlcyA9IHRoaXMubXV0YXRpb25fc2V0dXBzW3RoaXMuc2VlZF90b191bmxvY2tdLmVtcHR5X3RpbGVzOw0KCQkJfQ0KCQkJDQoJCQllbHNlDQoJCQl7DQoJCQkJdGlsZXMgPSBbWzAsIDFdLCBbMSwgMV0sIFsyLCAxXSwgWzQsIDFdLCBbNSwgMV0sIFswLCA0XSwgWzEsIDRdLCBbMywgNF0sIFs0LCA0XSwgWzUsIDRdXTsNCgkJCQkNCgkJCQllbXB0eV90aWxlcyA9IFtbMCwgMF0sIFswLCAyXSwgWzAsIDNdLCBbMCwgNV0sIFsxLCAwXSwgWzEsIDJdLCBbMSwgM10sIFsxLCA1XSwgWzIsIDBdLCBbMiwgMl0sIFsyLCAzXSwgWzIsIDRdLCBbMiwgNV0sIFszLCAwXSwgWzMsIDFdLCBbMywgMl0sIFszLCAzXSwgWzMsIDVdLCBbNCwgMF0sIFs0LCAyXSwgWzQsIDNdLCBbNCwgNV0sIFs1LCAwXSwgWzUsIDJdLCBbNSwgM10sIFs1LCA1XV07DQoJCQl9DQoJCQkNCgkJCS8vSWYgbW9yZSB0aGFuIGhhbGYgdGhlIHBsYW50cyBhcmUgbWlzc2luZywgd2Ugc2NyYXAgYW5kIHJlcGxhbnQuDQoJCQlmb3IgKGxldCBpID0gMDsgaSA8IHRpbGVzLmxlbmd0aDsgaSsrKQ0KCQkJew0KCQkJCWlmIChHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3RbdGlsZXNbaV1bMF1dW3RpbGVzW2ldWzFdXVswXSAtIDEgPT09IGlkKQ0KCQkJCXsNCgkJCQkJaW50YWN0Kys7DQoJCQkJfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFt0aWxlc1tpXVswXV1bdGlsZXNbaV1bMV1dWzBdID09PSAwKQ0KCQkJCXsNCgkJCQkJaWYgKHR5cGVvZiBwbGFudC5jb250YW0gIT09ICJ1bmRlZmluZWQiICYmIHBsYW50LmNvbnRhbSAhPT0gMCkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNfdmFsaWRfZm9yX2Rhbmdlcm91c19wbGFudCh0aWxlc1tpXVsxXSwgdGlsZXNbaV1bMF0pKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmx5X2ludGFjdCsrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmx5X2ludGFjdCsrOw0KICAgICAgICAgICAgICAgICAgICB9DQoJCQkJfQ0KCQkJfQ0KCQkJDQoJCQlpZiAoKHRoaXMuc2VlZF90b191bmxvY2sgIT09ICJxdWVlbmJlZXRMdW1wIiAmJiBpbnRhY3QgPCBwb3NzaWJseV9pbnRhY3QpIHx8ICh0aGlzLnNlZWRfdG9fdW5sb2NrID09PSAicXVlZW5iZWV0THVtcCIgJiYgcG9zc2libHlfaW50YWN0ID49IDIpKQ0KCQkJew0KCQkJCS8vRWFzeSAtLSBqdXN0IHBsYW50IGEgYnVuY2guDQoJCQkJbGV0IGFyZyA9IHRoaXMuc2VlZF90b191bmxvY2sgPT09ICJxdWVlbmJlZXRMdW1wIiA/IDEgOiAwOw0KCQkJCQ0KCQkJCWlmIChlbXB0eV90aWxlc19vdmVycmlkZSAhPT0gMCkNCgkJCQl7DQoJCQkJCWFyZyA9IDI7DQoJCQkJfQ0KCQkJCQ0KCQkJCWlmIChhcmcgPT09IDEgJiYgR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNbImVsZGVyd29ydCJdLnVubG9ja2VkKQ0KCQkJCXsNCgkJCQkJYXJnID0gMDsNCgkJCQl9DQoJCQkJDQoJCQkJdGhpcy5yZW1vdmVfdW5sb2NrZWRfcGxhbnRzKHRydWUsIGFyZyk7DQoJCQkJDQoJCQkJDQoJCQkJDQoJCQkJLy9UaGUgSlFCIHNldHVwIGlzIHNvIHRpbWUtY29uc3VtaW5nIHRoYXQgd2Ugd2FpdCB0byBwbGFudCB0aGVtIHVudGlsIHRoZSBhcmVhIGlzIGNsZWFyLg0KCQkJCWlmICh0aGlzLnNlZWRfdG9fdW5sb2NrID09PSAicXVlZW5iZWV0THVtcCIpDQoJCQkJew0KCQkJCQlpbnRhY3QgPSAwOw0KCQkJCQkNCgkJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCB0aWxlcy5sZW5ndGg7IGkrKykNCgkJCQkJew0KCQkJCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFt0aWxlc1tpXVswXV1bdGlsZXNbaV1bMV1dWzBdICE9PSAwKQ0KCQkJCQkJew0KCQkJCQkJCWludGFjdCsrOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCQ0KCQkJCQlpZiAoaW50YWN0ICE9PSAwKQ0KCQkJCQl7DQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCgkJCQkJDQoJCQkJCS8vSWYgd2UndmUgZ290IGVsZGVyd29ydCwgaXQncyB0aW1lIHRvIHN3aXRjaCB0byBhIDZ4Ni4NCgkJCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzWyJlbGRlcndvcnQiXS51bmxvY2tlZCkNCgkJCQkJew0KCQkJCQkJaWYgKHRoaXMubXV0YXRpb25fc2V0dXBzLnF1ZWVuYmVldEx1bXAuZW1wdHlfdGlsZXNbM11bMF0gPT09IDMpDQoJCQkJCQl7DQoJCQkJCQkJLy9XZSBhbHNvIHNjcmFwICpldmVyeXRoaW5nKiBzbyB3ZSBkb24ndCBnZXQgc3R1Y2sgdGFyZ2V0aW5nIG9sZCBwbGFudHMuDQoJCQkJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspDQoJCQkJCQkJew0KCQkJCQkJCQlmb3IgKGxldCBqID0gMDsgaiA8IDY7IGorKykNCgkJCQkJCQkJew0KCQkJCQkJCQkJR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5oYXJ2ZXN0KGosIGksIHRydWUpOw0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQkJDQoJCQkJCQl0aGlzLm11dGF0aW9uX3NldHVwcy5xdWVlbmJlZXRMdW1wID0gDQoJCQkJCQl7DQoJCQkJCQkJaWQ6IDIxLA0KCQkJCQkJCXR5cGU6IDAsDQoJCQkJCQkJcGFyZW50czogWyJxdWVlbmJlZXQiXSwNCgkJCQkJCQkNCgkJCQkJCQl0aWxlczogW1swLCAwXSwgWzAsIDFdLCBbMCwgMl0sIFswLCAzXSwgWzAsIDRdLCBbMCwgNV0sIFsxLCAwXSwgWzEsIDJdLCBbMSwgM10sIFsxLCA1XSwgWzIsIDBdLCBbMiwgMV0sIFsyLCAyXSwgWzIsIDNdLCBbMiwgNF0sIFsyLCA1XSwgWzMsIDBdLCBbMywgMV0sIFszLCAyXSwgWzMsIDNdLCBbMywgNF0sIFszLCA1XSwgWzQsIDBdLCBbNCwgMl0sIFs0LCAzXSwgWzQsIDVdLCBbNSwgMF0sIFs1LCAxXSwgWzUsIDJdLCBbNSwgM10sIFs1LCA0XSwgWzUsIDVdXSwNCgkJCQkJCQ0KCQkJCQkJCWVtcHR5X3RpbGVzOiBbWzEsIDFdLCBbMSwgNF0sIFs0LCAxXSwgWzQsIDRdXQ0KCQkJCQkJfTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQkNCgkJCQkNCgkJCQkNCgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IHRpbGVzLmxlbmd0aDsgaSsrKQ0KCQkJCXsNCgkJCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFt0aWxlc1tpXVswXV1bdGlsZXNbaV1bMV1dWzBdID09PSAwKQ0KCQkJCQl7DQoJCQkJCQl0aGlzLnBsYW50X3NlZWQoaWQsIHRpbGVzW2ldWzFdLCB0aWxlc1tpXVswXSk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQkNCgkJCQ0KCQkJDQoJCQkvL0luIHRoZSB1bmlxdWUgY2FzZSB3aGVyZSB0aGUgc2xvdyBwbGFudCBpcyBpbW1vcnRhbCwgd2Ugc2hvdWxkIGFsd2F5cyB0cnkgdG8gZmlsbCBnYXBzLg0KCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW3BhcmVudF0uaW1tb3J0YWwpDQoJCQl7DQoJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCB0aWxlcy5sZW5ndGg7IGkrKykNCgkJCQl7DQoJCQkJCWlmIChHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3RbdGlsZXNbaV1bMF1dW3RpbGVzW2ldWzFdXVswXSA9PT0gMCkNCgkJCQkJew0KCQkJCQkJdGhpcy5wbGFudF9zZWVkKGlkLCB0aWxlc1tpXVsxXSwgdGlsZXNbaV1bMF0pOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQkJDQoJCQkNCgkJCQ0KCQkJbGV0IG1hdHVyZSA9IDA7DQoJCQkNCgkJCWZvciAobGV0IGkgPSAwOyBpIDwgdGlsZXMubGVuZ3RoOyBpKyspDQoJCQl7DQoJCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFt0aWxlc1tpXVswXV1bdGlsZXNbaV1bMV1dWzBdICE9PSAwICYmIEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFt0aWxlc1tpXVswXV1bdGlsZXNbaV1bMV1dWzFdID49IHBsYW50Lm1hdHVyZSkNCgkJCQl7DQoJCQkJCW1hdHVyZSsrOw0KCQkJCX0NCgkJCX0NCgkJCQ0KCQkJaWYgKG1hdHVyZSA+PSB0aWxlcy5sZW5ndGggLyAzKQ0KCQkJew0KCQkJCXRoaXMuY2hhbmdlX3NvaWwoNCk7DQoJCQl9DQoJCQkNCgkJCWVsc2UNCgkJCXsNCgkJCQlpZiAoZW1wdHlfdGlsZXNfb3ZlcnJpZGUgPT09IDAgJiYgKHRoaXMuc2VlZF90b191bmxvY2sgIT09ICJxdWVlbmJlZXRMdW1wIiB8fCB0aGlzLnNlZWRfdG9fdW5sb2NrID09PSAicXVlZW5iZWV0THVtcCIgJiYgR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNbImVsZGVyd29ydCJdLnVubG9ja2VkKSkNCgkJCQl7DQoJCQkJCXRoaXMuY2hhbmdlX3NvaWwoMSk7DQoJCQkJfQ0KCQkJCQ0KCQkJCWVsc2UNCgkJCQl7DQoJCQkJCXRoaXMuZmVydGlsaXplcl9yZXF1ZXN0cysrOw0KCQkJCX0NCgkJCX0NCgkJCQ0KCQkJDQoJCQkNCgkJCS8vSWYgd2UndmUgcmVhY2hlZCB0aGlzIHBvaW50LCB3ZSBrbm93IHRoYXQgdGhlIHRhcmdldGVkIHBsYW50IGlzIG5vdCBoZXJlIHlldC4gVGhlcmVmb3JlLCBhbnkgdW5sb2NrZWQgcGxhbnRzIG5vdCBpbiB0aGUgc2V0dXAgc2hvdWxkIGJlIGNsZWFyZWQuDQoJCQlmb3IgKGxldCBpID0gMDsgaSA8IGVtcHR5X3RpbGVzLmxlbmd0aDsgaSsrKQ0KCQkJew0KCQkJCWxldCBpZCA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFtlbXB0eV90aWxlc1tpXVswXV1bZW1wdHlfdGlsZXNbaV1bMV1dWzBdIC0gMTsNCgkJCQkNCgkJCQlpZiAoaWQgPT09IC0xKQ0KCQkJCXsNCgkJCQkJY29udGludWU7DQoJCQkJfQ0KCQkJCQ0KCQkJCWxldCBwbGFudCA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzQnlJZFtpZF07DQoJCQkJDQoJCQkJDQoJCQkJDQoJCQkJbGV0IGlzX3NlY29uZGFyeV91bmxvY2sgPSBmYWxzZTsNCgkJCQkNCgkJCQlmb3IgKGxldCBrZXkgaW4gdGhpcy5zZWNvbmRhcnlfdGFyZ2V0cykNCgkJCQl7DQoJCQkJCWlmIChwbGFudC5rZXkgPT09IHRoaXMuc2Vjb25kYXJ5X3RhcmdldHNba2V5XS5rZXlfdG9fcGxhbnQpDQoJCQkJCXsNCgkJCQkJCWZvciAobGV0IGsgPSAwOyBrIDwgdGhpcy5zZWNvbmRhcnlfdGFyZ2V0c1trZXldLnRpbGVzLmxlbmd0aDsgaysrKQ0KCQkJCQkJew0KCQkJCQkJCWlmICh0aGlzLnNlY29uZGFyeV90YXJnZXRzW2tleV0udGlsZXNba11bMF0gPT09IGVtcHR5X3RpbGVzW2ldWzBdICYmIHRoaXMuc2Vjb25kYXJ5X3RhcmdldHNba2V5XS50aWxlc1trXVsxXSA9PT0gZW1wdHlfdGlsZXNbaV1bMV0pDQoJCQkJCQkJew0KCQkJCQkJCQlpc19zZWNvbmRhcnlfdW5sb2NrID0gdHJ1ZTsNCgkJCQkJCQkJDQoJCQkJCQkJCWJyZWFrOw0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJCQ0KCQkJCQkJaWYgKGlzX3NlY29uZGFyeV91bmxvY2spDQoJCQkJCQl7DQoJCQkJCQkJYnJlYWs7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQkJDQoJCQkJDQoJCQkJDQoJCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW3BsYW50LmtleV0udW5sb2NrZWQgJiYgIWlzX3NlY29uZGFyeV91bmxvY2spDQoJCQkJew0KCQkJCQl0aGlzLmhhcnZlc3RfcGxhbnQoZW1wdHlfdGlsZXNbaV1bMV0sIGVtcHR5X3RpbGVzW2ldWzBdKTsNCgkJCQl9DQoJCQl9DQoJCX0sDQoJCQ0KCQkNCgkJDQoJCXRpY2tzX3VudGlsX2Zhc3RfcGxhbnRzOiAtMSwNCgkJDQoJCXVubG9ja190eXBlXzFfbG9naWM6IGZ1bmN0aW9uKGZhc3RfcGFyZW50LCBzbG93X3BhcmVudCwgZmFzdF90aWxlc19vdmVycmlkZSA9IDAsIHNsb3dfdGlsZXNfb3ZlcnJpZGUgPSAwLCBlbXB0eV90aWxlc19vdmVycmlkZSA9IDApDQoJCXsNCgkJCWxldCBmYXN0X2lkID0gdGhpcy5tdXRhdGlvbl9zZXR1cHNbZmFzdF9wYXJlbnRdLmlkOw0KCQkJbGV0IHNsb3dfaWQgPSB0aGlzLm11dGF0aW9uX3NldHVwc1tzbG93X3BhcmVudF0uaWQ7DQoJCQkNCgkJCWxldCBmYXN0X3BsYW50ID0gR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNCeUlkW2Zhc3RfaWRdOw0KCQkJbGV0IHNsb3dfcGxhbnQgPSBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsYW50c0J5SWRbc2xvd19pZF07DQoJCQkNCgkJCWxldCBmYXN0X3RpbGVzID0gW107DQoJCQlsZXQgc2xvd190aWxlcyA9IFtdOw0KCQkJDQoJCQlsZXQgZW1wdHlfdGlsZXMgPSBbXTsNCgkJCQ0KCQkJDQoJCQkNCgkJCWlmIChlbXB0eV90aWxlc19vdmVycmlkZSAhPT0gMCkNCgkJCXsNCgkJCQlmYXN0X3RpbGVzID0gZmFzdF90aWxlc19vdmVycmlkZTsNCgkJCQlzbG93X3RpbGVzID0gc2xvd190aWxlc19vdmVycmlkZTsNCgkJCQllbXB0eV90aWxlcyA9IGVtcHR5X3RpbGVzX292ZXJyaWRlOw0KCQkJfQ0KCQkJDQoJCQllbHNlIGlmICh0eXBlb2YgdGhpcy5tdXRhdGlvbl9zZXR1cHNbdGhpcy5zZWVkX3RvX3VubG9ja10uZW1wdHlfdGlsZXMgIT09ICJ1bmRlZmluZWQiKQ0KCQkJew0KCQkJCWZhc3RfdGlsZXMgPSB0aGlzLm11dGF0aW9uX3NldHVwc1t0aGlzLnNlZWRfdG9fdW5sb2NrXS5mYXN0X3RpbGVzOw0KCQkJCXNsb3dfdGlsZXMgPSB0aGlzLm11dGF0aW9uX3NldHVwc1t0aGlzLnNlZWRfdG9fdW5sb2NrXS5zbG93X3RpbGVzOw0KCQkJCQ0KCQkJCWVtcHR5X3RpbGVzID0gdGhpcy5tdXRhdGlvbl9zZXR1cHNbdGhpcy5zZWVkX3RvX3VubG9ja10uZW1wdHlfdGlsZXM7DQoJCQl9DQoJCQkNCgkJCWVsc2UNCgkJCXsNCgkJCQlmYXN0X3RpbGVzID0gW1swLCAxXSwgWzIsIDFdLCBbNSwgMV0sIFsxLCA0XSwgWzQsIDRdXTsNCgkJCQlzbG93X3RpbGVzID0gW1sxLCAxXSwgWzQsIDFdLCBbMCwgNF0sIFszLCA0XSwgWzUsIDRdXTsNCgkJCQkNCgkJCQllbXB0eV90aWxlcyA9IFtbMCwgMF0sIFswLCAyXSwgWzAsIDNdLCBbMCwgNV0sIFsxLCAwXSwgWzEsIDJdLCBbMSwgM10sIFsxLCA1XSwgWzIsIDBdLCBbMiwgMl0sIFsyLCAzXSwgWzIsIDRdLCBbMiwgNV0sIFszLCAwXSwgWzMsIDFdLCBbMywgMl0sIFszLCAzXSwgWzMsIDVdLCBbNCwgMF0sIFs0LCAyXSwgWzQsIDNdLCBbNCwgNV0sIFs1LCAwXSwgWzUsIDJdLCBbNSwgM10sIFs1LCA1XV07DQoJCQl9DQoJCQkNCgkJCQ0KCQkJDQoJCQkvL0lmIG1vcmUgdGhhbiBoYWxmIHRoZSBzbG93IHBsYW50cyBhcmUgbWlzc2luZywgd2Ugc2hvdWxkIHJlcGxhbnQgZXZlcnl0aGluZy4NCgkJCWxldCBpbnRhY3QgPSAwOw0KICAgICAgICAgICAgbGV0IHBvc3NpYmx5X2ludGFjdCA9IDA7DQoJCQkNCgkJCWZvciAobGV0IGkgPSAwOyBpIDwgc2xvd190aWxlcy5sZW5ndGg7IGkrKykNCgkJCXsNCgkJCQlpZiAoR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbG90W3Nsb3dfdGlsZXNbaV1bMF1dW3Nsb3dfdGlsZXNbaV1bMV1dWzBdIC0gMSA9PT0gc2xvd19pZCkNCgkJCQl7DQoJCQkJCWludGFjdCsrOw0KCQkJCX0NCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBlbHNlIGlmIChHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3Rbc2xvd190aWxlc1tpXVswXV1bc2xvd190aWxlc1tpXVsxXV1bMF0gPT09IDApDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAvL0hlcmUgd2UgaGF2ZSB0byBkb3VibGUgY2hlY2sgdGhhdCB0aGlzIGlzIGFjdHVhbGx5IGEgc3BvdCB0aGF0IGNvdWxkIGJlIHBsYW50ZWQgaW4uDQogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2xvd19wbGFudC5jb250YW0gIT09ICJ1bmRlZmluZWQiICYmIHNsb3dfcGxhbnQuY29udGFtICE9PSAwKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc192YWxpZF9mb3JfZGFuZ2Vyb3VzX3BsYW50KHNsb3dfdGlsZXNbaV1bMV0sIHNsb3dfdGlsZXNbaV1bMF0pKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmx5X2ludGFjdCsrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmx5X2ludGFjdCsrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KCQkJfQ0KCQkJDQoJCQlpZiAoaW50YWN0IDwgcG9zc2libHlfaW50YWN0KQ0KCQkJew0KCQkJCS8vV2Ugc3RhcnQgd2l0aCB0aGUgc2xvdyBvbmVzLg0KCQkJCWxldCBhcmcgPSB0aGlzLnNlZWRfdG9fdW5sb2NrID09PSAicXVlZW5iZWV0THVtcCIgPyAxIDogMDsNCgkJCQkNCgkJCQlpZiAoZW1wdHlfdGlsZXNfb3ZlcnJpZGUgIT09IDApDQoJCQkJew0KCQkJCQlhcmcgPSAyOw0KCQkJCX0NCgkJCQkNCgkJCQl0aGlzLnJlbW92ZV91bmxvY2tlZF9wbGFudHModHJ1ZSwgYXJnKTsNCgkJCQkNCgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IHNsb3dfdGlsZXMubGVuZ3RoOyBpKyspDQoJCQkJew0KCQkJCQlpZiAoR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbG90W3Nsb3dfdGlsZXNbaV1bMF1dW3Nsb3dfdGlsZXNbaV1bMV1dWzBdID09PSAwKQ0KCQkJCQl7DQoJCQkJCQl0aGlzLnBsYW50X3NlZWQoc2xvd19pZCwgc2xvd190aWxlc1tpXVsxXSwgc2xvd190aWxlc1tpXVswXSk7DQoJCQkJCX0NCgkJCQl9DQoJCQkJDQoJCQkJdGhpcy50aWNrc191bnRpbF9mYXN0X3BsYW50cyA9IC0xOw0KCQkJfQ0KCQkJDQoJCQkvL0luIHRoZSB1bmlxdWUgY2FzZSB3aGVyZSB0aGUgc2xvdyBwbGFudCBpcyBpbW1vcnRhbCwgd2Ugc2hvdWxkIGFsd2F5cyB0cnkgdG8gZmlsbCBnYXBzLg0KCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW3Nsb3dfcGFyZW50XS5pbW1vcnRhbCkNCgkJCXsNCgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IHNsb3dfdGlsZXMubGVuZ3RoOyBpKyspDQoJCQkJew0KCQkJCQlpZiAoR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbG90W3Nsb3dfdGlsZXNbaV1bMF1dW3Nsb3dfdGlsZXNbaV1bMV1dWzBdID09PSAwKQ0KCQkJCQl7DQoJCQkJCQl0aGlzLnBsYW50X3NlZWQoc2xvd19pZCwgc2xvd190aWxlc1tpXVsxXSwgc2xvd190aWxlc1tpXVswXSk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQkNCgkJCQ0KCQkJDQoJCQlsZXQgbWF0dXJlID0gMDsNCgkJCQ0KCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBzbG93X3RpbGVzLmxlbmd0aDsgaSsrKQ0KCQkJew0KCQkJCWlmIChHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3Rbc2xvd190aWxlc1tpXVswXV1bc2xvd190aWxlc1tpXVsxXV1bMF0gIT09IDAgJiYgR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbG90W3Nsb3dfdGlsZXNbaV1bMF1dW3Nsb3dfdGlsZXNbaV1bMV1dWzFdID49IHNsb3dfcGxhbnQubWF0dXJlKQ0KCQkJCXsNCgkJCQkJbWF0dXJlKys7DQoJCQkJfQ0KCQkJfQ0KCQkJDQoJCQkvL0F0IHRoaXMgcG9pbnQsIHRoZSBzbG93IHBsYW50cyBhcmUgZ3VhcmFudGVlZCB0byBiZSBpbnRhY3QsIHNvIHdlIGNhbiB0ZXN0IGlmIGl0J3MgdGhlIHJpZ2h0IHRpbWUgdG8gcGxhbnQgdGhlIGZhc3Qgb25lcy4NCgkJCWlmICh0aGlzLnRpY2tzX3VudGlsX2Zhc3RfcGxhbnRzID09PSAtMSkNCgkJCXsNCgkJCQlpZiAobWF0dXJlID09PSAwKQ0KCQkJCXsNCgkJCQkJbGV0IGZhc3RfdGlja3MgPSBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsYW50c1tmYXN0X3BsYW50LmtleV0ubWF0dXJlIC8gKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW2Zhc3RfcGxhbnQua2V5XS5hZ2VUaWNrICsgR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNbZmFzdF9wbGFudC5rZXldLmFnZVRpY2tSIC8gMik7DQoJCQkJCQ0KCQkJCQlsZXQgc2xvd190aWNrcyA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW3Nsb3dfcGxhbnQua2V5XS5tYXR1cmUgLyAoR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNbc2xvd19wbGFudC5rZXldLmFnZVRpY2sgKyBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsYW50c1tzbG93X3BsYW50LmtleV0uYWdlVGlja1IgLyAyKTsNCgkJCQkJDQoJCQkJCXRoaXMudGlja3NfdW50aWxfZmFzdF9wbGFudHMgPSBNYXRoLm1heChNYXRoLmZsb29yKHNsb3dfdGlja3MgLSBmYXN0X3RpY2tzKSwgMCk7DQoJCQkJfQ0KCQkJCQ0KCQkJCWVsc2UNCgkJCQl7DQoJCQkJCXRoaXMudGlja3NfdW50aWxfZmFzdF9wbGFudHMgPSAwOw0KCQkJCX0NCgkJCX0NCgkJCQ0KCQkJDQoJCQkNCgkJCWludGFjdCA9IDA7DQoJCQkNCgkJCWZvciAobGV0IGkgPSAwOyBpIDwgZmFzdF90aWxlcy5sZW5ndGg7IGkrKykNCgkJCXsNCgkJCQlpZiAoR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbG90W2Zhc3RfdGlsZXNbaV1bMF1dW2Zhc3RfdGlsZXNbaV1bMV1dWzBdIC0gMSA9PT0gZmFzdF9pZCkNCgkJCQl7DQoJCQkJCWludGFjdCsrOw0KCQkJCX0NCgkJCX0NCgkJCQ0KCQkJLy9UZXN0aW5nIGlmIHRoaXMgaXMgemVybyBhbmQgbm90IGp1c3QgbG93IGlzIGltcG9ydGFudCBmb3IgZXZlcmRhaXNpZXMgYW5kIGlzbid0IGEgYmlnIGluZWZmaWNpZW5jeS4NCgkJCWlmIChpbnRhY3QgPT09IDAgJiYgdGhpcy50aWNrc191bnRpbF9mYXN0X3BsYW50cyA9PT0gMCkNCgkJCXsNCgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IGZhc3RfdGlsZXMubGVuZ3RoOyBpKyspDQoJCQkJew0KCQkJCQlpZiAoR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbG90W2Zhc3RfdGlsZXNbaV1bMF1dW2Zhc3RfdGlsZXNbaV1bMV1dWzBdID09PSAwKQ0KCQkJCQl7DQoJCQkJCQl0aGlzLnBsYW50X3NlZWQoZmFzdF9pZCwgZmFzdF90aWxlc1tpXVsxXSwgZmFzdF90aWxlc1tpXVswXSk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQkNCgkJCQ0KCQkJDQoJCQltYXR1cmUgPSAwOw0KCQkJDQoJCQlmb3IgKGxldCBpID0gMDsgaSA8IGZhc3RfdGlsZXMubGVuZ3RoOyBpKyspDQoJCQl7DQoJCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFtmYXN0X3RpbGVzW2ldWzBdXVtmYXN0X3RpbGVzW2ldWzFdXVswXSAhPT0gMCAmJiBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3RbZmFzdF90aWxlc1tpXVswXV1bZmFzdF90aWxlc1tpXVsxXV1bMV0gPj0gZmFzdF9wbGFudC5tYXR1cmUpDQoJCQkJew0KCQkJCQltYXR1cmUrKzsNCgkJCQl9DQoJCQl9DQoJCQkNCgkJCWlmIChtYXR1cmUgPj0gZmFzdF90aWxlcy5sZW5ndGggLyAzKQ0KCQkJew0KCQkJCXRoaXMuY2hhbmdlX3NvaWwoNCk7DQoJCQl9DQoJCQkNCgkJCWVsc2UNCgkJCXsNCgkJCQlpZiAoZW1wdHlfdGlsZXNfb3ZlcnJpZGUgPT09IDAgJiYgKHRoaXMuc2VlZF90b191bmxvY2sgIT09ICJxdWVlbmJlZXRMdW1wIiB8fCB0aGlzLnNlZWRfdG9fdW5sb2NrID09PSAicXVlZW5iZWV0THVtcCIgJiYgR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNbImVsZGVyd29ydCJdLnVubG9ja2VkKSkNCgkJCQl7DQoJCQkJCXRoaXMuY2hhbmdlX3NvaWwoMSk7DQoJCQkJfQ0KCQkJCQ0KCQkJCWVsc2UNCgkJCQl7DQoJCQkJCXRoaXMuZmVydGlsaXplcl9yZXF1ZXN0cysrOw0KCQkJCX0NCgkJCX0NCgkJCQ0KCQkJDQoJCQkNCgkJCS8vSWYgd2UndmUgcmVhY2hlZCB0aGlzIHBvaW50LCB3ZSBrbm93IHRoYXQgdGhlIHRhcmdldGVkIHBsYW50IGlzIG5vdCBoZXJlIHlldC4gVGhlcmVmb3JlLCBhbnkgdW5sb2NrZWQgcGxhbnRzIG5vdCBpbiB0aGUgc2V0dXAgc2hvdWxkIGJlIGNsZWFyZWQuDQoJCQlmb3IgKGxldCBpID0gMDsgaSA8IGVtcHR5X3RpbGVzLmxlbmd0aDsgaSsrKQ0KCQkJew0KCQkJCWxldCBpZCA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFtlbXB0eV90aWxlc1tpXVswXV1bZW1wdHlfdGlsZXNbaV1bMV1dWzBdIC0gMTsNCgkJCQkNCgkJCQlpZiAoaWQgPT09IC0xKQ0KCQkJCXsNCgkJCQkJY29udGludWU7DQoJCQkJfQ0KCQkJCQ0KCQkJCWxldCBwbGFudCA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzQnlJZFtpZF07DQoJCQkJDQoJCQkJDQoJCQkJDQoJCQkJbGV0IGlzX3NlY29uZGFyeV91bmxvY2sgPSBmYWxzZTsNCgkJCQkNCgkJCQlmb3IgKGxldCBrZXkgaW4gdGhpcy5zZWNvbmRhcnlfdGFyZ2V0cykNCgkJCQl7DQoJCQkJCWlmIChwbGFudC5rZXkgPT09IHRoaXMuc2Vjb25kYXJ5X3RhcmdldHNba2V5XS5rZXlfdG9fcGxhbnQpDQoJCQkJCXsNCgkJCQkJCWZvciAobGV0IGsgPSAwOyBrIDwgdGhpcy5zZWNvbmRhcnlfdGFyZ2V0c1trZXldLnRpbGVzLmxlbmd0aDsgaysrKQ0KCQkJCQkJew0KCQkJCQkJCWlmICh0aGlzLnNlY29uZGFyeV90YXJnZXRzW2tleV0udGlsZXNba11bMF0gPT09IGVtcHR5X3RpbGVzW2ldWzBdICYmIHRoaXMuc2Vjb25kYXJ5X3RhcmdldHNba2V5XS50aWxlc1trXVsxXSA9PT0gZW1wdHlfdGlsZXNbaV1bMV0pDQoJCQkJCQkJew0KCQkJCQkJCQlpc19zZWNvbmRhcnlfdW5sb2NrID0gdHJ1ZTsNCgkJCQkJCQkJDQoJCQkJCQkJCWJyZWFrOw0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJCQ0KCQkJCQkJaWYgKGlzX3NlY29uZGFyeV91bmxvY2spDQoJCQkJCQl7DQoJCQkJCQkJYnJlYWs7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQkJDQoJCQkJDQoJCQkJDQoJCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW3BsYW50LmtleV0udW5sb2NrZWQgJiYgIWlzX3NlY29uZGFyeV91bmxvY2spDQoJCQkJew0KCQkJCQl0aGlzLmhhcnZlc3RfcGxhbnQoZW1wdHlfdGlsZXNbaV1bMV0sIGVtcHR5X3RpbGVzW2ldWzBdKTsNCgkJCQl9DQoJCQl9DQoJCX0sDQoJCQ0KCQkNCgkJDQoJCS8vQXBwbHkgZmVydGlsaXplciBhbmQgd2FpdC4NCgkJdW5sb2NrX21lZGRsZXdlZWRfbG9naWM6IGZ1bmN0aW9uKCkNCgkJew0KCQkJdGhpcy5jaGFuZ2Vfc29pbCgxKTsNCgkJfSwNCgkJDQoJCQ0KCQkNCgkJLy9Hcm93IGEgZnVsbCBwbG90IG9mIG1lZGRsZXdlZWQgYW5kIGhhcnZlc3Qgd2hlbiB2ZXJ5IG9sZC4NCgkJdW5sb2NrX2NydW1ic3BvcmVfYnJvd25Nb2xkX2xvZ2ljOiBmdW5jdGlvbigpDQoJCXsNCgkJCXRoaXMuY2hhbmdlX3NvaWwoMSk7DQoJCQkNCgkJCS8vUmVtb3ZlIGFueSBub24td2VlZC4NCgkJCWZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKQ0KCQkJew0KCQkJCWZvciAobGV0IGogPSAwOyBqIDwgNjsgaisrKQ0KCQkJCXsNCgkJCQkJbGV0IHRpbGUgPSBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3RbaV1bal07DQoJCQkJCQ0KCQkJCQlpZiAodGlsZVswXSA9PT0gMCkNCgkJCQkJew0KCQkJCQkJLy9QbGFudCBtZWRkbGV3ZWVkLg0KCQkJCQkJdGhpcy5wbGFudF9zZWVkKHRoaXMubXV0YXRpb25fc2V0dXBzLm1lZGRsZXdlZWQuaWQsIGosIGkpOw0KCQkJCQkJDQoJCQkJCQljb250aW51ZTsNCgkJCQkJfQ0KCQkJCQkNCgkJCQkJbGV0IHBsYW50ID0gR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNCeUlkW3RpbGVbMF0gLSAxXTsNCgkJCQkJDQoJCQkJCWlmICgocGxhbnQua2V5ID09PSAibWVkZGxld2VlZCIgJiYgdGlsZVsxXSA+IDg1KSB8fCAocGxhbnQua2V5ICE9PSAibWVkZGxld2VlZCIgJiYgR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNbcGxhbnQua2V5XS51bmxvY2tlZCkpDQoJCQkJCXsNCgkJCQkJCXRoaXMuaGFydmVzdF9wbGFudChqLCBpKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfSwNCgkJDQoJCQ0KCQkNCgkJY2hhbmdlX3NvaWw6IGZ1bmN0aW9uKGlkKQ0KCQl7DQoJCQlpZiAoIXRoaXMuZG9fc29pbF9yb3RhdGlvbikNCgkJCXsNCgkJCQlyZXR1cm47DQoJCQl9DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmICgoaWQgPT09IDEgJiYgR2FtZS5PYmplY3RzQnlJZFsyXS5hbW91bnQgPCA1MCkgfHwgKGlkID09PSA0ICYmIEdhbWUuT2JqZWN0c0J5SWRbMl0uYW1vdW50IDwgMzAwKSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQoJCQkNCgkJCS8vU2hyaWVrYnVsYnMgbXV0YXRlIGZyb20gRHVrZXRhdGVycyBhdCBhbnkgYWdlLg0KCQkJaWYgKHRoaXMuc2VlZF90b191bmxvY2sgPT09ICJzaHJpZWtidWxiIiAmJiBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnNvaWwgPT09IDQpDQoJCQl7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJDQoJCQlpZiAodGhpcy5uZWVkX3dvb2RjaGlwc19mb3Jfc2Vjb25kYXJ5X3RhcmdldCAmJiBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnNvaWwgPT09IDQpDQoJCQl7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJDQoJCQlpZiAoR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5zb2lsICE9PSBpZCAmJiBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLm5leHRTb2lsIDw9IERhdGUubm93KCkpDQoJCQl7DQoJCQkJR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5zb2lsID0gaWQ7DQoJCQkJDQoJCQkJR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5uZXh0U29pbCA9IERhdGUubm93KCkgKyA2MDAwMDA7DQoJCQkJDQoJCQkJdHJ5DQoJCQkJew0KCQkJCQlpZiAoaWQgPT09IDEpDQoJCQkJCXsNCgkJCQkJCWwoImdhcmRlblNvaWwtMSIpLmNsYXNzTGlzdC5hZGQoIm9uIik7DQoJCQkJCQlsKCJnYXJkZW5Tb2lsLTQiKS5jbGFzc0xpc3QucmVtb3ZlKCJvbiIpOw0KCQkJCQl9DQoJCQkJCQ0KCQkJCQllbHNlDQoJCQkJCXsNCgkJCQkJCWwoImdhcmRlblNvaWwtNCIpLmNsYXNzTGlzdC5hZGQoIm9uIik7DQoJCQkJCQlsKCJnYXJkZW5Tb2lsLTEiKS5jbGFzc0xpc3QucmVtb3ZlKCJvbiIpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCQ0KCQkJCWNhdGNoKGV4KSB7fQ0KCQkJfQ0KCQl9LA0KICAgICAgICANCiAgICAgICAgDQogICAgICAgIA0KICAgICAgICBpc192YWxpZF9mb3JfZGFuZ2Vyb3VzX3BsYW50OiBmdW5jdGlvbih4LCB5KQ0KICAgICAgICB7DQogICAgICAgICAgICBsZXQgdGlsZXMgPSBbW3ggLSAxLCB5XSwgW3ggKyAxLCB5XSwgW3gsIHkgLSAxXSwgW3gsIHkgKyAxXV07DQogICAgICAgICAgICANCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGxldCByb3cgPSB0aWxlc1tpXVswXTsNCiAgICAgICAgICAgICAgICBsZXQgY29sID0gdGlsZXNbaV1bMV07DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgaWYgKHJvdyA8IDAgfHwgcm93ID4gNSB8fCBjb2wgPCAwIHx8IGNvbCA+IDUpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgbGV0IGFkal9pZCA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFtjb2xdW3Jvd11bMF0gLSAxOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGlmIChhZGpfaWQgPT09IC0xKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGxldCBhZGpfcGxhbnQgPSBHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsYW50c0J5SWRbYWRqX2lkXTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAvL0l0J3Mgb2theSB0byBwbGFudCBkYW5nZXJvdXMgcGxhbnRzIG5leHQgdG8gb3RoZXIgZGFuZ2Vyb3VzIG9uZXMuDQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhZGpfcGxhbnQuY29udGFtICE9PSAidW5kZWZpbmVkIiAmJiBhZGpfcGxhbnQuY29udGFtICE9PSAwKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIC8vQnV0IGl0J3Mgbm90IG9rYXkgdG8gcGxhbnQgdG8gc3VzY2VwdGlibGUgb25lcy4NCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFkal9wbGFudC5ub0NvbnRhbSA9PT0gInVuZGVmaW5lZCIgfHwgIWFkal9wbGFudC5ub0NvbnRhbSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9LA0KCQkNCgkJDQoJCQ0KCQlwbGFudF9zZWVkOiBmdW5jdGlvbihpZCwgeCwgeSkNCgkJew0KCQkJaWYgKHRoaXMuYXZvaWRfY3BzX2J1ZmZzKQ0KCQkJew0KCQkJCWZvciAobGV0IGtleSBpbiBHYW1lLmJ1ZmZzKQ0KCQkJCXsNCgkJCQkJaWYgKHR5cGVvZiBHYW1lLmJ1ZmZzW2tleV0ubXVsdENwUyAhPT0gInVuZGVmaW5lZCIgJiYgR2FtZS5idWZmc1trZXldLm11bHRDcFMgPiAxICYmIEdhbWUuYnVmZnNba2V5XS5uYW1lLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwgNCkgIT09ICJsb2FuIiAmJiAoIXRoaXMuYWxsb3dfZnJlbnppZXMgfHwgR2FtZS5idWZmc1trZXldLm5hbWUgIT09ICJGcmVuenkiKSkNCgkJCQkJew0KCQkJCQkJR2FtZS5Ob3RpZnkoJ0F1dG8gU2FjcmlmaWNlJywgYFNraXBwaW5nIHBsYW50aW5nIGR1ZSB0byBhY3RpdmUgYnVmZmAsIFs2LCAyOV0sIDUpOw0KCQkJCQkJDQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQkNCgkJCWlmIChHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLnBsb3RbeV1beF1bMF0gIT09IDApDQoJCQl7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIA0KCQkJbGV0IGtleSA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzQnlJZFtpZF0ua2V5Ow0KICAgICAgICAgICAgDQogICAgICAgICAgICAvL0Rvbid0IHBsYW50IGNvbnRhbWluYXRpbmcgcGxhbnRzIG5lYXIgc3VzY2VwdGlibGUgb25lcy4NCiAgICAgICAgICAgIGxldCBwbGFudCA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxhbnRzW2tleV07DQogICAgICAgICAgICANCiAgICAgICAgICAgIGlmICh0eXBlb2YgcGxhbnQuY29udGFtICE9PSAidW5kZWZpbmVkIiAmJiBwbGFudC5jb250YW0gIT09IDApDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzX3ZhbGlkX2Zvcl9kYW5nZXJvdXNfcGxhbnQoeCwgeSkpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KCQkJDQoJCQlpZiAocGxhbnQudW5sb2NrZWQpDQoJCQl7DQoJCQkJR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS51c2VUb29sKGlkLCB4LCB5KTsNCgkJCX0NCgkJfSwNCgkJDQoJCQ0KCQkNCgkJaGFydmVzdF9wbGFudDogZnVuY3Rpb24oaiwgaSkNCgkJew0KCQkJbGV0IHBsYW50X2lkID0gR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbG90W2ldW2pdWzBdIC0gMTsNCgkJCQ0KCQkJaWYgKHBsYW50X2lkID09PSB0aGlzLm11dGF0aW9uX3NldHVwc1siZWxkZXJ3b3J0Il0uaWQgJiYgR2FtZS5PYmplY3RzQnlJZFsyXS5taW5pZ2FtZS5wbGFudHNbImVsZGVyd29ydCJdLnVubG9ja2VkKQ0KCQkJew0KCQkJCS8vRWxkZXJ3b3J0IG5leHQgdG8gYSBKUUIgaXMgbmV2ZXIgcmVtb3ZlZC4NCgkJCQlsZXQgZm91bmRfdGFyZ2V0ID0gZmFsc2U7DQoJCQkJDQoJCQkJZm9yIChsZXQgayA9IC0xOyBrIDw9IDE7IGsrKykNCgkJCQl7DQoJCQkJCWZvciAobGV0IGwgPSAtMTsgbCA8PSAxOyBsKyspDQoJCQkJCXsNCgkJCQkJCWlmICgoayA9PT0gMCAmJiBsID09PSAwKSB8fCBpICsgayA8IDAgfHwgaSArIGsgPiA1IHx8IGogKyBsIDwgMCB8fCBqICsgbCA+IDUpDQoJCQkJCQl7DQoJCQkJCQkJY29udGludWU7DQoJCQkJCQl9DQoJCQkJCQkNCgkJCQkJCWxldCBpZCA9IEdhbWUuT2JqZWN0c0J5SWRbMl0ubWluaWdhbWUucGxvdFtpICsga11baiArIGxdWzBdIC0gMTsNCgkJCQkJCQ0KCQkJCQkJaWYgKGlkID09PSAtMSkNCgkJCQkJCXsNCgkJCQkJCQljb250aW51ZTsNCgkJCQkJCX0NCgkJCQkJCQ0KCQkJCQkJaWYgKGlkID09PSB0aGlzLm11dGF0aW9uX3NldHVwc1sicXVlZW5iZWV0THVtcCJdLmlkKQ0KCQkJCQkJew0KCQkJCQkJCWZvdW5kX3RhcmdldCA9IHRydWU7DQoJCQkJCQkJDQoJCQkJCQkJYnJlYWs7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJDQoJCQkJCWlmIChmb3VuZF90YXJnZXQpDQoJCQkJCXsNCgkJCQkJCWJyZWFrOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCQ0KCQkJCWlmIChmb3VuZF90YXJnZXQpDQoJCQkJew0KCQkJCQlyZXR1cm47DQoJCQkJfQ0KCQkJfQ0KCQkJDQoJCQlHYW1lLk9iamVjdHNCeUlkWzJdLm1pbmlnYW1lLmhhcnZlc3QoaiwgaSwgdHJ1ZSk7DQoJCX0NCgl9KTsNCn0oKTs="},{"meta":{"name":"8qsFdMRn","url":"https://pastebin.com/raw/8qsFdMRn","ts":1718315486912,"mimetype":"text/plain"},"source":"Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi8qCQkJDQoJCUhlbGxvIGFuZCB3ZWxjb21lLg0KCVRoaXMgaXMgdGhlIG1haW4gZmlsZSBvZiB0aGUgQ29va2lTdG9ja2VyIG1vZC4NCglJZiB5b3UgY2FtZSB0byByZXZlcnNlIGVuZ2luZWVyIHRoZSBjb2RlIG9yIGhhdmUgbW9yZSBxdWVzdGlvbnMgYWJvdXQgdGhlIGFsZ29yaXRobQ0KCS0geW91IGNhbiBqdXN0IGFzayBmb3IgYWR2aWNlIGluIHRoZSBTdGVhbSBndWlkZSBjb21tZW50cy4NCgkJaHR0cHM6Ly9zdGVhbWNvbW11bml0eS5jb20vc2hhcmVkZmlsZXMvZmlsZWRldGFpbHMvP2lkPTI1OTkxODcwNDcNCiovDQoNCi8vIAkJCU9wdGlvbnMNCg0KCQkvLyBTdG9wIHRyYWRpbmcgYXV0b21hdGljYWxseSB3aGVuIHRydWUgKG5vdCB5ZXQgaW1wbGVtZW50ZWQpLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCi8qCQkJDQoJCUhlbGxvIGFuZCB3ZWxjb21lLg0KCVRoaXMgaXMgdGhlIG1haW4gZmlsZSBvZiB0aGUgQ29va2lTdG9ja2VyIG1vZC4NCglJZiB5b3UgY2FtZSB0byByZXZlcnNlIGVuZ2luZWVyIHRoZSBjb2RlIG9yIGhhdmUgbW9yZSBxdWVzdGlvbnMgYWJvdXQgdGhlIGFsZ29yaXRobQ0KCS0geW91IGNhbiBqdXN0IGFzayBmb3IgYWR2aWNlIGluIHRoZSBTdGVhbSBndWlkZSBjb21tZW50cy4NCgkJaHR0cHM6Ly9zdGVhbWNvbW11bml0eS5jb20vc2hhcmVkZmlsZXMvZmlsZWRldGFpbHMvP2lkPTI1OTkxODcwNDcNCiovDQoNCi8vIAkJCU9wdGlvbnMNCg0KCQkvLyBTdG9wIHRyYWRpbmcgYXV0b21hdGljYWxseSB3aGVuIHRydWUgKG5vdCB5ZXQgaW1wbGVtZW50ZWQpDQoJCXZhciBzdG9ja2VyU3RvcFRyYWRpbmcgPSBmYWxzZQ0KCQkNCgkJLy8gQW5ub3VuY2UgdHJhbnNhY3Rpb25zIGluIGdhbWUgbm90aWZpY2F0aW9ucw0KCQl2YXIgc3RvY2tlclRyYW5zYWN0aW9uTm90aWZpY2F0aW9ucyA9IHRydWUNCg0KCQkvLyBNYWtlIHJlZ3VsYXIgcHJvZml0IHJlcG9ydHMNCgkJdmFyIHN0b2NrZXJBY3Rpdml0eVJlcG9ydCA9IHRydWUNCgkJCS8vIEhvdyBvZnRlbiB0byBtYWtlIHJlZ3VsYXIgcmVwb3J0cyBpbiBtcyAob25lIGhvdXIgYnkgZGVmYXVsdCkNCgkJCXZhciBzdG9ja2VyQWN0aXZpdHlSZXBvcnRGcmVxdWVuY3kgPSAxMDAwICogNjAgKiA2MA0KDQoJCS8vIE1ha2UgZ2FtZSBub3RpZmljYXRpb25zIGZhZGUgYXdheSBvbiB0aGVpciBvd24NCgkJdmFyIHN0b2NrZXJGYXN0Tm90aWZpY2F0aW9ucyA9IGZhbHNlDQoNCgkJLy8gVXNlIGNvbnNvbGUubG9nIGZvciBtb3JlIGRldGFpbGVkIGluZm8gb24gcHJpY2VzIGFuZCB0cmVuZHMNCgkJdmFyIHN0b2NrZXJDb25zb2xlQW5ub3VuY2VtZW50cyA9IGZhbHNlDQoNCgkJLy8gTG9naWMgbG9vcCBmcmVxdWVuY3k7IGRvIG5vdCB0b3VjaCBpdCB1bmxlc3MgeW91IGFyZSBjaGVhdGluZw0KCQl2YXIgc3RvY2tlckxvb3BGcmVxdWVuY3kgPSAxMDAwICogMzANCg0KCQkNCgkJLy8gVGhlIGNoZWF0IGl0c2VsZi4gUm9sbHMgdGhlIGN5Y2xlIGV2ZXJ5IHRpbWUgbG9naWMgbG9vcCB0cmlnZ2Vycw0KCQl2YXIgc3RvY2tlckZvcmNlTG9vcFVwZGF0ZXMgPSBmYWxzZQ0KDQoJCXZhciBoaWRlQm9nZGFub2ZmID0gdHJ1ZQ0KCQl2YXIgc3RvY2tlckdyZWV0aW5nID0gJ2NsaWNrIGNsYWNrIHlvdSBhcmUgbm93IGluIGRlYnQnDQoNCg0KDQovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KDQppZih0eXBlb2YgQ0NTRSA9PSB1bmRlZmluZWQpDQoJR2FtZS5Mb2FkTW9kKCdodHRwczovL2tsYXR0bW9zZS5naXRodWIuaW8vQ29va2llQ2xpY2tlci9TdGVhbU1vZHMvQ0NTRS9tYWluLmpzJykNCg0KaWYoQ29va2lTdG9ja2VyID09PSB1bmRlZmluZWQpIHZhciBDb29raVN0b2NrZXIgPSB7fTsNCg0KQ29va2lTdG9ja2VyLm5hbWUgPSAnQ29va2lTdG9ja2VyJzsNCkNvb2tpU3RvY2tlci52ZXJzaW9uID0gJzIuMCc7DQpDb29raVN0b2NrZXIuR2FtZVZlcnNpb24gPSAnMi4wNTInOw0KDQppZiAoc3RvY2tMaXN0ID09PSB1bmRlZmluZWQpIHsNCgl2YXIgc3RvY2tMaXN0ID0gew0KCQljaGVjazogJ2R1bXAgZWV0JywNCgkJZ29vZHM6IFtdLA0KCQlzZXNzaW9uU3RhcnQ6IERhdGUubm93KCkgKyA1MDAsDQoJCXNlc3Npb25MYXN0VGltZTogRGF0ZS5ub3coKSArIDUwMCwNCgkJc3RhcnRpbmdQcm9maXRzOiAwLA0KCQlzZXNzaW9uUHJvZml0czogMCwNCgkJc2Vzc2lvbk5ldFByb2ZpdHM6IDAsDQoJCXNlc3Npb25Hcm9zc1Byb2ZpdHM6IDAsDQoJCXNlc3Npb25Hcm9zc0xvc3NlczogMCwNCgkJc2Vzc2lvblByb2ZpdGFibGVTdG9ja3M6IDAsDQoJCXNlc3Npb25VbnByb2ZpdGFibGVTdG9ja3M6IDAsDQoJCXNlc3Npb25Qcm9maXRhYmxlVHJhZGVzOiAwLA0KCQlzZXNzaW9uVW5wcm9maXRhYmxlVHJhZGVzOiAwLA0KCQlzZXNzaW9uUHVyY2hhc2VzOiAwLA0KCQlzZXNzaW9uU2FsZXM6IDAsDQoJfQ0KfQ0KDQppZiAoIWhpZGVCb2dkYW5vZmYpIGNvbnNvbGUubG9nKCdcblxuw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCosKAw6LCo8K8w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8Knw6LCocKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKIw6LCoMKJw6LCoMKAw6LCoMKAXG7DosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKjwr7DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKhwobDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoBcbsOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCuMOiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqHChsOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgFxuw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCosKAw6LCo8KAw6LCo8KAw6LCocKAXG7DosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKiwoDDosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKgwr/DosKgwr/DosKiwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKhwobDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwojDosKgwpvDosKiwr/DosKjwrdcbsOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCgMOiwqPCvsOiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqHCn8OiwqDCgcOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCiMOiwqDCicOiwqDCicOiwqDCicOiwqDCicOiwqDCu8OiwqLCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqDCg8OiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqPCuMOiwqPCv1xuw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKYw6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCosK7w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCocKEw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCosKgw6LCo8K+w6LCo8K/w6LCo8K/XG7DosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKhwo/DosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwojDosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKhwofDosKgwoDDosKgwoDDosKgwoDDosKgwojDosKiwr/DosKjwr/DosKjwr/DosKjwr9cbsOiwqDCg8OiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqHCh8OiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCiMOiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqHCv8OiwqDCgcOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCiMOiwqPCv8OiwqPCv8OiwqPCv1xuw6LCoMKAw6LCosKAw6LCoMKAw6LCosKgw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCosK/w6LCo8K/w6LCo8K/w6LCo8K/w6LCoMKBw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCosKAw6LCocKIw6LCoMK7w6LCoMKfw6LCoMKbw6LCoMKbw6LCosK/w6LCo8K/w6LCo8K/w6LCocK/w6LCoMKHw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCo8K/w6LCo8K/w6LCo8K/XG7DosKjwrbDosKjwr/DosKhwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKiwrvDosKjwr/DosKgwovDosKgwoDDosKgwoDDosKjwqDDosKjwqTDosKjwoTDosKjwoDDosKjwqDDosKjwoDDosKhwoDDosKgwoDDosKgwoDDosKiwoDDosKjwqTDosKjwrTDosKjwrbDosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKhwobDosKgwoDDosKgwoDDosKgwoDDosKiwrvDosKjwr/DosKhwobDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwpjDosKgwovDosKgwoBcbsOiwqPCv8OiwqPCv8OiwqPCp8OiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCiMOiwqDCgcOiwqDCgMOiwqDCgMOiwqDCjsOiwqLCgMOiwqPCqcOiwqHCvcOiwqPCv8OiwqPCv8OiwqPCv8OiwqHCj8OiwqDCgMOiwqDCgMOiwqDCmMOiwqPCv8OiwqPCv8OiwqDCn8OiwqDCmcOiwqDCv8OiwqDCv8OiwqDCn8OiwqDCi8OiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCgMOiwqPChMOiwqDCg8OiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgFxuw6LCo8K/w6LCo8K/w6LCoMKJw6LCoMKAw6LCo8Kgw6LCo8Kkw6LCocKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKIw6LCoMKJw6LCoMKAw6LCoMKIw6LCoMKJw6LCoMKJw6LCoMKBw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKIw6LCoMKBw6LCosKAw6LCo8Kkw6LCoMKEw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMK4w6LCocK3w6LCoMKAXG7DosKjwr/DosKjwr/DosKjwrfDosKhwr7DosKgwp/DosKgwovDosKgwoHDosKgwoDDosKgwoDDosKgwoDDosKiwrzDosKhwobDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKjwoDDosKgwoBcbsOiwqPCv8OiwqDCn8OiwqDCgcOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCgMOiwqPCtMOiwqPCv8OiwqHChMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCkMOiwqDCvsOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCm8OiwqDCgFxuw6LCo8K/w6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCo8Kww6LCoMKAw6LCosK4w6LCo8K/w6LCoMKbw6LCoMKJw6LCoMKCw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMK2w6LCoMKkw6LCo8K0w6LCo8K2w6LCoMK+w6LCoMKfw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAXG7DosKgwo/DosKgwoDDosKgwoDDosKgwpDDosKhwqvDosKiwoDDosKjwr7DosKhwofDosKgwoDDosKgwojDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwojDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoBcbsOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCgMOiwqPCoMOiwqPCtMOiwqPCtsOiwqDCgMOiwqDCgMOiwqDChMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqPCgMOiwqPCoMOiwqPCgMOiwqPCgMOiwqPCoMOiwqPCpMOiwqPChMOiwqPCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgFxuw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCo8Kgw6LCo8K0w6LCoMKAw6LCoMK5w6LCocKHw6LCosK/w6LCo8K/w6LCoMKDw6LCoMKAw6LCoMKAw6LCoMKQw6LCocKAw6LCoMKAw6LCosKgw6LCo8K0w6LCoMK2w6LCoMK/w6LCoMK/w6LCoMK/w6LCoMK/w6LCoMK/w6LCoMKfw6LCosKbw6LCocK/w6LCoMK/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8KEw6LCoMKAw6LCocKGw6LCoMKAw6LCoMK4w6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAXG7DosKgwoDDosKgwoDDosKgwoDDosKgwqDDosKiwr7DosKjwr/DosKjwp/DosKjwqDDosKiwonDosKjwqXDosKjwrzDosKhwo/DosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwpjDosKjwrbDosKgwoHDosKgwoDDosKgwoDDosKiwqTDosKjwqTDosKjwqDDosKjwqTDosKjwqTDosKjwrbDosKhwr/DosKgwoPDosKgwoDDosKgwrnDosKjwr/DosKjwr/DosKjwrfDosKjwr7DosKgwoHDosKgwoDDosKgwoDDosKgwoDDosKjwrfDosKhwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoBcbsOiwqDCgMOiwqDCgMOiwqDCgMOiwqPCoMOiwqPCvsOiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqHCn8OiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCmMOiwqPChsOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCicOiwqDCm8OiwqDCm8OiwqDCm8OiwqDCicOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCgMOiwqPCv8OiwqPCv8OiwqHCn8OiwqDCgcOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqPCsMOiwqPCv8OiwqPCt8OiwqPChMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgFxuw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKQw6LCosK/w6LCoMKfw6LCoMKLw6LCoMKZw6LCoMK7w6LCo8K/w6LCo8KDw6LCo8KAw6LCo8KAw6LCo8Kkw6LCo8Kkw6LCo8K2w6LCo8K+w6LCo8K/w6LCoMKBw6LCo8KEw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCo8K8w6LCoMKfw6LCoMKJw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCo8K0w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8Kmw6LCocKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAXG7DosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKiwrjDosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKhwobDosKgwrjDosKjwqbDosKjwqTDosKjwoTDosKjwoDDosKjwoDDosKjwqDDosKjwqTDosKjwqTDosKjwrTDosKgwo7DosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKiwoDDosKjwrzDosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwrbDosKjwqTDosKjwqTDosKjwoTDosKjwoBcbsOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqPCsMOiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqHCh8OiwqDCgMOiwqDCucOiwqPCj8OiwqDCm8OiwqDCm8OiwqDCm8OiwqDCm8OiwqDCm8OiwqDCicOiwqDCgcOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCoMOiwqPCvsOiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv1xuw6LCoMKAw6LCoMKAw6LCoMKAw6LCosKAw6LCoMKAw6LCosKAw6LCo8Kkw6LCo8K+w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCocKHw6LCoMKAw6LCoMKAw6LCoMKZw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCosKAw6LCo8K0w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/XG5cbiAgICAgd290IGl6IGhlIGRvaW5nIGluIHplIGNvbnNvbGU/XG5cblxuJyk7DQoNCnZhciBtb2RlRGVjb2RlciA9IFsnc3RhYmxlJywnc2xvd2x5IHJpc2luZycsJ3Nsb3dseSBmYWxsaW5nJywncmFwaWRseSByaXNpbmcnLCdyYXBpZGx5IGZhbGxpbmcnLCdmbHVjdHVhdGluZyddIC8vIG1lYW5pbmdzIG9mIGVhY2ggbWFya2V0IHRyZW5kIChnb29kLm1vZGUpDQp2YXIgZ29vZEljb25zID0gW1syLDMzXSxbMywzM10sWzQsMzNdLFsxNSwzM10sWzE2LDMzXSxbMTcsMzNdLFs1LDMzXSxbNiwzM10sWzcsMzNdLFs4LDMzXSxbMTMsMzNdLFsxNCwzM10sWzE5LDMzXSxbMjAsMzNdLFszMiwzM10sWzMzLDMzXSxbMzQsMzNdLFszNSwzM11dOw0KDQpDb29raVN0b2NrZXIubGF1bmNoID0gZnVuY3Rpb24oKSB7DQoJaXNMb2FkZWQgPSAxOw0KfQ0KDQppZiAoIUNvb2tpU3RvY2tlci5pc0xvYWRlZCl7DQoJaWYgKENDU0UgJiYgQ0NTRS5pc0xvYWRlZCkgew0KCQlDb29raVN0b2NrZXIubGF1bmNoKCk7DQoJfQ0KCWVsc2Ugew0KCQlpZighQ0NTRSkgdmFyIENDU0UgPSB7fTsNCgkJaWYoIUNDU0UucG9zdExvYWRIb29rcykgQ0NTRS5wb3N0TG9hZEhvb2tzID0gW107DQoJCUNDU0UucG9zdExvYWRIb29rcy5wdXNoKENvb2tpU3RvY2tlci5sYXVuY2gpOw0KCX0NCn0NCi8qDQpDb29raVN0b2NrZXIub3B0aW9uc01lbnUgPSBmdW5jdGlvbigpew0KCXZhciBoU3RyID0gJyAnPGRpdiBjbGFzcz0ibGlzdGluZyI+JyArIENDU0UuTWVudUhlbHBlci5BY3Rpb25CdXR0b24oIiIsICJVbmxvY2sgSGFyZGNvcmUgQWNoaWV2ZW1lbnQiKSArICc8L2Rpdj4nOw0KfQ0KKi8NCmZ1bmN0aW9uIHN0b2NrZXJUaW1lQmVhdXRpZmllcihkdXJhdGlvbikgew0KCXZhciBtaWxsaXNlY29uZHMgPSBNYXRoLmZsb29yKChkdXJhdGlvbiAlIDEwMDApIC8gMTAwKSwNCgkgIHNlY29uZHMgPSBNYXRoLmZsb29yKChkdXJhdGlvbiAvIDEwMDApICUgNjApLA0KCSAgbWludXRlcyA9IE1hdGguZmxvb3IoKGR1cmF0aW9uIC8gKDEwMDAgKiA2MCkpICUgNjApLA0KCSAgaG91cnMgPSBNYXRoLmZsb29yKChkdXJhdGlvbiAvICgxMDAwICogNjAgKiA2MCkpICUgMjQpLA0KCSAgZGF5cyA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpOw0KCWlmIChzZWNvbmRzICYmIChtaW51dGVzIHx8IGhvdXJzIHx8IGRheXMpICYmICFzdG9ja2VyRm9yY2VMb29wVXBkYXRlcykNCgkJc2Vjb25kcyA9IDA7CQkJCQkJLy8gRG9uJ3QgZGlzcGxheQ0KCXZhciBzdHJTZWNvbmRzID0gc2Vjb25kcyArICcgc2Vjb25kJyArIChzZWNvbmRzICE9IDEgPyAncycgOiAnJyk7DQoJdmFyIHN0ck1pbnV0ZXMgPSBtaW51dGVzID8gbWludXRlcyArICcgbWludXRlJyArIChtaW51dGVzICE9IDEgPyAncycgOiAnJykgKyAoc2Vjb25kcyA/IChob3VycyB8fCBkYXlzID8gJywgYW5kICcgOiAnIGFuZCAnKSA6ICcnKSA6ICcnOw0KCXZhciBzdHJIb3VycyA9IGhvdXJzID8gaG91cnMgKyAnIGhvdXInICsgKGhvdXJzICE9IDEgPyAncycgOiAnJykgKyAobWludXRlcyAmJiBzZWNvbmRzID8gJywgJyA6ICgobWludXRlcyA/ICFzZWNvbmRzIDogc2Vjb25kcykgPyAnIGFuZCAnIDogJycpKSA6ICcnOw0KCXZhciBzdHJEYXlzID0gZGF5cyA/IGRheXMgKyAnIGRheScgKyAoZGF5cyAhPSAxID8gJ3MnIDogJycpICsgKGhvdXJzICYmIG1pbnV0ZXMgfHwgaG91cnMgJiYgc2Vjb25kcyB8fCBtaW51dGVzICYmIHNlY29uZHMgPyAnLCAnIDogKCgoaG91cnMgPyAhbWludXRlcyA6IG1pbnV0ZXMpID8gIXNlY29uZHMgOiBzZWNvbmRzKSA/ICcgYW5kICcgOiAnJykpIDogJyc7DQoJdmFyIHN0clRpbWUgPSBzdHJEYXlzICsgc3RySG91cnMgKyBzdHJNaW51dGVzOw0KCWlmIChzdG9ja2VyRm9yY2VMb29wVXBkYXRlcyAmJiBzZWNvbmRzKQ0KCQlzdHJUaW1lICs9IHN0clNlY29uZHM7IA0KCWlmIChtaW51dGVzIHx8IGhvdXJzIHx8IGRheXMpIHsNCgkJcmV0dXJuIChzdHJUaW1lKTsNCgl9IGVsc2UNCgkJcmV0dXJuIChzdHJTZWNvbmRzKTsNCn0NCg0Kc2V0VGltZW91dChmdW5jdGlvbiB3YWl0Rm9yR2FtZSgpIHsNCglpZiAodHlwZW9mIEdhbWUgPT09ICdvYmplY3QnICYmIEdhbWUucmVhZHkpIHsNCgkNCg0KR2FtZS5yZWdpc3Rlck1vZCgnQ29va2lTdG9ja2VyJyx7DQoJaW5pdDpmdW5jdGlvbigpew0KDQoJCXRoaXMuc3RhcnRTdG9ja2luZygpOw0KCX0sDQoJc3RhcnRTdG9ja2luZzpmdW5jdGlvbigpew0KCQlpZiAoIUdhbWUuT2JqZWN0c1snQmFuayddLm1pbmlnYW1lKSB7DQoJCQljb25zb2xlLmxvZygnPT09PT0kJCQ9PT0gU3RvY2sgTWFya2V0IG1pbmlnYW1lIGhhcyBub3QgaW5pdGlhbGlzZWQgeWV0ISBXaWxsIHRyeSBhZ2FpbiBpbiA1MDAgbXMuJyk7DQoJCQlzZXRUaW1lb3V0KCgpID0+IHsNCgkJCQl0aGlzLnN0YXJ0U3RvY2tpbmcoKTsNCgkJCX0sNTAwKTsNCgkJCXJldHVybg0KCQl9DQoJCWVsc2Ugew0KCQkJY29uc29sZS5sb2coJz09PT09JCQkPT09IENvb2tpU3RvY2tlciBsb2dpYyBsb29wIGluaXRpYWxpc2VkIGF0ICcgKyBuZXcgRGF0ZSgpKTsNCgkJCWNvbnNvbGUubG9nKCc9PT09PSQkJD09PSBXaXRoIG1haW4gb3B0aW9ucyBhcyBmb2xsb3dzOicpDQoJCQljb25zb2xlLmxvZygnPT09PT0kJCQ9PT0gTG9naWMgbG9vcCBmcmVxdWVuY3k6ICcgKyBzdG9ja2VyVGltZUJlYXV0aWZpZXIoc3RvY2tlckxvb3BGcmVxdWVuY3kpKQ0KCQkJY29uc29sZS5sb2coJz09PT09JCQkPT09IFJlcG9ydCBmcmVxdWVuY3k6ICcgKyBzdG9ja2VyVGltZUJlYXV0aWZpZXIoc3RvY2tlckFjdGl2aXR5UmVwb3J0RnJlcXVlbmN5KSkNCgkJCWNvbnNvbGUubG9nKCc9PT09PSQkJD09PSBDaGVhdGluZzogJyArIHN0b2NrZXJGb3JjZUxvb3BVcGRhdGVzKQ0KCQkJR2FtZS5Ob3RpZnkoJ0Nvb2tpU3RvY2tlciBpcyByZWFkeScsc3RvY2tlckdyZWV0aW5nLFsxLDMzXSxmYWxzZSk7DQoJCQljb25zb2xlLmxvZyhzdG9ja0xpc3QuY2hlY2spOw0KCQl9DQoJCQ0KCQl2YXIgbWFya2V0ID0gR2FtZS5PYmplY3RzWydCYW5rJ10ubWluaWdhbWUuZ29vZHNCeUlkOwkvLyByZWFkIG1hcmtldA0KCQljb25zb2xlLmxvZygnUmVhZGluZyB0aGUgbWFya2V0OicpOw0KCQlzdG9ja0xpc3Quc3RhcnRpbmdQcm9maXRzID0gR2FtZS5PYmplY3RzWydCYW5rJ10ubWluaWdhbWUucHJvZml0Ow0KCQlmb3IgKGxldCBpID0gMDsgaSA8IG1hcmtldC5sZW5ndGg7IGkrKyl7DQoJCQlzdG9ja0xpc3QuZ29vZHMucHVzaCh7DQoJCSAJCW5hbWU6IG1hcmtldFtpXS5uYW1lLA0KCQkgCQlzdG9jazogbWFya2V0W2ldLnN0b2NrLA0KCQkgCQljdXJyZW50UHJpY2U6IG1hcmtldFtpXS52YWwsDQoJCQkJbW9kZTogbWFya2V0W2ldLm1vZGUsDQoJCQkJbGFzdE1vZGU6IG1hcmtldFtpXS5tb2RlLA0KCQkJCWxhc3REdXI6IG1hcmtldFtpXS5kdXIsDQoJCQkJdW5jaGFuZ2VkRHVyOiAwLA0KCQkJCWRyb3BDb3VudDogMCwNCgkJCQlyaXNlQ291bnQ6IDAsDQoJCQkJcHJvZml0OiAwLA0KCQkJCXNvbWVTb2xkOiBmYWxzZSwNCgkJCQlzb21lQm91Z2h0OiBmYWxzZSwNCgkJCX0pOw0KCQkJY29uc29sZS5sb2coJ1N0b2NrOiAnICsgbWFya2V0W2ldLm5hbWUucmVwbGFjZSgnJTEnLCBHYW1lLmJha2VyeU5hbWUpICsgJyBTdGF0dXM6ICcgKyBtb2RlRGVjb2RlclttYXJrZXRbaV0ubW9kZV0gKyAnIGF0ICQnICsgbWFya2V0W2ldLnZhbCArIChtYXJrZXRbaV0uc3RvY2sgPyAnIChvd24pJyA6ICcnKSk7DQoJCX0NCgkJaWYgKHN0b2NrZXJGb3JjZUxvb3BVcGRhdGVzKQ0KCQkJR2FtZS5PYmplY3RzWydCYW5rJ10ubWluaWdhbWUuc2Vjb25kc1BlclRpY2sgPSBzdG9ja2VyTG9vcEZyZXF1ZW5jeSAvIDEwMDA7DQoJCXZhciBzdG9ja2VyTG9vcCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgew0KCQkJbGV0IGRvVXBkYXRlID0gZmFsc2U7DQoJCQkNCgkJCS8vIHNldHRpbmcgc3RvY2tlckZvcmNlTG9vcFVwZGF0ZXMgdG8gdHJ1ZSB3aWxsIG1ha2UgdGhlIGxvZ2ljIGxvb3AgZm9yY2UgdGhlIG1hcmtldCB0byB0aWNrIGV2ZXJ5IHRpbWUgaXQgdHJpZ2dlcnMsDQoJCQkvLyBtYWtpbmcgdGhpcyBhbiBvYnZpb3VzIGNoZWF0LCBhbmQgaSB3aWxsIHBlcnNvbmFsbHkgcmVzZW50IHlvdS4NCgkJCQ0KCQkJLy8gYnV0DQoJCQkvLyBpZiB5b3UgYmFja3VwIHlvdXIgc2F2ZSBhbmQgc2V0IHN0b2NrZXJMb29wRnJlcXVlbmN5IHRvIGxpa2UgMTAgbWlsbGlzZWNvbmRzIGl0IGxvb2tzIHZlcnkgZnVuIGFuZCBlZmZlY3RpdmUuDQoJCQkvLyB5ZXMsIHRoaXMgaXMgaG93IGkgbWFkZSB0aGUgZ2lmIG9uIHRoZSBzdGVhbSBndWlkZSBwYWdlLg0KCQkJaWYgKCFzdG9ja2VyRm9yY2VMb29wVXBkYXRlcykNCgkJCQlzdG9ja2VyTG9vcEZyZXF1ZW5jeSA9IEdhbWUuT2JqZWN0c1snQmFuayddLm1pbmlnYW1lLnNlY29uZHNQZXJUaWNrICogNTAwOwkJLy8gS2VlcCB1cCB0byBkYXRlDQoJCQljb25zdCBzbWFsbERlbHRhID0gMzsNCgkJCWNvbnN0IGxhcmdlRGVsdGEgPSA0Ow0KCQkJY29uc3QgYWx3YXlzQnV5QmVsb3cgPSAyOw0KCQkJY29uc3QgbmV2ZXJTZWxsQmVsb3cgPSAxMTsNCg0KCQkJbWFya2V0ID0gR2FtZS5PYmplY3RzWydCYW5rJ10ubWluaWdhbWUuZ29vZHNCeUlkOwkvLyB1cGRhdGUgbWFya2V0DQoJCQlmb3IgKGxldCBpID0gMDsgaSA8IG1hcmtldC5sZW5ndGg7IGkrKykgew0KCQkJCQ0KCQkJCWxldCBsYXN0UHJpY2UgPSBzdG9ja0xpc3QuZ29vZHNbaV0uY3VycmVudFByaWNlOw0KCQkJCWxldCBjdXJyZW50UHJpY2UgPSBtYXJrZXRbaV0udmFsOw0KDQoJCQkJLy8gdXBkYXRlIHN0b2NrTGlzdA0KCQkJCXN0b2NrTGlzdC5nb29kc1tpXS5zdG9jayA9IG1hcmtldFtpXS5zdG9jazsNCgkJCQlzdG9ja0xpc3QuZ29vZHNbaV0uY3VycmVudFByaWNlID0gbWFya2V0W2ldLnZhbDsNCgkJCQlzdG9ja0xpc3QuZ29vZHNbaV0ubW9kZSA9IG1hcmtldFtpXS5tb2RlOw0KDQoJCQkJbGV0IG1kID0gc3RvY2tMaXN0Lmdvb2RzW2ldLm1vZGU7DQoJCQkJbGV0IGxtZCA9IHN0b2NrTGlzdC5nb29kc1tpXS5sYXN0TW9kZTsNCgkJCQlsZXQgbGFzdFN0b2NrID0gbWFya2V0W2ldLnN0b2NrOw0KCQkJCWxldCBkZWx0YVByaWNlID0gbGFyZ2VEZWx0YTsNCgkJCQlsZXQgc3RvY2tOYW1lID0gc3RvY2tMaXN0Lmdvb2RzW2ldLm5hbWUucmVwbGFjZSgnJTEnLCBHYW1lLmJha2VyeU5hbWUpOw0KCQkJCQ0KCQkJCS8vIE91ciBjZWlsaW5nUHJpY2UgaXMgdGhlIG1heGltdW0gb2YgdGhlIGJhbmsgY2VpbGluZyBhbmQgdGhlIChkZXByZWNhdGVkIGJ1dCBzdGlsbCB1c2VmdWwpIHN0b2NrIGNlaWxpbmcNCgkJCQlsZXQgY2VpbGluZ1ByaWNlID0gTWF0aC5tYXgoMTAqKGkrMSkgKyBHYW1lLk9iamVjdHNbJ0JhbmsnXS5sZXZlbCArIDQ5LCA5NyArIEdhbWUuT2JqZWN0c1snQmFuayddLmxldmVsICogMyk7DQoNCgkJCQlpZiAoR2FtZS5PYmplY3RzQnlJZFtpKzJdLmFtb3VudCA9PSAwKSB7CQkvLyBzdG9jayBtdXN0IGJlIGFjdGl2ZQ0KCQkJCQljb25zb2xlLmxvZyhgJHtzdG9ja05hbWV9IHN0b2NrIGlzIGluYWN0aXZlYCk7DQoJCQkJCWNvbnRpbnVlOw0KCQkJCX0NCgkJCQlpZiAobG1kID09IG1kICYmIChzdG9ja0xpc3QuZ29vZHNbaV0uc3RvY2sgJiYgKG1kID09IDIgfHwgbWQgPT0gNCkgfHwJLy8gTWFrZSBzZWxsaW5nIGludG8gYSBkb3dudHVybiBlYXNpZXINCgkJCQkhc3RvY2tMaXN0Lmdvb2RzW2ldLnN0b2NrICYmIChtZCA9PSAxIHx8IG1kID09IDMpKSkJCQkvLyBNYWtlIGJ1eWluZyBpbnRvIGFuIHVwdHVybiBlYXNpZXINCgkJCQkJZGVsdGFQcmljZSA9IHNtYWxsRGVsdGE7DQoJCQkJaWYgKG1kICE9IGxtZCAmJiAobWQgPT0gMyAmJiBsbWQgIT0gMSB8fCBtZCA9PSA0ICYmIGxtZCAhPSAyIHx8IG1kID09IDEgJiYgbG1kICE9IDMgfHwgbWQgPT0gMiAmJiBsbWQgIT0gNCkpIHsNCgkJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLmRyb3BDb3VudCA9IDA7DQoJCQkJCXN0b2NrTGlzdC5nb29kc1tpXS5yaXNlQ291bnQgPSAwOw0KCQkJCX0gZWxzZSBpZiAoY3VycmVudFByaWNlID4gbGFzdFByaWNlKSB7DQoJCQkJCXN0b2NrTGlzdC5nb29kc1tpXS5kcm9wQ291bnQgPSAwOw0KCQkJCQlzdG9ja0xpc3QuZ29vZHNbaV0ucmlzZUNvdW50Kys7DQoJCQkJfSBlbHNlIGlmIChjdXJyZW50UHJpY2UgPCBsYXN0UHJpY2UpIHsNCgkJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLnJpc2VDb3VudCA9IDA7DQoJCQkJCXN0b2NrTGlzdC5nb29kc1tpXS5kcm9wQ291bnQrKzsNCgkJCQl9DQoJCQkJaWYgKHN0b2NrTGlzdC5nb29kc1tpXS5sYXN0RHVyICE9IG1hcmtldFtpXS5kdXIgfHwgKytzdG9ja0xpc3QuZ29vZHNbaV0udW5jaGFuZ2VkRHVyID4gMSkgew0KCQkJCQlzdG9ja0xpc3QuZ29vZHNbaV0udW5jaGFuZ2VkRHVyID0gMDsNCgkJCQkJZG9VcGRhdGUgPSB0cnVlOw0KCQkJCX0NCgkJCQlpZiAoc3RvY2tlckNvbnNvbGVBbm5vdW5jZW1lbnRzICYmIGRvVXBkYXRlKSB7CQkJLy8gVGljayB0aWNrDQoJCQkJCWlmIChtZCA9PSBsbWQpDQoJCQkJCQljb25zb2xlLmxvZyhgJHtzdG9ja05hbWV9IG1vZGUgaXMgdW5jaGFuZ2VkIGF0ICR7bG1kfSBbJHttb2RlRGVjb2RlcltsbWRdfV0gYXQgJCR7QmVhdXRpZnkoY3VycmVudFByaWNlLCAyKX1gKTsNCgkJCQkJZWxzZQ0KCQkJCQkJY29uc29sZS5sb2coYE1PREUgQ0hBTkdFICR7c3RvY2tOYW1lfSBvbGQgbW9kZSB3YXMgJHtsbWR9IFske21vZGVEZWNvZGVyW2xtZF19XSBhbmQgbmV3IG1vZGUgaXMgJHttZH0gWyR7bW9kZURlY29kZXJbbWRdfV0gYXQgJCR7QmVhdXRpZnkoY3VycmVudFByaWNlLCAyKX1gKTsNCgkJCQl9DQoJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLmxhc3REdXIgPSBtYXJrZXRbaV0uZHVyOw0KCQkJCWlmICgJLy8gYnV5IGNvbmRpdGlvbnMNCgkJCQkJKA0KCQkJCQkJY3VycmVudFByaWNlIDwgYWx3YXlzQnV5QmVsb3cgfHwgbWQgIT0gNCAmJiAoKGN1cnJlbnRQcmljZSA+IGxhc3RQcmljZSAmJg0KCQkJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLnJpc2VDb3VudCA+PSBkZWx0YVByaWNlIHx8IChtZCA9PSAxIHx8IG1kID09IDMpICYmIG1kICE9IGxtZCB8fCANCgkJCQkJCW1kID09IDAgJiYgIXN0b2NrTGlzdC5nb29kc1tpXS5zb21lU29sZCAmJiBzdG9ja0xpc3QuZ29vZHNbaV0uZHJvcENvdW50IDwgZGVsdGFQcmljZSAmJg0KCQkJCQkJY3VycmVudFByaWNlID49IDEwKSAmJiAoY3VycmVudFByaWNlIDwgY2VpbGluZ1ByaWNlIHx8IG1kID09IDEgfHwgbWQgPT0gMykpDQoJCQkJCSkNCgkJCQkJJiYgR2FtZS5PYmplY3RzWydCYW5rJ10ubWluaWdhbWUuYnV5R29vZChpLDEwMDAwKSAJLy8gYWN0dWFsIGJ1eSBhdHRlbXB0DQoJCQkJKQ0KCQkJCXsNCgkJCQkJLy8gYnV5aW5nDQoJCQkJCWxldCBtb2RlID0gKGxtZCAhPSBtZCkgPyAnaXMgbm8gbG9uZ2VyIGluICcgKyBtb2RlRGVjb2RlcltsbWRdICsgJyBtb2RlJyA6ICdpcyAnOw0KCQkJCQlsZXQgdW5pdHMgPSBtYXJrZXRbaV0uc3RvY2sgLSBsYXN0U3RvY2s7DQoNCgkJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLnNvbWVCb3VnaHQgPSB0cnVlOw0KCQkJCQlzdG9ja0xpc3QuZ29vZHNbaV0uc3RvY2sgPSBtYXJrZXRbaV0uc3RvY2s7DQoJCQkJCWlmIChtYXJrZXRbaV0ucHJldkJ1eU1vZGUxICE9IHVuZGVmaW5lZCkNCgkJCQkJew0KCQkJCQkJbWFya2V0W2ldLnByZXZCdXlNb2RlMSA9IGxtZDsNCgkJCQkJCW1hcmtldFtpXS5wcmV2QnV5TW9kZTIgPSBtZDsNCgkJCQkJfQ0KCQkJCQltYXJrZXRbaV0uYnV5VGltZSA9IERhdGUubm93KCk7DQoJCQkJCWlmICh0eXBlb2YgU3RvY2tBc3Npc3RhbnQgIT0gJ3VuZGVmaW5lZCcpDQoJCQkJCXsNCgkJCQkJCVN0b2NrQXNzaXN0YW50LnN0b2NrRGF0YS5nb29kc1tpXS5ib3VnaHRWYWwgPSBtYXJrZXRbaV0ucHJldjsNCgkJCQkJCVN0b2NrQXNzaXN0YW50LmJ1eUdvb2QoaSk7DQoJCQkJCX0NCgkJCQkJc3RvY2tMaXN0LnNlc3Npb25QdXJjaGFzZXMrKzsNCgkJCQkJaWYgKHN0b2NrZXJUcmFuc2FjdGlvbk5vdGlmaWNhdGlvbnMpDQoJCQkJCQlpZiAoY3VycmVudFByaWNlID49IDIpIEdhbWUuTm90aWZ5KGBCdXlpbmcgJHtzdG9ja05hbWV9ICR7bmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHtob3VyQ3ljbGU6ICdoMjMnLCBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnfSl9YCxgQnV5aW5nICR7dW5pdHN9IHVuaXQkeyh1bml0cyA+IDEgPyAncycgOiAnJyl9LiBUaGUgc3RvY2sgJHttb2RlfSBhdCAkJHtCZWF1dGlmeShtYXJrZXRbaV0ucHJldiwgMil9IHBlciB1bml0ICh5b3VyIGJ1eWluZyBwcmljZSkgYW5kIGlzIGluICR7bW9kZURlY29kZXJbbWRdfSBtb2RlIG5vdy5gLGdvb2RJY29uc1tpXSxzdG9ja2VyRmFzdE5vdGlmaWNhdGlvbnMpOw0KCQkJCQkJZWxzZSBHYW1lLk5vdGlmeShgQnV5aW5nICR7c3RvY2tOYW1lfSAke25ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7aG91ckN5Y2xlOiAnaDIzJywgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0J30pfWAsIGBCdXlpbmcgJHt1bml0c30gdW5pdCR7KHVuaXRzID4gMSA/ICdzJyA6ICcnKX0uIFRoZSBwcmljZSBoYXMgZHJvcHBlZCBiZWxvdyAkMiBwZXIgdW5pdCwgYW5kIHlvdXIgYnV5aW5nIHByaWNlIGlzICQke0JlYXV0aWZ5KG1hcmtldFtpXS5wcmV2LCAyKX0uYCxnb29kSWNvbnNbaV0sc3RvY2tlckZhc3ROb3RpZmljYXRpb25zKTsNCgkJCQkJaWYgKHN0b2NrZXJDb25zb2xlQW5ub3VuY2VtZW50cykgY29uc29sZS5sb2coJz09PT09JCQkPT09IEJ1eWluZyAnKyBzdG9ja05hbWUgKyAnIGF0ICQnICsgQmVhdXRpZnkobWFya2V0W2ldLnByZXYsIDIpKTsNCgkJCQl9IGVsc2UgaWYgKAkvLyBzZWxsIGNvbmRpdGlvbnMNCgkJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLnN0b2NrID4gMCAmJiAoY3VycmVudFByaWNlIDwgbGFzdFByaWNlICYmDQoJCQkJCXN0b2NrTGlzdC5nb29kc1tpXS5kcm9wQ291bnQgPj0gZGVsdGFQcmljZSB8fA0KCQkJCQkobWQgPT0gMiB8fCBtZCA9PSA0KSAmJiBtZCAhPSBsbWQpICYmIGN1cnJlbnRQcmljZSA+PSBuZXZlclNlbGxCZWxvdwkvLyBub3QgbmVhciB0aGUgYm90dG9tDQoJCQkJKQ0KCQkJCXsNCgkJCQkJLy8gc2VsbGluZw0KCQkJCQlsZXQgcHJvZml0ID0gMDsNCgkJCQkJbGV0IHN0clByb2ZpdCA9ICdwcm9maXQgJw0KCQkJCQlsZXQgbW9kZSA9IChsbWQgIT0gbWQpID8gJ2lzIG5vIGxvbmdlciBpbiAnICsgbW9kZURlY29kZXJbbG1kXSArICcgbW9kZSBhbmQgJyA6ICcnOw0KDQoJCQkJCWlmICghR2FtZS5PYmplY3RzWydCYW5rJ10ubWluaWdhbWUuc2VsbEdvb2QoaSxzdG9ja0xpc3QuZ29vZHNbaV0uc3RvY2spKSB7DQoJCQkJCQlzdG9ja0xpc3QuZ29vZHNbaV0ubGFzdE1vZGUgPSBzdG9ja0xpc3QuZ29vZHNbaV0ubW9kZQkvLyB1cGRhdGUgbGFzdCBtb2RlDQoJCQkJCQljb250aW51ZTsNCgkJCQkJfQ0KCQkJCQlzdG9ja0xpc3QuZ29vZHNbaV0uc29tZVNvbGQgPSB0cnVlOw0KCQkJCQltYXJrZXRbaV0ucHJldlNhbGUgPSBtYXJrZXRbaV0udmFsOw0KCQkJCQltYXJrZXRbaV0ucHJldlNlbGxNb2RlMSA9IGxtZDsNCgkJCQkJbWFya2V0W2ldLnByZXZTZWxsTW9kZTIgPSBtZDsNCgkJCQkJbWFya2V0W2ldLnNlbGxUaW1lID0gRGF0ZS5ub3coKTsNCgkJCQkJaWYgKHR5cGVvZiBTdG9ja0Fzc2lzdGFudCAhPSAndW5kZWZpbmVkJykNCgkJCQkJCVN0b2NrQXNzaXN0YW50LnNlbGxHb29kKGkpOw0KCQkJCQlzdG9ja0xpc3Quc2Vzc2lvblNhbGVzKys7DQoJCQkJCXByb2ZpdCA9IChtYXJrZXRbaV0udmFsIC0gbWFya2V0W2ldLnByZXYpICogc3RvY2tMaXN0Lmdvb2RzW2ldLnN0b2NrOw0KCQkJCQlzdG9ja0xpc3QuZ29vZHNbaV0ucHJvZml0ICs9IHByb2ZpdDsNCgkJCQkJaWYgKHByb2ZpdCA+IDApIHsNCgkJCQkJCXN0b2NrTGlzdC5zZXNzaW9uR3Jvc3NQcm9maXRzICs9IHByb2ZpdDsNCgkJCQkJCXN0b2NrTGlzdC5zZXNzaW9uUHJvZml0YWJsZVRyYWRlcysrOw0KCQkJCQl9IGVsc2Ugew0KCQkJCQkJc3RvY2tMaXN0LnNlc3Npb25Hcm9zc0xvc3NlcyArPSAtcHJvZml0Ow0KCQkJCQkJc3RvY2tMaXN0LnNlc3Npb25VbnByb2ZpdGFibGVUcmFkZXMrKzsNCgkJCQkJfQ0KCQkJCQlzdG9ja0xpc3Quc2Vzc2lvbk5ldFByb2ZpdHMgKz0gcHJvZml0Ow0KCQkJCQlzdG9ja2VyTW9kZVByb2ZpdHNbbG1kXVttZF1bMF0gKz0gcHJvZml0Ow0KCQkJCQlzdG9ja2VyTW9kZVByb2ZpdHNbbG1kXVttZF1bMV0gKz0gcHJvZml0Ow0KCQkJCQlzdG9ja2VyTW9kZVByb2ZpdHNbbG1kXVttZF1bMl0rKzsNCgkJCQkJaWYgKHByb2ZpdCA8IDApDQoJCQkJCXsNCgkJCQkJCXN0clByb2ZpdCA9ICdsb3NzICc7DQoJCQkJCQlwcm9maXQgPSAtcHJvZml0Ow0KCQkJCQl9DQoJCQkJCWlmIChzdG9ja2VyVHJhbnNhY3Rpb25Ob3RpZmljYXRpb25zKSBHYW1lLk5vdGlmeShgU2VsbGluZyAke3N0b2NrTmFtZX0gJHtuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZyhbXSwge2hvdXJDeWNsZTogJ2gyMycsIGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCd9KX1gLGBTZWxsaW5nICR7c3RvY2tMaXN0Lmdvb2RzW2ldLnN0b2NrfSB1bml0JHsoc3RvY2tMaXN0Lmdvb2RzW2ldLnN0b2NrID4gMSA/ICdzJyA6ICcnKX0gYXQgYSBwcmljZSBvZiAkJHtCZWF1dGlmeShtYXJrZXRbaV0udmFsLCAyKX0gcGVyIHVuaXQgZm9yIGEgJHtzdHJQcm9maXR9IG9mICQke0JlYXV0aWZ5KHByb2ZpdCwgMil9IGFuZCB0b3RhbCByZXZlbnVlIG9mICQke0JlYXV0aWZ5KG1hcmtldFtpXS52YWwqc3RvY2tMaXN0Lmdvb2RzW2ldLnN0b2NrLCAyKX0sIHdoaWNoIGlzIGFkZGVkIHRvIHRoZSB0b3RhbCBtYXJrZXQgcHJvZml0cy4gVGhlIHN0b2NrICR7bW9kZX0gaXMgaW4gJHttb2RlRGVjb2RlclttZF19IG1vZGUgbm93LiBCb3VnaHQgYXQgYSBwcmljZSBvZiAkJHtCZWF1dGlmeShtYXJrZXRbaV0ucHJldiwgMil9IHBlciB1bml0LmAsZ29vZEljb25zW2ldLHN0b2NrZXJGYXN0Tm90aWZpY2F0aW9ucyk7DQoJCQkJCWlmIChzdG9ja2VyQ29uc29sZUFubm91bmNlbWVudHMpIGNvbnNvbGUubG9nKGA9PT09PSQkJD09PSBTZWxsaW5nICR7c3RvY2tOYW1lfSBhdCAkJHtCZWF1dGlmeShtYXJrZXRbaV0udmFsLCAyKX0gZm9yIGEgJHtzdHJQcm9maXR9b2YgJCR7QmVhdXRpZnkocHJvZml0LCAyKX0gYW5kIHRvdGFsIHJldmVudWUgb2YgJCR7QmVhdXRpZnkobWFya2V0W2ldLnZhbCpzdG9ja0xpc3QuZ29vZHNbaV0uc3RvY2ssIDIpfS4gTGFzdCBib3VnaHQgYXQgJCR7QmVhdXRpZnkobWFya2V0W2ldLnByZXYsIDIpfS5gKTsNCgkJCQl9DQoJCQkJDQoJCQkJc3RvY2tMaXN0LnNlc3Npb25Qcm9maXRzID0gR2FtZS5PYmplY3RzWydCYW5rJ10ubWluaWdhbWUucHJvZml0IC0gc3RvY2tMaXN0LnN0YXJ0aW5nUHJvZml0czsNCgkJCQlzdG9ja0xpc3QuZ29vZHNbaV0ubGFzdE1vZGUgPSBzdG9ja0xpc3QuZ29vZHNbaV0ubW9kZQkvLyB1cGRhdGUgbGFzdCBtb2RlDQoJCQl9DQoJCQlzdG9ja0xpc3Quc2Vzc2lvblByb2ZpdGFibGVTdG9ja3MgPSBzdG9ja0xpc3Quc2Vzc2lvblVucHJvZml0YWJsZVN0b2NrcyA9IDA7DQoJCQlmb3IgKGxldCBpID0gMDsgaSA8IG1hcmtldC5sZW5ndGg7IGkrKykgewkJCS8vIE11c3QgcmVjYWxjdWxhdGUgdGhlIHdob2xlIGxpc3Qgb24gZXZlcnkgcGFzcw0KCQkJCWlmIChzdG9ja0xpc3QuZ29vZHNbaV0ucHJvZml0ID4gMCkNCgkJCQkJc3RvY2tMaXN0LnNlc3Npb25Qcm9maXRhYmxlU3RvY2tzKys7DQoJCQkJZWxzZSBpZiAoc3RvY2tMaXN0Lmdvb2RzW2ldLnByb2ZpdCA8IDApDQoJCQkJCXN0b2NrTGlzdC5zZXNzaW9uVW5wcm9maXRhYmxlU3RvY2tzKys7DQoJCQl9DQoJCX0sc3RvY2tlckxvb3BGcmVxdWVuY3kpOw0KCQkNCgkJbGV0IHN0b2NrZXJNb2RlUHJvZml0cyA9IFsNCgkJCVtbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdXSwNCgkJCVtbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdXSwNCgkJCVtbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdXSwNCgkJCVtbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdXSwNCgkJCVtbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdXSwNCgkJCVtbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdXQ0KCQldOw0KDQoJCWlmIChzdG9ja2VyQWN0aXZpdHlSZXBvcnQgfHwgc3RvY2tlckNvbnNvbGVBbm5vdW5jZW1lbnRzKSB7DQoJCQl2YXIgc3RvY2tlclJlcG9ydEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7DQoJCQkJbGV0IG5vdyA9IERhdGUubm93KCk7DQoJCQkJaWYgKG5vdyA+IHN0b2NrTGlzdC5zZXNzaW9uTGFzdFRpbWUgKyBzdG9ja2VyQWN0aXZpdHlSZXBvcnRGcmVxdWVuY3kgKyA1MDApIHsJCS8vIFdlcmUgd2Ugc2xlZXBpbmc/DQoJCQkJCXN0b2NrTGlzdC5zZXNzaW9uU3RhcnQgKz0gbm93IC0gc3RvY2tMaXN0LnNlc3Npb25MYXN0VGltZSAtIHN0b2NrZXJBY3Rpdml0eVJlcG9ydEZyZXF1ZW5jeTsNCgkJCQl9DQoNCgkJCQl2YXIgc3RvY2tlclVwdGltZSA9IE1hdGguZmxvb3IoKG5vdyAtIHN0b2NrTGlzdC5zZXNzaW9uU3RhcnQpIC8gMTAwMCkgKiAxMDAwOw0KCQkJCXZhciB0b3RhbFN0b2NrcyA9IDA7DQoJCQkJdmFyIHRvdGFsU2hhcmVzID0gMDsNCgkJCQl2YXIgdG90YWxWYWx1ZSA9IDA7DQoJCQkJdmFyIHVucmVhbGl6ZWRQcm9maXRzID0gMDsNCgkJCQlsZXQgaiwgazsNCg0KCQkJCXN0b2NrTGlzdC5zZXNzaW9uTGFzdFRpbWUgPSBub3c7DQoJCQkJc3RvY2tlclVwdGltZSAtPSBzdG9ja2VyVXB0aW1lICUgc3RvY2tlckxvb3BGcmVxdWVuY3k7DQoJCQkJaWYgKHN0b2NrZXJBY3Rpdml0eVJlcG9ydCkNCgkJCQkJaWYgKChzdG9ja0xpc3Quc2Vzc2lvblB1cmNoYXNlcyArIHN0b2NrTGlzdC5zZXNzaW9uU2FsZXMpID09IDApIHsNCgkJCQkJCUdhbWUuTm90aWZ5KA0KCQkJCQkJCWBDb29raVN0b2NrZXIgcmVwb3J0ICR7bmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHtob3VyQ3ljbGU6ICdoMjMnLCBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnfSl9YCwNCgkJCQkJCQlgVGhpcyBzZXNzaW9uIGhhcyBiZWVuIHJ1bm5pbmcgZm9yICR7c3RvY2tlclRpbWVCZWF1dGlmaWVyKHN0b2NrZXJVcHRpbWUpfSwgYnV0IG5vIGdvb2QgaW52ZXN0bWVudCBvcHBvcnR1bml0aWVzIHdlcmUgZGV0ZWN0ZWQhIEx1Y2sgaXMgbm90IG9uIG91ciBzaWRlLCB5ZXQuYA0KCQkJCQkJCSxbMSwgMzNdLHN0b2NrZXJGYXN0Tm90aWZpY2F0aW9ucw0KCQkJCQkJKTsNCgkJCQkJfSBlbHNlIHsNCgkJCQkJCUdhbWUuTm90aWZ5KA0KCQkJCQkJCWBDb29raVN0b2NrZXIgcmVwb3J0ICR7bmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHtob3VyQ3ljbGU6ICdoMjMnLCBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnfSl9YCwNCgkJCQkJCQlgVGhpcyBzZXNzaW9uIGhhcyBiZWVuIHJ1bm5pbmcgZm9yICR7c3RvY2tlclRpbWVCZWF1dGlmaWVyKHN0b2NrZXJVcHRpbWUpfSBhbmQgaGFzIG1hZGUgJCR7QmVhdXRpZnkoc3RvY2tMaXN0LnNlc3Npb25OZXRQcm9maXRzLCAwKX0gaW4gbmV0IHByb2ZpdHMgYW5kICQke0JlYXV0aWZ5KHN0b2NrTGlzdC5zZXNzaW9uUHJvZml0cywgMCl9IGluIHJldmVudWUgKGRpc3BsYXllZCBwcm9maXRzKSBpbiAke0JlYXV0aWZ5KHN0b2NrTGlzdC5zZXNzaW9uUHVyY2hhc2VzLCAwKX0gcHVyY2hhc2VzIGFuZCAke0JlYXV0aWZ5KHN0b2NrTGlzdC5zZXNzaW9uU2FsZXMsIDApfSBzYWxlcy5gLFsxLCAzM10sc3RvY2tlckZhc3ROb3RpZmljYXRpb25zDQoJCQkJCQkpOw0KCQkJCQl9DQoJCQkJaWYgKHN0b2NrZXJDb25zb2xlQW5ub3VuY2VtZW50cykgew0KCQkJCQlsZXQgdG90YWxQcm9maXRzID0gMDsNCgkJCQkJbGV0IHN1YnRvdGFsUHJvZml0cyA9IDA7DQoJCQkJCWxldCBkZWx0YVRvdGFsUHJvZml0cyA9IDA7DQoJCQkJCWxldCBkZWx0YVN1YnRvdGFsUHJvZml0cyA9IDA7DQoJCQkJCWxldCB0b3RhbFRyYWRlcyA9IDA7DQoJCQkJCWxldCBzdWJ0b3RhbFRyYWRlcyA9IDA7DQoJCQkJCWxldCBwcm9maXQgPSAwOw0KCQkJCQlsZXQgbGFzdFByb2ZpdCA9IDA7DQoJCQkJCWxldCB0cmFkZXMgPSAwOw0KCQkJCQlsZXQgc3RyUHJvZml0ID0gJyc7DQoJCQkJCWxldCBzdHJEZWx0YU1vZGVQcm9maXRzID0gJyc7DQoJCQkJCWxldCBzdHJUcmFkZXMgPSAnJzsNCg0KCQkJCQlmb3IgKGogPSAwOyBqIDwgbWFya2V0Lmxlbmd0aDsgaisrKSB7DQoJCQkJCQlpZiAoc3RvY2tMaXN0Lmdvb2RzW2pdLnN0b2NrKSB7DQoJCQkJCQkJdG90YWxTdG9ja3MrKzsNCgkJCQkJCQl0b3RhbFNoYXJlcyArPSBzdG9ja0xpc3QuZ29vZHNbal0uc3RvY2s7DQoJCQkJCQkJdG90YWxWYWx1ZSArPSBzdG9ja0xpc3QuZ29vZHNbal0uc3RvY2sgKiBzdG9ja0xpc3QuZ29vZHNbal0uY3VycmVudFByaWNlOw0KCQkJCQkJCXVucmVhbGl6ZWRQcm9maXRzICs9IChtYXJrZXRbal0udmFsIC0gbWFya2V0W2pdLnByZXYpICogc3RvY2tMaXN0Lmdvb2RzW2pdLnN0b2NrOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWNvbnNvbGUubG9nKGBSdW5uaW5nIGZvciAke3N0b2NrZXJUaW1lQmVhdXRpZmllcihzdG9ja2VyVXB0aW1lKX0gYW5kIG1hZGUgJCR7QmVhdXRpZnkoc3RvY2tMaXN0LnNlc3Npb25OZXRQcm9maXRzLCAwKX1cbiAgaW4gbmV0IHByb2ZpdHMgYW5kICQke0JlYXV0aWZ5KHN0b2NrTGlzdC5zZXNzaW9uUHJvZml0cywgMCl9IGluIHJldmVudWUgKGRpc3BsYXllZCBwcm9maXRzKVxuICBpbiAke0JlYXV0aWZ5KHN0b2NrTGlzdC5zZXNzaW9uUHVyY2hhc2VzLCAwKX0gcHVyY2hhc2VzIGFuZCAke0JlYXV0aWZ5KHN0b2NrTGlzdC5zZXNzaW9uU2FsZXMsIDApfSBzYWxlcy5cblRvdGFsIG51bWJlciBvZiBzdG9ja3MgaGVsZDogJHt0b3RhbFN0b2Nrc30uICBUb3RhbCBzaGFyZXM6ICR7QmVhdXRpZnkodG90YWxTaGFyZXMsIDApfS5cblRvdGFsIHZhbHVlOiAkJHtCZWF1dGlmeSh0b3RhbFZhbHVlKX0uICBVbnJlYWxpemVkIHByb2ZpdHM6ICQke0JlYXV0aWZ5KHVucmVhbGl6ZWRQcm9maXRzLCAyKX0uXG5Ub3RhbCBncm9zcyBwcm9maXRzOiAgJCR7QmVhdXRpZnkoc3RvY2tMaXN0LnNlc3Npb25Hcm9zc1Byb2ZpdHMsIDApfS4gIFByb2ZpdGFibGUgc3RvY2tzOiAgJHtzdG9ja0xpc3Quc2Vzc2lvblByb2ZpdGFibGVTdG9ja3N9LlxuUHJvZml0YWJsZSB0cmFkZXM6ICAke3N0b2NrTGlzdC5zZXNzaW9uUHJvZml0YWJsZVRyYWRlc30uICBBdmVyYWdlIHByb2ZpdCBwZXIgdHJhZGU6ICAkJHtzdG9ja0xpc3Quc2Vzc2lvbkdyb3NzUHJvZml0cyA/IEJlYXV0aWZ5KHN0b2NrTGlzdC5zZXNzaW9uR3Jvc3NQcm9maXRzIC8gc3RvY2tMaXN0LnNlc3Npb25Qcm9maXRhYmxlVHJhZGVzLCAyKSA6IDB9LlxuVG90YWwgZ3Jvc3MgbG9zc2VzOiAgJCR7QmVhdXRpZnkoc3RvY2tMaXN0LnNlc3Npb25Hcm9zc0xvc3NlcywgMCl9LiAgVW5wcm9maXRhYmxlIHN0b2NrczogICR7c3RvY2tMaXN0LnNlc3Npb25VbnByb2ZpdGFibGVTdG9ja3N9LlxuVW5wcm9maXRhYmxlIHRyYWRlczogICR7c3RvY2tMaXN0LnNlc3Npb25VbnByb2ZpdGFibGVUcmFkZXN9LiAgQXZlcmFnZSBsb3NzIHBlciB0cmFkZTogICQke3N0b2NrTGlzdC5zZXNzaW9uR3Jvc3NMb3NzZXMgPyBCZWF1dGlmeShzdG9ja0xpc3Quc2Vzc2lvbkdyb3NzTG9zc2VzIC8gc3RvY2tMaXN0LnNlc3Npb25VbnByb2ZpdGFibGVUcmFkZXMsIDIpIDogMH0uYCk7DQoJCQkJCQ0KCQkJCQkvLyBTdGF0cyBmb3IgaW5kaXZpZHVhbCBtb2Rlcw0KCQkJCQlmb3IgKGogPSAwOyBqIDwgNjsgaisrKQ0KCQkJCQkJZm9yIChrID0gMDsgayA8IDY7IGsrKykNCgkJCQkJCQl0b3RhbFByb2ZpdHMgKz0gc3RvY2tlck1vZGVQcm9maXRzW2pdW2tdWzBdOw0KCQkJCQlmb3IgKGogPSAwOyBqIDwgNjsgaisrKQ0KCQkJCQkJZm9yIChrID0gMDsgayA8IDY7IGsrKykgew0KCQkJCQkJCXByb2ZpdCA9IHN0b2NrZXJNb2RlUHJvZml0c1tqXVtrXVswXTsNCgkJCQkJCQlsYXN0UHJvZml0ID0gc3RvY2tlck1vZGVQcm9maXRzW2pdW2tdWzFdOw0KCQkJCQkJCXRyYWRlcyA9IHN0b2NrZXJNb2RlUHJvZml0c1tqXVtrXVsyXTsNCgkJCQkJCQlzdHJQcm9maXQgPSBwcm9maXQgPyAoKDEwMCAqIHByb2ZpdC90b3RhbFByb2ZpdHMpLnRvRml4ZWQoMikgKyAnJScpLnBhZFN0YXJ0KDgpIDogJyc7DQoJCQkJCQkJc3RyRGVsdGFNb2RlUHJvZml0cyA9IChsYXN0UHJvZml0ID8gJyQnICsgQmVhdXRpZnkobGFzdFByb2ZpdCwgMikgOiAnJykucGFkU3RhcnQoMTQpOw0KCQkJCQkJCXN0clRyYWRlcyA9IHRyYWRlcyA/ICgnICcgKyB0cmFkZXMgKyAnIHRyYWRlJyArICh0cmFkZXMgPiAxID8gJ3MnIDogJyAnKSkucGFkU3RhcnQoMTMpIDogJyc7DQoJCQkJCQkJDQoJCQkJCQkJY29uc29sZS5sb2coYFByb2ZpdHNbJHtqfV1bJHtrfV0gPSAkJHtCZWF1dGlmeShwcm9maXQsIDIpLnBhZEVuZCgxNCl9ICR7c3RyUHJvZml0fSR7c3RyRGVsdGFNb2RlUHJvZml0c30ke3N0clRyYWRlc31gKTsNCgkJCQkJCQlzdWJ0b3RhbFByb2ZpdHMgKz0gcHJvZml0Ow0KCQkJCQkJCWRlbHRhU3VidG90YWxQcm9maXRzICs9IGxhc3RQcm9maXQ7DQoJCQkJCQkJZGVsdGFUb3RhbFByb2ZpdHMgKz0gbGFzdFByb2ZpdDsNCgkJCQkJCQlzdWJ0b3RhbFRyYWRlcyArPSB0cmFkZXM7DQoJCQkJCQkJdG90YWxUcmFkZXMgKz0gdHJhZGVzOw0KCQkJCQkJfQ0KCQkJCQkJDQoJCQkJCS8vIFN0YXRzIGZvciBzdWJ0b3RhbHMNCgkJCQkJZm9yIChqID0gMDsgaiA8IDY7IGorKykgew0KCQkJCQkJc3VidG90YWxQcm9maXRzID0gMDsNCgkJCQkJCWRlbHRhU3VidG90YWxQcm9maXRzID0gMDsNCgkJCQkJCXN1YnRvdGFsVHJhZGVzID0gMDsNCgkJCQkJCWZvciAoayA9IDA7IGsgPCA2OyBrKyspIHsNCgkJCQkJCQlzdWJ0b3RhbFByb2ZpdHMgKz0gc3RvY2tlck1vZGVQcm9maXRzW2pdW2tdWzBdOw0KCQkJCQkJCWRlbHRhU3VidG90YWxQcm9maXRzICs9IHN0b2NrZXJNb2RlUHJvZml0c1tqXVtrXVsxXTsNCgkJCQkJCQlzdWJ0b3RhbFRyYWRlcyArPSBzdG9ja2VyTW9kZVByb2ZpdHNbal1ba11bMl07DQoJCQkJCQkJc3RvY2tlck1vZGVQcm9maXRzW2pdW2tdWzFdID0gMDsNCgkJCQkJCX0NCgkJCQkJCXN0clByb2ZpdCA9IHN1YnRvdGFsUHJvZml0cyA/ICgoMTAwICogc3VidG90YWxQcm9maXRzL3RvdGFsUHJvZml0cykudG9GaXhlZCgyKSArICclJykucGFkU3RhcnQoOCkgOiAnJzsNCgkJCQkJCXN0ckRlbHRhTW9kZVByb2ZpdHMgPSAoZGVsdGFTdWJ0b3RhbFByb2ZpdHMgPyAnJCcgKyBCZWF1dGlmeShkZWx0YVN1YnRvdGFsUHJvZml0cywgMikgOiAnJykucGFkU3RhcnQoMTQpOw0KCQkJCQkJc3RyVHJhZGVzID0gc3VidG90YWxUcmFkZXMgPyAoJyAnICsgc3VidG90YWxUcmFkZXMgKyAnIHRyYWRlJyArIChzdWJ0b3RhbFRyYWRlcyA+IDEgPyAncycgOiAnICcpKS5wYWRTdGFydCgxMykgOiAnJzsNCgkJCQkJCQ0KCQkJCQkJY29uc29sZS5sb2coYFN1YnRvdGFsWyR7an1dYC5wYWRFbmQoMTQpICsgYD0gJCR7QmVhdXRpZnkoc3VidG90YWxQcm9maXRzLCAyKS5wYWRFbmQoMTQpfSAke3N0clByb2ZpdH0ke3N0ckRlbHRhTW9kZVByb2ZpdHN9JHtzdHJUcmFkZXN9YCk7DQoJCQkJCQlzdWJ0b3RhbFByb2ZpdHMgPSAwOw0KCQkJCQkJZGVsdGFTdWJ0b3RhbFByb2ZpdHMgPSAwOw0KCQkJCQkJc3VidG90YWxUcmFkZXMgPSAwOw0KCQkJCQl9DQoJCQkJCQ0KCQkJCQkvLyBTdGF0cyBmb3IgdG90YWxzDQoJCQkJCWxldCBob3VybHlQcm9maXRzID0gdG90YWxQcm9maXRzICogKHN0b2NrZXJMb29wRnJlcXVlbmN5IC8gNjBfMDAwKSAqIDM2MDBfMDAwIC8gc3RvY2tlclVwdGltZTsNCgkJCQkJbGV0IGRhaWx5UHJvZml0cyA9IHRvdGFsUHJvZml0cyAqIChzdG9ja2VyTG9vcEZyZXF1ZW5jeSAvIDYwXzAwMCkgKiA4Nl80MDBfMDAwIC8gc3RvY2tlclVwdGltZTsNCg0KCQkJCQlpZiAoIXN0b2NrZXJGb3JjZUxvb3BVcGRhdGVzKSB7DQoJCQkJCQlob3VybHlQcm9maXRzICo9IDI7DQoJCQkJCQlkYWlseVByb2ZpdHMgKj0gMjsNCgkJCQkJfQ0KCQkJCQljb25zb2xlLmxvZyhgVG90YWwgcHJvZml0cyA9ICQke0JlYXV0aWZ5KHRvdGFsUHJvZml0cywgMikucGFkRW5kKDIyKX0keyhkZWx0YVRvdGFsUHJvZml0cyA/ICckJyArIEJlYXV0aWZ5KGRlbHRhVG90YWxQcm9maXRzLCAyKSA6ICcnKS5wYWRTdGFydCgxNSl9JHt0b3RhbFRyYWRlcyA/ICgnICcgKyB0b3RhbFRyYWRlcyArICcgdHJhZGUnICsgKHRvdGFsVHJhZGVzID4gMSA/ICdzJyA6ICcgJykpLnBhZFN0YXJ0KDEzKSA6ICcnfWApOw0KCQkJCQljb25zb2xlLmxvZyhgUHJvZml0IHBlciBob3VyID0gJCR7QmVhdXRpZnkoaG91cmx5UHJvZml0cywgMil9OyBwcm9maXQgcGVyIGRheSA9ICQke0JlYXV0aWZ5KGRhaWx5UHJvZml0cywgMil9YCk7DQoJCQkJCWNvbnNvbGUubG9nKGBUaGF0J3MgJHtCZWF1dGlmeShob3VybHlQcm9maXRzICogR2FtZS5jb29raWVzUHNSYXdIaWdoZXN0LCAyKX0gY29va2llcyBhbmQgJHtCZWF1dGlmeShkYWlseVByb2ZpdHMgKiBHYW1lLmNvb2tpZXNQc1Jhd0hpZ2hlc3QsIDIpfSBjb29raWVzLCByZXNwZWN0aXZlbHkuIEl0J3MgYWxzbyAke0JlYXV0aWZ5KChob3VybHlQcm9maXRzIC8gMzYwMCksIDApfSB0aW1lcyB5b3VyIGhpZ2hlc3QgcmF3IGNvb2tpZSBwcm9kdWN0aW9uIHJhdGUuYCk7DQoJCQkJCWlmIChzdG9ja2VyRm9yY2VMb29wVXBkYXRlcykgew0KCQkJCQkJY29uc29sZS5sb2coJ0luIHVuYWRqdXN0ZWQsIHRydWUgbnVtYmVyczonKTsNCgkJCQkJCWhvdXJseVByb2ZpdHMgKj0gNjBfMDAwIC8gc3RvY2tlckxvb3BGcmVxdWVuY3k7DQoJCQkJCQlkYWlseVByb2ZpdHMgKj0gNjBfMDAwIC8gc3RvY2tlckxvb3BGcmVxdWVuY3k7DQoJCQkJCQljb25zb2xlLmxvZyhgUHJvZml0IHBlciBob3VyID0gJCR7QmVhdXRpZnkoaG91cmx5UHJvZml0cywgMil9OyBwcm9maXQgcGVyIGRpZW0gPSAkJHtCZWF1dGlmeShkYWlseVByb2ZpdHMsIDIpfWApOw0KCQkJCQkJY29uc29sZS5sb2coYFRoYXQncyAke0JlYXV0aWZ5KGhvdXJseVByb2ZpdHMgKiBHYW1lLmNvb2tpZXNQc1Jhd0hpZ2hlc3QsIDIpfSBjb29raWVzIGFuZCAke0JlYXV0aWZ5KGRhaWx5UHJvZml0cyAqIEdhbWUuY29va2llc1BzUmF3SGlnaGVzdCwgMil9IGNvb2tpZXMsIHJlc3BlY3RpdmVseS4gSXQncyBhbHNvICR7QmVhdXRpZnkoKGhvdXJseVByb2ZpdHMgLyAzNjAwKSwgMCl9IHRpbWVzIHlvdXIgaGlnaGVzdCByYXcgY29va2llIHByb2R1Y3Rpb24gcmF0ZS5gKTsNCgkJCQkJfQ0KCQkJCQljb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7DQoJCQkJfQ0KCQkJfSxzdG9ja2VyQWN0aXZpdHlSZXBvcnRGcmVxdWVuY3kpOw0KCQl9DQoJfSwNCn0pOw0KDQp9DQplbHNlIHNldFRpbWVvdXQod2FpdEZvckdhbWUsMTAwKQ0KfSkNCgkJdmFyIHN0b2NrZXJTdG9wVHJhZGluZyA9IGZhbHNlDQoJCQ0KCQkvLyBBbm5vdW5jZSB0cmFuc2FjdGlvbnMgaW4gZ2FtZSBub3RpZmljYXRpb25zDQoJCXZhciBzdG9ja2VyVHJhbnNhY3Rpb25Ob3RpZmljYXRpb25zID0gZmFsc2UNCg0KCQkvLyBNYWtlIHJlZ3VsYXIgcHJvZml0IHJlcG9ydHMNCgkJdmFyIHN0b2NrZXJBY3Rpdml0eVJlcG9ydCA9IGZhbHNlDQoJCQkvLyBIb3cgb2Z0ZW4gdG8gbWFrZSByZWd1bGFyIHJlcG9ydHMgaW4gbXMgKG9uZSBob3VyIGJ5IGRlZmF1bHQpDQoJCQl2YXIgc3RvY2tlckFjdGl2aXR5UmVwb3J0RnJlcXVlbmN5ID0gMTAwMCAqIDYwDQoNCgkJLy8gTWFrZSBnYW1lIG5vdGlmaWNhdGlvbnMgZmFkZSBhd2F5IG9uIHRoZWlyIG93bg0KCQl2YXIgc3RvY2tlckZhc3ROb3RpZmljYXRpb25zID0gZmFsc2UNCg0KCQkvLyBVc2UgY29uc29sZS5sb2cgZm9yIG1vcmUgZGV0YWlsZWQgaW5mbyBvbiBwcmljZXMgYW5kIHRyZW5kcw0KCQl2YXIgc3RvY2tlckNvbnNvbGVBbm5vdW5jZW1lbnRzID0gdHJ1ZQ0KDQoJCS8vIExvZ2ljIGxvb3AgZnJlcXVlbmN5OyBkbyBub3QgdG91Y2ggaXQgdW5sZXNzIHlvdSBhcmUgY2hlYXRpbmcNCgkJdmFyIHN0b2NrZXJMb29wRnJlcXVlbmN5ID0gMTAwMCAqIDMwDQoNCgkJDQoJCS8vIFRoZSBjaGVhdCBpdHNlbGYuIFJvbGxzIHRoZSBjeWNsZSBldmVyeSB0aW1lIGxvZ2ljIGxvb3AgdHJpZ2dlcnMNCgkJdmFyIHN0b2NrZXJGb3JjZUxvb3BVcGRhdGVzID0gZmFsc2UNCg0KCQl2YXIgaGlkZUJvZ2Rhbm9mZiA9IHRydWUNCgkJdmFyIHN0b2NrZXJHcmVldGluZyA9ICdjbGljayBjbGFjayB5b3UgYXJlIG5vdyBpbiBkZWJ0Jw0KDQoNCg0KLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCg0KaWYodHlwZW9mIENDU0UgPT0gdW5kZWZpbmVkKQ0KCUdhbWUuTG9hZE1vZCgnaHR0cHM6Ly9rbGF0dG1vc2UuZ2l0aHViLmlvL0Nvb2tpZUNsaWNrZXIvU3RlYW1Nb2RzL0NDU0UvbWFpbi5qcycpDQoNCmlmKENvb2tpU3RvY2tlciA9PT0gdW5kZWZpbmVkKSB2YXIgQ29va2lTdG9ja2VyID0ge307DQoNCkNvb2tpU3RvY2tlci5uYW1lID0gJ0Nvb2tpU3RvY2tlcic7DQpDb29raVN0b2NrZXIudmVyc2lvbiA9ICcyLjAnOw0KQ29va2lTdG9ja2VyLkdhbWVWZXJzaW9uID0gJzIuMDUyJzsNCg0KaWYgKHN0b2NrTGlzdCA9PT0gdW5kZWZpbmVkKSB7DQoJdmFyIHN0b2NrTGlzdCA9IHsNCgkJY2hlY2s6ICdkdW1wIGVldCcsDQoJCWdvb2RzOiBbXSwNCgkJc2Vzc2lvblN0YXJ0OiBEYXRlLm5vdygpICsgNTAwLA0KCQlzZXNzaW9uTGFzdFRpbWU6IERhdGUubm93KCkgKyA1MDAsDQoJCXN0YXJ0aW5nUHJvZml0czogMCwNCgkJc2Vzc2lvblByb2ZpdHM6IDAsDQoJCXNlc3Npb25OZXRQcm9maXRzOiAwLA0KCQlzZXNzaW9uR3Jvc3NQcm9maXRzOiAwLA0KCQlzZXNzaW9uR3Jvc3NMb3NzZXM6IDAsDQoJCXNlc3Npb25Qcm9maXRhYmxlU3RvY2tzOiAwLA0KCQlzZXNzaW9uVW5wcm9maXRhYmxlU3RvY2tzOiAwLA0KCQlzZXNzaW9uUHJvZml0YWJsZVRyYWRlczogMCwNCgkJc2Vzc2lvblVucHJvZml0YWJsZVRyYWRlczogMCwNCgkJc2Vzc2lvblB1cmNoYXNlczogMCwNCgkJc2Vzc2lvblNhbGVzOiAwLA0KCX0NCn0NCg0KaWYgKCFoaWRlQm9nZGFub2ZmKSBjb25zb2xlLmxvZygnXG5cbsOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCgMOiwqPCvMOiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCp8OiwqHCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCiMOiwqDCicOiwqDCgMOiwqDCgFxuw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCo8K+w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCocKGw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAXG7DosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKiwrjDosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKhwobDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoBcbsOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCgMOiwqPCgMOiwqPCgMOiwqHCgFxuw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCosKAw6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCoMK/w6LCoMK/w6LCosK/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCocKGw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKIw6LCoMKbw6LCosK/w6LCo8K3XG7DosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKiwoDDosKjwr7DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKhwp/DosKgwoHDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwojDosKgwonDosKgwonDosKgwonDosKgwonDosKgwrvDosKiwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKgwoPDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKjwrjDosKjwr9cbsOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCmMOiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCu8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqHChMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCoMOiwqPCvsOiwqPCv8OiwqPCv1xuw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCocKPw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKIw6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCocKHw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKIw6LCosK/w6LCo8K/w6LCo8K/w6LCo8K/XG7DosKgwoPDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKhwofDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwojDosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKhwr/DosKgwoHDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwojDosKjwr/DosKjwr/DosKjwr9cbsOiwqDCgMOiwqLCgMOiwqDCgMOiwqLCoMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqDCgcOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCgMOiwqHCiMOiwqDCu8OiwqDCn8OiwqDCm8OiwqDCm8OiwqLCv8OiwqPCv8OiwqPCv8OiwqHCv8OiwqDCh8OiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqPCv8OiwqPCv8OiwqPCv1xuw6LCo8K2w6LCo8K/w6LCocKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCosK7w6LCo8K/w6LCoMKLw6LCoMKAw6LCoMKAw6LCo8Kgw6LCo8Kkw6LCo8KEw6LCo8KAw6LCo8Kgw6LCo8KAw6LCocKAw6LCoMKAw6LCoMKAw6LCosKAw6LCo8Kkw6LCo8K0w6LCo8K2w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCocKGw6LCoMKAw6LCoMKAw6LCoMKAw6LCosK7w6LCo8K/w6LCocKGw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKYw6LCoMKLw6LCoMKAXG7DosKjwr/DosKjwr/DosKjwqfDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwojDosKgwoHDosKgwoDDosKgwoDDosKgwo7DosKiwoDDosKjwqnDosKhwr3DosKjwr/DosKjwr/DosKjwr/DosKhwo/DosKgwoDDosKgwoDDosKgwpjDosKjwr/DosKjwr/DosKgwp/DosKgwpnDosKgwr/DosKgwr/DosKgwp/DosKgwovDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKiwoDDosKjwoTDosKgwoPDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoBcbsOiwqPCv8OiwqPCv8OiwqDCicOiwqDCgMOiwqPCoMOiwqPCpMOiwqHCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCiMOiwqDCicOiwqDCgMOiwqDCiMOiwqDCicOiwqDCicOiwqDCgcOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCiMOiwqDCgcOiwqLCgMOiwqPCpMOiwqDChMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCuMOiwqHCt8OiwqDCgFxuw6LCo8K/w6LCo8K/w6LCo8K3w6LCocK+w6LCoMKfw6LCoMKLw6LCoMKBw6LCoMKAw6LCoMKAw6LCoMKAw6LCosK8w6LCocKGw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCo8KAw6LCoMKAXG7DosKjwr/DosKgwp/DosKgwoHDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKiwoDDosKjwrTDosKjwr/DosKhwoTDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwpDDosKgwr7DosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwpvDosKgwoBcbsOiwqPCv8OiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqPCsMOiwqDCgMOiwqLCuMOiwqPCv8OiwqDCm8OiwqDCicOiwqDCgsOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCtsOiwqDCpMOiwqPCtMOiwqPCtsOiwqDCvsOiwqDCn8OiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgFxuw6LCoMKPw6LCoMKAw6LCoMKAw6LCoMKQw6LCocKrw6LCosKAw6LCo8K+w6LCocKHw6LCoMKAw6LCoMKIw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKIw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAXG7DosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKiwoDDosKjwqDDosKjwrTDosKjwrbDosKgwoDDosKgwoDDosKgwoTDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKjwoDDosKjwqDDosKjwoDDosKjwoDDosKjwqDDosKjwqTDosKjwoTDosKjwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoBcbsOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqPCoMOiwqPCtMOiwqDCgMOiwqDCucOiwqHCh8OiwqLCv8OiwqPCv8OiwqDCg8OiwqDCgMOiwqDCgMOiwqDCkMOiwqHCgMOiwqDCgMOiwqLCoMOiwqPCtMOiwqDCtsOiwqDCv8OiwqDCv8OiwqDCv8OiwqDCv8OiwqDCv8OiwqDCn8OiwqLCm8OiwqHCv8OiwqDCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPChMOiwqDCgMOiwqHChsOiwqDCgMOiwqDCuMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgFxuw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKgw6LCosK+w6LCo8K/w6LCo8Kfw6LCo8Kgw6LCosKJw6LCo8Klw6LCo8K8w6LCocKPw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKYw6LCo8K2w6LCoMKBw6LCoMKAw6LCoMKAw6LCosKkw6LCo8Kkw6LCo8Kgw6LCo8Kkw6LCo8Kkw6LCo8K2w6LCocK/w6LCoMKDw6LCoMKAw6LCoMK5w6LCo8K/w6LCo8K/w6LCo8K3w6LCo8K+w6LCoMKBw6LCoMKAw6LCoMKAw6LCoMKAw6LCo8K3w6LCocKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAXG7DosKgwoDDosKgwoDDosKgwoDDosKjwqDDosKjwr7DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKhwp/DosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwpjDosKjwobDosKgwoDDosKgwoDDosKgwoDDosKgwonDosKgwpvDosKgwpvDosKgwpvDosKgwonDosKgwoDDosKgwoDDosKgwoDDosKiwoDDosKjwr/DosKjwr/DosKhwp/DosKgwoHDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKjwrDDosKjwr/DosKjwrfDosKjwoTDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoBcbsOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCkMOiwqLCv8OiwqDCn8OiwqDCi8OiwqDCmcOiwqDCu8OiwqPCv8OiwqPCg8OiwqPCgMOiwqPCgMOiwqPCpMOiwqPCpMOiwqPCtsOiwqPCvsOiwqPCv8OiwqDCgcOiwqPChMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqPCvMOiwqDCn8OiwqDCicOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqPCtMOiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCpsOiwqHCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgFxuw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCosK4w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCocKGw6LCoMK4w6LCo8Kmw6LCo8Kkw6LCo8KEw6LCo8KAw6LCo8KAw6LCo8Kgw6LCo8Kkw6LCo8Kkw6LCo8K0w6LCoMKOw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCoMKAw6LCosKAw6LCo8K8w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K/w6LCo8K2w6LCo8Kkw6LCo8Kkw6LCo8KEw6LCo8KAXG7DosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKjwrDDosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKhwofDosKgwoDDosKgwrnDosKjwo/DosKgwpvDosKgwpvDosKgwpvDosKgwpvDosKgwpvDosKgwonDosKgwoHDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKgwoDDosKiwqDDosKjwr7DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr/DosKjwr9cbsOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCgMOiwqDCgMOiwqLCgMOiwqPCpMOiwqPCvsOiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqHCh8OiwqDCgMOiwqDCgMOiwqDCmcOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqDCgMOiwqLCgMOiwqPCtMOiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv8OiwqPCv1xuXG4gICAgIHdvdCBpeiBoZSBkb2luZyBpbiB6ZSBjb25zb2xlP1xuXG5cbicpOw0KDQp2YXIgbW9kZURlY29kZXIgPSBbJ3N0YWJsZScsJ3Nsb3dseSByaXNpbmcnLCdzbG93bHkgZmFsbGluZycsJ3JhcGlkbHkgcmlzaW5nJywncmFwaWRseSBmYWxsaW5nJywnZmx1Y3R1YXRpbmcnXSAvLyBtZWFuaW5ncyBvZiBlYWNoIG1hcmtldCB0cmVuZCAoZ29vZC5tb2RlKQ0KdmFyIGdvb2RJY29ucyA9IFtbMiwzM10sWzMsMzNdLFs0LDMzXSxbMTUsMzNdLFsxNiwzM10sWzE3LDMzXSxbNSwzM10sWzYsMzNdLFs3LDMzXSxbOCwzM10sWzEzLDMzXSxbMTQsMzNdLFsxOSwzM10sWzIwLDMzXSxbMzIsMzNdLFszMywzM10sWzM0LDMzXSxbMzUsMzNdXTsNCg0KQ29va2lTdG9ja2VyLmxhdW5jaCA9IGZ1bmN0aW9uKCkgew0KCWlzTG9hZGVkID0gMTsNCn0NCg0KaWYgKCFDb29raVN0b2NrZXIuaXNMb2FkZWQpew0KCWlmIChDQ1NFICYmIENDU0UuaXNMb2FkZWQpIHsNCgkJQ29va2lTdG9ja2VyLmxhdW5jaCgpOw0KCX0NCgllbHNlIHsNCgkJaWYoIUNDU0UpIHZhciBDQ1NFID0ge307DQoJCWlmKCFDQ1NFLnBvc3RMb2FkSG9va3MpIENDU0UucG9zdExvYWRIb29rcyA9IFtdOw0KCQlDQ1NFLnBvc3RMb2FkSG9va3MucHVzaChDb29raVN0b2NrZXIubGF1bmNoKTsNCgl9DQp9DQovKg0KQ29va2lTdG9ja2VyLm9wdGlvbnNNZW51ID0gZnVuY3Rpb24oKXsNCgl2YXIgaFN0ciA9ICcgJzxkaXYgY2xhc3M9Imxpc3RpbmciPicgKyBDQ1NFLk1lbnVIZWxwZXIuQWN0aW9uQnV0dG9uKCIiLCAiVW5sb2NrIEhhcmRjb3JlIEFjaGlldmVtZW50IikgKyAnPC9kaXY+JzsNCn0NCiovDQpmdW5jdGlvbiBzdG9ja2VyVGltZUJlYXV0aWZpZXIoZHVyYXRpb24pIHsNCgl2YXIgbWlsbGlzZWNvbmRzID0gTWF0aC5mbG9vcigoZHVyYXRpb24gJSAxMDAwKSAvIDEwMCksDQoJICBzZWNvbmRzID0gTWF0aC5mbG9vcigoZHVyYXRpb24gLyAxMDAwKSAlIDYwKSwNCgkgIG1pbnV0ZXMgPSBNYXRoLmZsb29yKChkdXJhdGlvbiAvICgxMDAwICogNjApKSAlIDYwKSwNCgkgIGhvdXJzID0gTWF0aC5mbG9vcigoZHVyYXRpb24gLyAoMTAwMCAqIDYwICogNjApKSAlIDI0KSwNCgkgIGRheXMgPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTsNCglpZiAoc2Vjb25kcyAmJiAobWludXRlcyB8fCBob3VycyB8fCBkYXlzKSAmJiAhc3RvY2tlckZvcmNlTG9vcFVwZGF0ZXMpDQoJCXNlY29uZHMgPSAwOwkJCQkJCS8vIERvbid0IGRpc3BsYXkNCgl2YXIgc3RyU2Vjb25kcyA9IHNlY29uZHMgKyAnIHNlY29uZCcgKyAoc2Vjb25kcyAhPSAxID8gJ3MnIDogJycpOw0KCXZhciBzdHJNaW51dGVzID0gbWludXRlcyA/IG1pbnV0ZXMgKyAnIG1pbnV0ZScgKyAobWludXRlcyAhPSAxID8gJ3MnIDogJycpICsgKHNlY29uZHMgPyAoaG91cnMgfHwgZGF5cyA/ICcsIGFuZCAnIDogJyBhbmQgJykgOiAnJykgOiAnJzsNCgl2YXIgc3RySG91cnMgPSBob3VycyA/IGhvdXJzICsgJyBob3VyJyArIChob3VycyAhPSAxID8gJ3MnIDogJycpICsgKG1pbnV0ZXMgJiYgc2Vjb25kcyA/ICcsICcgOiAoKG1pbnV0ZXMgPyAhc2Vjb25kcyA6IHNlY29uZHMpID8gJyBhbmQgJyA6ICcnKSkgOiAnJzsNCgl2YXIgc3RyRGF5cyA9IGRheXMgPyBkYXlzICsgJyBkYXknICsgKGRheXMgIT0gMSA/ICdzJyA6ICcnKSArIChob3VycyAmJiBtaW51dGVzIHx8IGhvdXJzICYmIHNlY29uZHMgfHwgbWludXRlcyAmJiBzZWNvbmRzID8gJywgJyA6ICgoKGhvdXJzID8gIW1pbnV0ZXMgOiBtaW51dGVzKSA/ICFzZWNvbmRzIDogc2Vjb25kcykgPyAnIGFuZCAnIDogJycpKSA6ICcnOw0KCXZhciBzdHJUaW1lID0gc3RyRGF5cyArIHN0ckhvdXJzICsgc3RyTWludXRlczsNCglpZiAoc3RvY2tlckZvcmNlTG9vcFVwZGF0ZXMgJiYgc2Vjb25kcykNCgkJc3RyVGltZSArPSBzdHJTZWNvbmRzOyANCglpZiAobWludXRlcyB8fCBob3VycyB8fCBkYXlzKSB7DQoJCXJldHVybiAoc3RyVGltZSk7DQoJfSBlbHNlDQoJCXJldHVybiAoc3RyU2Vjb25kcyk7DQp9DQoNCnNldFRpbWVvdXQoZnVuY3Rpb24gd2FpdEZvckdhbWUoKSB7DQoJaWYgKHR5cGVvZiBHYW1lID09PSAnb2JqZWN0JyAmJiBHYW1lLnJlYWR5KSB7DQoJDQoNCkdhbWUucmVnaXN0ZXJNb2QoJ0Nvb2tpU3RvY2tlcicsew0KCWluaXQ6ZnVuY3Rpb24oKXsNCg0KCQl0aGlzLnN0YXJ0U3RvY2tpbmcoKTsNCgl9LA0KCXN0YXJ0U3RvY2tpbmc6ZnVuY3Rpb24oKXsNCgkJaWYgKCFHYW1lLk9iamVjdHNbJ0JhbmsnXS5taW5pZ2FtZSkgew0KCQkJY29uc29sZS5sb2coJz09PT09JCQkPT09IFN0b2NrIE1hcmtldCBtaW5pZ2FtZSBoYXMgbm90IGluaXRpYWxpc2VkIHlldCEgV2lsbCB0cnkgYWdhaW4gaW4gNTAwIG1zLicpOw0KCQkJc2V0VGltZW91dCgoKSA9PiB7DQoJCQkJdGhpcy5zdGFydFN0b2NraW5nKCk7DQoJCQl9LDUwMCk7DQoJCQlyZXR1cm4NCgkJfQ0KCQllbHNlIHsNCgkJCWNvbnNvbGUubG9nKCc9PT09PSQkJD09PSBDb29raVN0b2NrZXIgbG9naWMgbG9vcCBpbml0aWFsaXNlZCBhdCAnICsgbmV3IERhdGUoKSk7DQoJCQljb25zb2xlLmxvZygnPT09PT0kJCQ9PT0gV2l0aCBtYWluIG9wdGlvbnMgYXMgZm9sbG93czonKQ0KCQkJY29uc29sZS5sb2coJz09PT09JCQkPT09IExvZ2ljIGxvb3AgZnJlcXVlbmN5OiAnICsgc3RvY2tlclRpbWVCZWF1dGlmaWVyKHN0b2NrZXJMb29wRnJlcXVlbmN5KSkNCgkJCWNvbnNvbGUubG9nKCc9PT09PSQkJD09PSBSZXBvcnQgZnJlcXVlbmN5OiAnICsgc3RvY2tlclRpbWVCZWF1dGlmaWVyKHN0b2NrZXJBY3Rpdml0eVJlcG9ydEZyZXF1ZW5jeSkpDQoJCQljb25zb2xlLmxvZygnPT09PT0kJCQ9PT0gQ2hlYXRpbmc6ICcgKyBzdG9ja2VyRm9yY2VMb29wVXBkYXRlcykNCgkJCUdhbWUuTm90aWZ5KCdDb29raVN0b2NrZXIgaXMgcmVhZHknLHN0b2NrZXJHcmVldGluZyxbMSwzM10sZmFsc2UpOw0KCQkJY29uc29sZS5sb2coc3RvY2tMaXN0LmNoZWNrKTsNCgkJfQ0KCQkNCgkJdmFyIG1hcmtldCA9IEdhbWUuT2JqZWN0c1snQmFuayddLm1pbmlnYW1lLmdvb2RzQnlJZDsJLy8gcmVhZCBtYXJrZXQNCgkJY29uc29sZS5sb2coJ1JlYWRpbmcgdGhlIG1hcmtldDonKTsNCgkJc3RvY2tMaXN0LnN0YXJ0aW5nUHJvZml0cyA9IEdhbWUuT2JqZWN0c1snQmFuayddLm1pbmlnYW1lLnByb2ZpdDsNCgkJZm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrZXQubGVuZ3RoOyBpKyspew0KCQkJc3RvY2tMaXN0Lmdvb2RzLnB1c2goew0KCQkgCQluYW1lOiBtYXJrZXRbaV0ubmFtZSwNCgkJIAkJc3RvY2s6IG1hcmtldFtpXS5zdG9jaywNCgkJIAkJY3VycmVudFByaWNlOiBtYXJrZXRbaV0udmFsLA0KCQkJCW1vZGU6IG1hcmtldFtpXS5tb2RlLA0KCQkJCWxhc3RNb2RlOiBtYXJrZXRbaV0ubW9kZSwNCgkJCQlsYXN0RHVyOiBtYXJrZXRbaV0uZHVyLA0KCQkJCXVuY2hhbmdlZER1cjogMCwNCgkJCQlkcm9wQ291bnQ6IDAsDQoJCQkJcmlzZUNvdW50OiAwLA0KCQkJCXByb2ZpdDogMCwNCgkJCQlzb21lU29sZDogZmFsc2UsDQoJCQkJc29tZUJvdWdodDogZmFsc2UsDQoJCQl9KTsNCgkJCWNvbnNvbGUubG9nKCdTdG9jazogJyArIG1hcmtldFtpXS5uYW1lLnJlcGxhY2UoJyUxJywgR2FtZS5iYWtlcnlOYW1lKSArICcgU3RhdHVzOiAnICsgbW9kZURlY29kZXJbbWFya2V0W2ldLm1vZGVdICsgJyBhdCAkJyArIG1hcmtldFtpXS52YWwgKyAobWFya2V0W2ldLnN0b2NrID8gJyAob3duKScgOiAnJykpOw0KCQl9DQoJCWlmIChzdG9ja2VyRm9yY2VMb29wVXBkYXRlcykNCgkJCUdhbWUuT2JqZWN0c1snQmFuayddLm1pbmlnYW1lLnNlY29uZHNQZXJUaWNrID0gc3RvY2tlckxvb3BGcmVxdWVuY3kgLyAxMDAwOw0KCQl2YXIgc3RvY2tlckxvb3AgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsNCgkJCWxldCBkb1VwZGF0ZSA9IGZhbHNlOw0KCQkJDQoJCQkvLyBzZXR0aW5nIHN0b2NrZXJGb3JjZUxvb3BVcGRhdGVzIHRvIHRydWUgd2lsbCBtYWtlIHRoZSBsb2dpYyBsb29wIGZvcmNlIHRoZSBtYXJrZXQgdG8gdGljayBldmVyeSB0aW1lIGl0IHRyaWdnZXJzLA0KCQkJLy8gbWFraW5nIHRoaXMgYW4gb2J2aW91cyBjaGVhdCwgYW5kIGkgd2lsbCBwZXJzb25hbGx5IHJlc2VudCB5b3UuDQoJCQkNCgkJCS8vIGJ1dA0KCQkJLy8gaWYgeW91IGJhY2t1cCB5b3VyIHNhdmUgYW5kIHNldCBzdG9ja2VyTG9vcEZyZXF1ZW5jeSB0byBsaWtlIDEwIG1pbGxpc2Vjb25kcyBpdCBsb29rcyB2ZXJ5IGZ1biBhbmQgZWZmZWN0aXZlLg0KCQkJLy8geWVzLCB0aGlzIGlzIGhvdyBpIG1hZGUgdGhlIGdpZiBvbiB0aGUgc3RlYW0gZ3VpZGUgcGFnZS4NCgkJCWlmICghc3RvY2tlckZvcmNlTG9vcFVwZGF0ZXMpDQoJCQkJc3RvY2tlckxvb3BGcmVxdWVuY3kgPSBHYW1lLk9iamVjdHNbJ0JhbmsnXS5taW5pZ2FtZS5zZWNvbmRzUGVyVGljayAqIDUwMDsJCS8vIEtlZXAgdXAgdG8gZGF0ZQ0KCQkJY29uc3Qgc21hbGxEZWx0YSA9IDM7DQoJCQljb25zdCBsYXJnZURlbHRhID0gNDsNCgkJCWNvbnN0IGFsd2F5c0J1eUJlbG93ID0gMjsNCgkJCWNvbnN0IG5ldmVyU2VsbEJlbG93ID0gMTE7DQoNCgkJCW1hcmtldCA9IEdhbWUuT2JqZWN0c1snQmFuayddLm1pbmlnYW1lLmdvb2RzQnlJZDsJLy8gdXBkYXRlIG1hcmtldA0KCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrZXQubGVuZ3RoOyBpKyspIHsNCgkJCQkNCgkJCQlsZXQgbGFzdFByaWNlID0gc3RvY2tMaXN0Lmdvb2RzW2ldLmN1cnJlbnRQcmljZTsNCgkJCQlsZXQgY3VycmVudFByaWNlID0gbWFya2V0W2ldLnZhbDsNCg0KCQkJCS8vIHVwZGF0ZSBzdG9ja0xpc3QNCgkJCQlzdG9ja0xpc3QuZ29vZHNbaV0uc3RvY2sgPSBtYXJrZXRbaV0uc3RvY2s7DQoJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLmN1cnJlbnRQcmljZSA9IG1hcmtldFtpXS52YWw7DQoJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLm1vZGUgPSBtYXJrZXRbaV0ubW9kZTsNCg0KCQkJCWxldCBtZCA9IHN0b2NrTGlzdC5nb29kc1tpXS5tb2RlOw0KCQkJCWxldCBsbWQgPSBzdG9ja0xpc3QuZ29vZHNbaV0ubGFzdE1vZGU7DQoJCQkJbGV0IGxhc3RTdG9jayA9IG1hcmtldFtpXS5zdG9jazsNCgkJCQlsZXQgZGVsdGFQcmljZSA9IGxhcmdlRGVsdGE7DQoJCQkJbGV0IHN0b2NrTmFtZSA9IHN0b2NrTGlzdC5nb29kc1tpXS5uYW1lLnJlcGxhY2UoJyUxJywgR2FtZS5iYWtlcnlOYW1lKTsNCgkJCQkNCgkJCQkvLyBPdXIgY2VpbGluZ1ByaWNlIGlzIHRoZSBtYXhpbXVtIG9mIHRoZSBiYW5rIGNlaWxpbmcgYW5kIHRoZSAoZGVwcmVjYXRlZCBidXQgc3RpbGwgdXNlZnVsKSBzdG9jayBjZWlsaW5nDQoJCQkJbGV0IGNlaWxpbmdQcmljZSA9IE1hdGgubWF4KDEwKihpKzEpICsgR2FtZS5PYmplY3RzWydCYW5rJ10ubGV2ZWwgKyA0OSwgOTcgKyBHYW1lLk9iamVjdHNbJ0JhbmsnXS5sZXZlbCAqIDMpOw0KDQoJCQkJaWYgKEdhbWUuT2JqZWN0c0J5SWRbaSsyXS5hbW91bnQgPT0gMCkgewkJLy8gc3RvY2sgbXVzdCBiZSBhY3RpdmUNCgkJCQkJY29uc29sZS5sb2coYCR7c3RvY2tOYW1lfSBzdG9jayBpcyBpbmFjdGl2ZWApOw0KCQkJCQljb250aW51ZTsNCgkJCQl9DQoJCQkJaWYgKGxtZCA9PSBtZCAmJiAoc3RvY2tMaXN0Lmdvb2RzW2ldLnN0b2NrICYmIChtZCA9PSAyIHx8IG1kID09IDQpIHx8CS8vIE1ha2Ugc2VsbGluZyBpbnRvIGEgZG93bnR1cm4gZWFzaWVyDQoJCQkJIXN0b2NrTGlzdC5nb29kc1tpXS5zdG9jayAmJiAobWQgPT0gMSB8fCBtZCA9PSAzKSkpCQkJLy8gTWFrZSBidXlpbmcgaW50byBhbiB1cHR1cm4gZWFzaWVyDQoJCQkJCWRlbHRhUHJpY2UgPSBzbWFsbERlbHRhOw0KCQkJCWlmIChtZCAhPSBsbWQgJiYgKG1kID09IDMgJiYgbG1kICE9IDEgfHwgbWQgPT0gNCAmJiBsbWQgIT0gMiB8fCBtZCA9PSAxICYmIGxtZCAhPSAzIHx8IG1kID09IDIgJiYgbG1kICE9IDQpKSB7DQoJCQkJCXN0b2NrTGlzdC5nb29kc1tpXS5kcm9wQ291bnQgPSAwOw0KCQkJCQlzdG9ja0xpc3QuZ29vZHNbaV0ucmlzZUNvdW50ID0gMDsNCgkJCQl9IGVsc2UgaWYgKGN1cnJlbnRQcmljZSA+IGxhc3RQcmljZSkgew0KCQkJCQlzdG9ja0xpc3QuZ29vZHNbaV0uZHJvcENvdW50ID0gMDsNCgkJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLnJpc2VDb3VudCsrOw0KCQkJCX0gZWxzZSBpZiAoY3VycmVudFByaWNlIDwgbGFzdFByaWNlKSB7DQoJCQkJCXN0b2NrTGlzdC5nb29kc1tpXS5yaXNlQ291bnQgPSAwOw0KCQkJCQlzdG9ja0xpc3QuZ29vZHNbaV0uZHJvcENvdW50Kys7DQoJCQkJfQ0KCQkJCWlmIChzdG9ja0xpc3QuZ29vZHNbaV0ubGFzdER1ciAhPSBtYXJrZXRbaV0uZHVyIHx8ICsrc3RvY2tMaXN0Lmdvb2RzW2ldLnVuY2hhbmdlZER1ciA+IDEpIHsNCgkJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLnVuY2hhbmdlZER1ciA9IDA7DQoJCQkJCWRvVXBkYXRlID0gdHJ1ZTsNCgkJCQl9DQoJCQkJaWYgKHN0b2NrZXJDb25zb2xlQW5ub3VuY2VtZW50cyAmJiBkb1VwZGF0ZSkgewkJCS8vIFRpY2sgdGljaw0KCQkJCQlpZiAobWQgPT0gbG1kKQ0KCQkJCQkJY29uc29sZS5sb2coYCR7c3RvY2tOYW1lfSBtb2RlIGlzIHVuY2hhbmdlZCBhdCAke2xtZH0gWyR7bW9kZURlY29kZXJbbG1kXX1dIGF0ICQke0JlYXV0aWZ5KGN1cnJlbnRQcmljZSwgMil9YCk7DQoJCQkJCWVsc2UNCgkJCQkJCWNvbnNvbGUubG9nKGBNT0RFIENIQU5HRSAke3N0b2NrTmFtZX0gb2xkIG1vZGUgd2FzICR7bG1kfSBbJHttb2RlRGVjb2RlcltsbWRdfV0gYW5kIG5ldyBtb2RlIGlzICR7bWR9IFske21vZGVEZWNvZGVyW21kXX1dIGF0ICQke0JlYXV0aWZ5KGN1cnJlbnRQcmljZSwgMil9YCk7DQoJCQkJfQ0KCQkJCXN0b2NrTGlzdC5nb29kc1tpXS5sYXN0RHVyID0gbWFya2V0W2ldLmR1cjsNCgkJCQlpZiAoCS8vIGJ1eSBjb25kaXRpb25zDQoJCQkJCSgNCgkJCQkJCWN1cnJlbnRQcmljZSA8IGFsd2F5c0J1eUJlbG93IHx8IG1kICE9IDQgJiYgKChjdXJyZW50UHJpY2UgPiBsYXN0UHJpY2UgJiYNCgkJCQkJCXN0b2NrTGlzdC5nb29kc1tpXS5yaXNlQ291bnQgPj0gZGVsdGFQcmljZSB8fCAobWQgPT0gMSB8fCBtZCA9PSAzKSAmJiBtZCAhPSBsbWQgfHwgDQoJCQkJCQltZCA9PSAwICYmICFzdG9ja0xpc3QuZ29vZHNbaV0uc29tZVNvbGQgJiYgc3RvY2tMaXN0Lmdvb2RzW2ldLmRyb3BDb3VudCA8IGRlbHRhUHJpY2UgJiYNCgkJCQkJCWN1cnJlbnRQcmljZSA+PSAxMCkgJiYgKGN1cnJlbnRQcmljZSA8IGNlaWxpbmdQcmljZSB8fCBtZCA9PSAxIHx8IG1kID09IDMpKQ0KCQkJCQkpDQoJCQkJCSYmIEdhbWUuT2JqZWN0c1snQmFuayddLm1pbmlnYW1lLmJ1eUdvb2QoaSwxMDAwMCkgCS8vIGFjdHVhbCBidXkgYXR0ZW1wdA0KCQkJCSkNCgkJCQl7DQoJCQkJCS8vIGJ1eWluZw0KCQkJCQlsZXQgbW9kZSA9IChsbWQgIT0gbWQpID8gJ2lzIG5vIGxvbmdlciBpbiAnICsgbW9kZURlY29kZXJbbG1kXSArICcgbW9kZScgOiAnaXMgJzsNCgkJCQkJbGV0IHVuaXRzID0gbWFya2V0W2ldLnN0b2NrIC0gbGFzdFN0b2NrOw0KDQoJCQkJCXN0b2NrTGlzdC5nb29kc1tpXS5zb21lQm91Z2h0ID0gdHJ1ZTsNCgkJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLnN0b2NrID0gbWFya2V0W2ldLnN0b2NrOw0KCQkJCQlpZiAobWFya2V0W2ldLnByZXZCdXlNb2RlMSAhPSB1bmRlZmluZWQpDQoJCQkJCXsNCgkJCQkJCW1hcmtldFtpXS5wcmV2QnV5TW9kZTEgPSBsbWQ7DQoJCQkJCQltYXJrZXRbaV0ucHJldkJ1eU1vZGUyID0gbWQ7DQoJCQkJCX0NCgkJCQkJbWFya2V0W2ldLmJ1eVRpbWUgPSBEYXRlLm5vdygpOw0KCQkJCQlpZiAodHlwZW9mIFN0b2NrQXNzaXN0YW50ICE9ICd1bmRlZmluZWQnKQ0KCQkJCQl7DQoJCQkJCQlTdG9ja0Fzc2lzdGFudC5zdG9ja0RhdGEuZ29vZHNbaV0uYm91Z2h0VmFsID0gbWFya2V0W2ldLnByZXY7DQoJCQkJCQlTdG9ja0Fzc2lzdGFudC5idXlHb29kKGkpOw0KCQkJCQl9DQoJCQkJCXN0b2NrTGlzdC5zZXNzaW9uUHVyY2hhc2VzKys7DQoJCQkJCWlmIChzdG9ja2VyVHJhbnNhY3Rpb25Ob3RpZmljYXRpb25zKQ0KCQkJCQkJaWYgKGN1cnJlbnRQcmljZSA+PSAyKSBHYW1lLk5vdGlmeShgQnV5aW5nICR7c3RvY2tOYW1lfSAke25ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7aG91ckN5Y2xlOiAnaDIzJywgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0J30pfWAsYEJ1eWluZyAke3VuaXRzfSB1bml0JHsodW5pdHMgPiAxID8gJ3MnIDogJycpfS4gVGhlIHN0b2NrICR7bW9kZX0gYXQgJCR7QmVhdXRpZnkobWFya2V0W2ldLnByZXYsIDIpfSBwZXIgdW5pdCAoeW91ciBidXlpbmcgcHJpY2UpIGFuZCBpcyBpbiAke21vZGVEZWNvZGVyW21kXX0gbW9kZSBub3cuYCxnb29kSWNvbnNbaV0sc3RvY2tlckZhc3ROb3RpZmljYXRpb25zKTsNCgkJCQkJCWVsc2UgR2FtZS5Ob3RpZnkoYEJ1eWluZyAke3N0b2NrTmFtZX0gJHtuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZyhbXSwge2hvdXJDeWNsZTogJ2gyMycsIGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCd9KX1gLCBgQnV5aW5nICR7dW5pdHN9IHVuaXQkeyh1bml0cyA+IDEgPyAncycgOiAnJyl9LiBUaGUgcHJpY2UgaGFzIGRyb3BwZWQgYmVsb3cgJDIgcGVyIHVuaXQsIGFuZCB5b3VyIGJ1eWluZyBwcmljZSBpcyAkJHtCZWF1dGlmeShtYXJrZXRbaV0ucHJldiwgMil9LmAsZ29vZEljb25zW2ldLHN0b2NrZXJGYXN0Tm90aWZpY2F0aW9ucyk7DQoJCQkJCWlmIChzdG9ja2VyQ29uc29sZUFubm91bmNlbWVudHMpIGNvbnNvbGUubG9nKCc9PT09PSQkJD09PSBCdXlpbmcgJysgc3RvY2tOYW1lICsgJyBhdCAkJyArIEJlYXV0aWZ5KG1hcmtldFtpXS5wcmV2LCAyKSk7DQoJCQkJfSBlbHNlIGlmICgJLy8gc2VsbCBjb25kaXRpb25zDQoJCQkJCXN0b2NrTGlzdC5nb29kc1tpXS5zdG9jayA+IDAgJiYgKGN1cnJlbnRQcmljZSA8IGxhc3RQcmljZSAmJg0KCQkJCQlzdG9ja0xpc3QuZ29vZHNbaV0uZHJvcENvdW50ID49IGRlbHRhUHJpY2UgfHwNCgkJCQkJKG1kID09IDIgfHwgbWQgPT0gNCkgJiYgbWQgIT0gbG1kKSAmJiBjdXJyZW50UHJpY2UgPj0gbmV2ZXJTZWxsQmVsb3cJLy8gbm90IG5lYXIgdGhlIGJvdHRvbQ0KCQkJCSkNCgkJCQl7DQoJCQkJCS8vIHNlbGxpbmcNCgkJCQkJbGV0IHByb2ZpdCA9IDA7DQoJCQkJCWxldCBzdHJQcm9maXQgPSAncHJvZml0ICcNCgkJCQkJbGV0IG1vZGUgPSAobG1kICE9IG1kKSA/ICdpcyBubyBsb25nZXIgaW4gJyArIG1vZGVEZWNvZGVyW2xtZF0gKyAnIG1vZGUgYW5kICcgOiAnJzsNCg0KCQkJCQlpZiAoIUdhbWUuT2JqZWN0c1snQmFuayddLm1pbmlnYW1lLnNlbGxHb29kKGksc3RvY2tMaXN0Lmdvb2RzW2ldLnN0b2NrKSkgew0KCQkJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLmxhc3RNb2RlID0gc3RvY2tMaXN0Lmdvb2RzW2ldLm1vZGUJLy8gdXBkYXRlIGxhc3QgbW9kZQ0KCQkJCQkJY29udGludWU7DQoJCQkJCX0NCgkJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLnNvbWVTb2xkID0gdHJ1ZTsNCgkJCQkJbWFya2V0W2ldLnByZXZTYWxlID0gbWFya2V0W2ldLnZhbDsNCgkJCQkJbWFya2V0W2ldLnByZXZTZWxsTW9kZTEgPSBsbWQ7DQoJCQkJCW1hcmtldFtpXS5wcmV2U2VsbE1vZGUyID0gbWQ7DQoJCQkJCW1hcmtldFtpXS5zZWxsVGltZSA9IERhdGUubm93KCk7DQoJCQkJCWlmICh0eXBlb2YgU3RvY2tBc3Npc3RhbnQgIT0gJ3VuZGVmaW5lZCcpDQoJCQkJCQlTdG9ja0Fzc2lzdGFudC5zZWxsR29vZChpKTsNCgkJCQkJc3RvY2tMaXN0LnNlc3Npb25TYWxlcysrOw0KCQkJCQlwcm9maXQgPSAobWFya2V0W2ldLnZhbCAtIG1hcmtldFtpXS5wcmV2KSAqIHN0b2NrTGlzdC5nb29kc1tpXS5zdG9jazsNCgkJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLnByb2ZpdCArPSBwcm9maXQ7DQoJCQkJCWlmIChwcm9maXQgPiAwKSB7DQoJCQkJCQlzdG9ja0xpc3Quc2Vzc2lvbkdyb3NzUHJvZml0cyArPSBwcm9maXQ7DQoJCQkJCQlzdG9ja0xpc3Quc2Vzc2lvblByb2ZpdGFibGVUcmFkZXMrKzsNCgkJCQkJfSBlbHNlIHsNCgkJCQkJCXN0b2NrTGlzdC5zZXNzaW9uR3Jvc3NMb3NzZXMgKz0gLXByb2ZpdDsNCgkJCQkJCXN0b2NrTGlzdC5zZXNzaW9uVW5wcm9maXRhYmxlVHJhZGVzKys7DQoJCQkJCX0NCgkJCQkJc3RvY2tMaXN0LnNlc3Npb25OZXRQcm9maXRzICs9IHByb2ZpdDsNCgkJCQkJc3RvY2tlck1vZGVQcm9maXRzW2xtZF1bbWRdWzBdICs9IHByb2ZpdDsNCgkJCQkJc3RvY2tlck1vZGVQcm9maXRzW2xtZF1bbWRdWzFdICs9IHByb2ZpdDsNCgkJCQkJc3RvY2tlck1vZGVQcm9maXRzW2xtZF1bbWRdWzJdKys7DQoJCQkJCWlmIChwcm9maXQgPCAwKQ0KCQkJCQl7DQoJCQkJCQlzdHJQcm9maXQgPSAnbG9zcyAnOw0KCQkJCQkJcHJvZml0ID0gLXByb2ZpdDsNCgkJCQkJfQ0KCQkJCQlpZiAoc3RvY2tlclRyYW5zYWN0aW9uTm90aWZpY2F0aW9ucykgR2FtZS5Ob3RpZnkoYFNlbGxpbmcgJHtzdG9ja05hbWV9ICR7bmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHtob3VyQ3ljbGU6ICdoMjMnLCBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnfSl9YCxgU2VsbGluZyAke3N0b2NrTGlzdC5nb29kc1tpXS5zdG9ja30gdW5pdCR7KHN0b2NrTGlzdC5nb29kc1tpXS5zdG9jayA+IDEgPyAncycgOiAnJyl9IGF0IGEgcHJpY2Ugb2YgJCR7QmVhdXRpZnkobWFya2V0W2ldLnZhbCwgMil9IHBlciB1bml0IGZvciBhICR7c3RyUHJvZml0fSBvZiAkJHtCZWF1dGlmeShwcm9maXQsIDIpfSBhbmQgdG90YWwgcmV2ZW51ZSBvZiAkJHtCZWF1dGlmeShtYXJrZXRbaV0udmFsKnN0b2NrTGlzdC5nb29kc1tpXS5zdG9jaywgMil9LCB3aGljaCBpcyBhZGRlZCB0byB0aGUgdG90YWwgbWFya2V0IHByb2ZpdHMuIFRoZSBzdG9jayAke21vZGV9IGlzIGluICR7bW9kZURlY29kZXJbbWRdfSBtb2RlIG5vdy4gQm91Z2h0IGF0IGEgcHJpY2Ugb2YgJCR7QmVhdXRpZnkobWFya2V0W2ldLnByZXYsIDIpfSBwZXIgdW5pdC5gLGdvb2RJY29uc1tpXSxzdG9ja2VyRmFzdE5vdGlmaWNhdGlvbnMpOw0KCQkJCQlpZiAoc3RvY2tlckNvbnNvbGVBbm5vdW5jZW1lbnRzKSBjb25zb2xlLmxvZyhgPT09PT0kJCQ9PT0gU2VsbGluZyAke3N0b2NrTmFtZX0gYXQgJCR7QmVhdXRpZnkobWFya2V0W2ldLnZhbCwgMil9IGZvciBhICR7c3RyUHJvZml0fW9mICQke0JlYXV0aWZ5KHByb2ZpdCwgMil9IGFuZCB0b3RhbCByZXZlbnVlIG9mICQke0JlYXV0aWZ5KG1hcmtldFtpXS52YWwqc3RvY2tMaXN0Lmdvb2RzW2ldLnN0b2NrLCAyKX0uIExhc3QgYm91Z2h0IGF0ICQke0JlYXV0aWZ5KG1hcmtldFtpXS5wcmV2LCAyKX0uYCk7DQoJCQkJfQ0KCQkJCQ0KCQkJCXN0b2NrTGlzdC5zZXNzaW9uUHJvZml0cyA9IEdhbWUuT2JqZWN0c1snQmFuayddLm1pbmlnYW1lLnByb2ZpdCAtIHN0b2NrTGlzdC5zdGFydGluZ1Byb2ZpdHM7DQoJCQkJc3RvY2tMaXN0Lmdvb2RzW2ldLmxhc3RNb2RlID0gc3RvY2tMaXN0Lmdvb2RzW2ldLm1vZGUJLy8gdXBkYXRlIGxhc3QgbW9kZQ0KCQkJfQ0KCQkJc3RvY2tMaXN0LnNlc3Npb25Qcm9maXRhYmxlU3RvY2tzID0gc3RvY2tMaXN0LnNlc3Npb25VbnByb2ZpdGFibGVTdG9ja3MgPSAwOw0KCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrZXQubGVuZ3RoOyBpKyspIHsJCQkvLyBNdXN0IHJlY2FsY3VsYXRlIHRoZSB3aG9sZSBsaXN0IG9uIGV2ZXJ5IHBhc3MNCgkJCQlpZiAoc3RvY2tMaXN0Lmdvb2RzW2ldLnByb2ZpdCA+IDApDQoJCQkJCXN0b2NrTGlzdC5zZXNzaW9uUHJvZml0YWJsZVN0b2NrcysrOw0KCQkJCWVsc2UgaWYgKHN0b2NrTGlzdC5nb29kc1tpXS5wcm9maXQgPCAwKQ0KCQkJCQlzdG9ja0xpc3Quc2Vzc2lvblVucHJvZml0YWJsZVN0b2NrcysrOw0KCQkJfQ0KCQl9LHN0b2NrZXJMb29wRnJlcXVlbmN5KTsNCgkJDQoJCWxldCBzdG9ja2VyTW9kZVByb2ZpdHMgPSBbDQoJCQlbWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXV0sDQoJCQlbWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXV0sDQoJCQlbWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXV0sDQoJCQlbWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXV0sDQoJCQlbWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXV0sDQoJCQlbWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXSwgWzAsIDAsIDBdLCBbMCwgMCwgMF0sIFswLCAwLCAwXV0NCgkJXTsNCg0KCQlpZiAoc3RvY2tlckFjdGl2aXR5UmVwb3J0IHx8IHN0b2NrZXJDb25zb2xlQW5ub3VuY2VtZW50cykgew0KCQkJdmFyIHN0b2NrZXJSZXBvcnRJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgew0KCQkJCWxldCBub3cgPSBEYXRlLm5vdygpOw0KCQkJCWlmIChub3cgPiBzdG9ja0xpc3Quc2Vzc2lvbkxhc3RUaW1lICsgc3RvY2tlckFjdGl2aXR5UmVwb3J0RnJlcXVlbmN5ICsgNTAwKSB7CQkvLyBXZXJlIHdlIHNsZWVwaW5nPw0KCQkJCQlzdG9ja0xpc3Quc2Vzc2lvblN0YXJ0ICs9IG5vdyAtIHN0b2NrTGlzdC5zZXNzaW9uTGFzdFRpbWUgLSBzdG9ja2VyQWN0aXZpdHlSZXBvcnRGcmVxdWVuY3k7DQoJCQkJfQ0KDQoJCQkJdmFyIHN0b2NrZXJVcHRpbWUgPSBNYXRoLmZsb29yKChub3cgLSBzdG9ja0xpc3Quc2Vzc2lvblN0YXJ0KSAvIDEwMDApICogMTAwMDsNCgkJCQl2YXIgdG90YWxTdG9ja3MgPSAwOw0KCQkJCXZhciB0b3RhbFNoYXJlcyA9IDA7DQoJCQkJdmFyIHRvdGFsVmFsdWUgPSAwOw0KCQkJCXZhciB1bnJlYWxpemVkUHJvZml0cyA9IDA7DQoJCQkJbGV0IGosIGs7DQoNCgkJCQlzdG9ja0xpc3Quc2Vzc2lvbkxhc3RUaW1lID0gbm93Ow0KCQkJCXN0b2NrZXJVcHRpbWUgLT0gc3RvY2tlclVwdGltZSAlIHN0b2NrZXJMb29wRnJlcXVlbmN5Ow0KCQkJCWlmIChzdG9ja2VyQWN0aXZpdHlSZXBvcnQpDQoJCQkJCWlmICgoc3RvY2tMaXN0LnNlc3Npb25QdXJjaGFzZXMgKyBzdG9ja0xpc3Quc2Vzc2lvblNhbGVzKSA9PSAwKSB7DQoJCQkJCQlHYW1lLk5vdGlmeSgNCgkJCQkJCQlgQ29va2lTdG9ja2VyIHJlcG9ydCAke25ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7aG91ckN5Y2xlOiAnaDIzJywgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0J30pfWAsDQoJCQkJCQkJYFRoaXMgc2Vzc2lvbiBoYXMgYmVlbiBydW5uaW5nIGZvciAke3N0b2NrZXJUaW1lQmVhdXRpZmllcihzdG9ja2VyVXB0aW1lKX0sIGJ1dCBubyBnb29kIGludmVzdG1lbnQgb3Bwb3J0dW5pdGllcyB3ZXJlIGRldGVjdGVkISBMdWNrIGlzIG5vdCBvbiBvdXIgc2lkZSwgeWV0LmANCgkJCQkJCQksWzEsIDMzXSxzdG9ja2VyRmFzdE5vdGlmaWNhdGlvbnMNCgkJCQkJCSk7DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQlHYW1lLk5vdGlmeSgNCgkJCQkJCQlgQ29va2lTdG9ja2VyIHJlcG9ydCAke25ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7aG91ckN5Y2xlOiAnaDIzJywgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0J30pfWAsDQoJCQkJCQkJYFRoaXMgc2Vzc2lvbiBoYXMgYmVlbiBydW5uaW5nIGZvciAke3N0b2NrZXJUaW1lQmVhdXRpZmllcihzdG9ja2VyVXB0aW1lKX0gYW5kIGhhcyBtYWRlICQke0JlYXV0aWZ5KHN0b2NrTGlzdC5zZXNzaW9uTmV0UHJvZml0cywgMCl9IGluIG5ldCBwcm9maXRzIGFuZCAkJHtCZWF1dGlmeShzdG9ja0xpc3Quc2Vzc2lvblByb2ZpdHMsIDApfSBpbiByZXZlbnVlIChkaXNwbGF5ZWQgcHJvZml0cykgaW4gJHtCZWF1dGlmeShzdG9ja0xpc3Quc2Vzc2lvblB1cmNoYXNlcywgMCl9IHB1cmNoYXNlcyBhbmQgJHtCZWF1dGlmeShzdG9ja0xpc3Quc2Vzc2lvblNhbGVzLCAwKX0gc2FsZXMuYCxbMSwgMzNdLHN0b2NrZXJGYXN0Tm90aWZpY2F0aW9ucw0KCQkJCQkJKTsNCgkJCQkJfQ0KCQkJCWlmIChzdG9ja2VyQ29uc29sZUFubm91bmNlbWVudHMpIHsNCgkJCQkJbGV0IHRvdGFsUHJvZml0cyA9IDA7DQoJCQkJCWxldCBzdWJ0b3RhbFByb2ZpdHMgPSAwOw0KCQkJCQlsZXQgZGVsdGFUb3RhbFByb2ZpdHMgPSAwOw0KCQkJCQlsZXQgZGVsdGFTdWJ0b3RhbFByb2ZpdHMgPSAwOw0KCQkJCQlsZXQgdG90YWxUcmFkZXMgPSAwOw0KCQkJCQlsZXQgc3VidG90YWxUcmFkZXMgPSAwOw0KCQkJCQlsZXQgcHJvZml0ID0gMDsNCgkJCQkJbGV0IGxhc3RQcm9maXQgPSAwOw0KCQkJCQlsZXQgdHJhZGVzID0gMDsNCgkJCQkJbGV0IHN0clByb2ZpdCA9ICcnOw0KCQkJCQlsZXQgc3RyRGVsdGFNb2RlUHJvZml0cyA9ICcnOw0KCQkJCQlsZXQgc3RyVHJhZGVzID0gJyc7DQoNCgkJCQkJZm9yIChqID0gMDsgaiA8IG1hcmtldC5sZW5ndGg7IGorKykgew0KCQkJCQkJaWYgKHN0b2NrTGlzdC5nb29kc1tqXS5zdG9jaykgew0KCQkJCQkJCXRvdGFsU3RvY2tzKys7DQoJCQkJCQkJdG90YWxTaGFyZXMgKz0gc3RvY2tMaXN0Lmdvb2RzW2pdLnN0b2NrOw0KCQkJCQkJCXRvdGFsVmFsdWUgKz0gc3RvY2tMaXN0Lmdvb2RzW2pdLnN0b2NrICogc3RvY2tMaXN0Lmdvb2RzW2pdLmN1cnJlbnRQcmljZTsNCgkJCQkJCQl1bnJlYWxpemVkUHJvZml0cyArPSAobWFya2V0W2pdLnZhbCAtIG1hcmtldFtqXS5wcmV2KSAqIHN0b2NrTGlzdC5nb29kc1tqXS5zdG9jazsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCQljb25zb2xlLmxvZyhgUnVubmluZyBmb3IgJHtzdG9ja2VyVGltZUJlYXV0aWZpZXIoc3RvY2tlclVwdGltZSl9IGFuZCBtYWRlICQke0JlYXV0aWZ5KHN0b2NrTGlzdC5zZXNzaW9uTmV0UHJvZml0cywgMCl9XG4gIGluIG5ldCBwcm9maXRzIGFuZCAkJHtCZWF1dGlmeShzdG9ja0xpc3Quc2Vzc2lvblByb2ZpdHMsIDApfSBpbiByZXZlbnVlIChkaXNwbGF5ZWQgcHJvZml0cylcbiAgaW4gJHtCZWF1dGlmeShzdG9ja0xpc3Quc2Vzc2lvblB1cmNoYXNlcywgMCl9IHB1cmNoYXNlcyBhbmQgJHtCZWF1dGlmeShzdG9ja0xpc3Quc2Vzc2lvblNhbGVzLCAwKX0gc2FsZXMuXG5Ub3RhbCBudW1iZXIgb2Ygc3RvY2tzIGhlbGQ6ICR7dG90YWxTdG9ja3N9LiAgVG90YWwgc2hhcmVzOiAke0JlYXV0aWZ5KHRvdGFsU2hhcmVzLCAwKX0uXG5Ub3RhbCB2YWx1ZTogJCR7QmVhdXRpZnkodG90YWxWYWx1ZSl9LiAgVW5yZWFsaXplZCBwcm9maXRzOiAkJHtCZWF1dGlmeSh1bnJlYWxpemVkUHJvZml0cywgMil9LlxuVG90YWwgZ3Jvc3MgcHJvZml0czogICQke0JlYXV0aWZ5KHN0b2NrTGlzdC5zZXNzaW9uR3Jvc3NQcm9maXRzLCAwKX0uICBQcm9maXRhYmxlIHN0b2NrczogICR7c3RvY2tMaXN0LnNlc3Npb25Qcm9maXRhYmxlU3RvY2tzfS5cblByb2ZpdGFibGUgdHJhZGVzOiAgJHtzdG9ja0xpc3Quc2Vzc2lvblByb2ZpdGFibGVUcmFkZXN9LiAgQXZlcmFnZSBwcm9maXQgcGVyIHRyYWRlOiAgJCR7c3RvY2tMaXN0LnNlc3Npb25Hcm9zc1Byb2ZpdHMgPyBCZWF1dGlmeShzdG9ja0xpc3Quc2Vzc2lvbkdyb3NzUHJvZml0cyAvIHN0b2NrTGlzdC5zZXNzaW9uUHJvZml0YWJsZVRyYWRlcywgMikgOiAwfS5cblRvdGFsIGdyb3NzIGxvc3NlczogICQke0JlYXV0aWZ5KHN0b2NrTGlzdC5zZXNzaW9uR3Jvc3NMb3NzZXMsIDApfS4gIFVucHJvZml0YWJsZSBzdG9ja3M6ICAke3N0b2NrTGlzdC5zZXNzaW9uVW5wcm9maXRhYmxlU3RvY2tzfS5cblVucHJvZml0YWJsZSB0cmFkZXM6ICAke3N0b2NrTGlzdC5zZXNzaW9uVW5wcm9maXRhYmxlVHJhZGVzfS4gIEF2ZXJhZ2UgbG9zcyBwZXIgdHJhZGU6ICAkJHtzdG9ja0xpc3Quc2Vzc2lvbkdyb3NzTG9zc2VzID8gQmVhdXRpZnkoc3RvY2tMaXN0LnNlc3Npb25Hcm9zc0xvc3NlcyAvIHN0b2NrTGlzdC5zZXNzaW9uVW5wcm9maXRhYmxlVHJhZGVzLCAyKSA6IDB9LmApOw0KCQkJCQkNCgkJCQkJLy8gU3RhdHMgZm9yIGluZGl2aWR1YWwgbW9kZXMNCgkJCQkJZm9yIChqID0gMDsgaiA8IDY7IGorKykNCgkJCQkJCWZvciAoayA9IDA7IGsgPCA2OyBrKyspDQoJCQkJCQkJdG90YWxQcm9maXRzICs9IHN0b2NrZXJNb2RlUHJvZml0c1tqXVtrXVswXTsNCgkJCQkJZm9yIChqID0gMDsgaiA8IDY7IGorKykNCgkJCQkJCWZvciAoayA9IDA7IGsgPCA2OyBrKyspIHsNCgkJCQkJCQlwcm9maXQgPSBzdG9ja2VyTW9kZVByb2ZpdHNbal1ba11bMF07DQoJCQkJCQkJbGFzdFByb2ZpdCA9IHN0b2NrZXJNb2RlUHJvZml0c1tqXVtrXVsxXTsNCgkJCQkJCQl0cmFkZXMgPSBzdG9ja2VyTW9kZVByb2ZpdHNbal1ba11bMl07DQoJCQkJCQkJc3RyUHJvZml0ID0gcHJvZml0ID8gKCgxMDAgKiBwcm9maXQvdG90YWxQcm9maXRzKS50b0ZpeGVkKDIpICsgJyUnKS5wYWRTdGFydCg4KSA6ICcnOw0KCQkJCQkJCXN0ckRlbHRhTW9kZVByb2ZpdHMgPSAobGFzdFByb2ZpdCA/ICckJyArIEJlYXV0aWZ5KGxhc3RQcm9maXQsIDIpIDogJycpLnBhZFN0YXJ0KDE0KTsNCgkJCQkJCQlzdHJUcmFkZXMgPSB0cmFkZXMgPyAoJyAnICsgdHJhZGVzICsgJyB0cmFkZScgKyAodHJhZGVzID4gMSA/ICdzJyA6ICcgJykpLnBhZFN0YXJ0KDEzKSA6ICcnOw0KCQkJCQkJCQ0KCQkJCQkJCWNvbnNvbGUubG9nKGBQcm9maXRzWyR7an1dWyR7a31dID0gJCR7QmVhdXRpZnkocHJvZml0LCAyKS5wYWRFbmQoMTQpfSAke3N0clByb2ZpdH0ke3N0ckRlbHRhTW9kZVByb2ZpdHN9JHtzdHJUcmFkZXN9YCk7DQoJCQkJCQkJc3VidG90YWxQcm9maXRzICs9IHByb2ZpdDsNCgkJCQkJCQlkZWx0YVN1YnRvdGFsUHJvZml0cyArPSBsYXN0UHJvZml0Ow0KCQkJCQkJCWRlbHRhVG90YWxQcm9maXRzICs9IGxhc3RQcm9maXQ7DQoJCQkJCQkJc3VidG90YWxUcmFkZXMgKz0gdHJhZGVzOw0KCQkJCQkJCXRvdGFsVHJhZGVzICs9IHRyYWRlczsNCgkJCQkJCX0NCgkJCQkJCQ0KCQkJCQkvLyBTdGF0cyBmb3Igc3VidG90YWxzDQoJCQkJCWZvciAoaiA9IDA7IGogPCA2OyBqKyspIHsNCgkJCQkJCXN1YnRvdGFsUHJvZml0cyA9IDA7DQoJCQkJCQlkZWx0YVN1YnRvdGFsUHJvZml0cyA9IDA7DQoJCQkJCQlzdWJ0b3RhbFRyYWRlcyA9IDA7DQoJCQkJCQlmb3IgKGsgPSAwOyBrIDwgNjsgaysrKSB7DQoJCQkJCQkJc3VidG90YWxQcm9maXRzICs9IHN0b2NrZXJNb2RlUHJvZml0c1tqXVtrXVswXTsNCgkJCQkJCQlkZWx0YVN1YnRvdGFsUHJvZml0cyArPSBzdG9ja2VyTW9kZVByb2ZpdHNbal1ba11bMV07DQoJCQkJCQkJc3VidG90YWxUcmFkZXMgKz0gc3RvY2tlck1vZGVQcm9maXRzW2pdW2tdWzJdOw0KCQkJCQkJCXN0b2NrZXJNb2RlUHJvZml0c1tqXVtrXVsxXSA9IDA7DQoJCQkJCQl9DQoJCQkJCQlzdHJQcm9maXQgPSBzdWJ0b3RhbFByb2ZpdHMgPyAoKDEwMCAqIHN1YnRvdGFsUHJvZml0cy90b3RhbFByb2ZpdHMpLnRvRml4ZWQoMikgKyAnJScpLnBhZFN0YXJ0KDgpIDogJyc7DQoJCQkJCQlzdHJEZWx0YU1vZGVQcm9maXRzID0gKGRlbHRhU3VidG90YWxQcm9maXRzID8gJyQnICsgQmVhdXRpZnkoZGVsdGFTdWJ0b3RhbFByb2ZpdHMsIDIpIDogJycpLnBhZFN0YXJ0KDE0KTsNCgkJCQkJCXN0clRyYWRlcyA9IHN1YnRvdGFsVHJhZGVzID8gKCcgJyArIHN1YnRvdGFsVHJhZGVzICsgJyB0cmFkZScgKyAoc3VidG90YWxUcmFkZXMgPiAxID8gJ3MnIDogJyAnKSkucGFkU3RhcnQoMTMpIDogJyc7DQoJCQkJCQkNCgkJCQkJCWNvbnNvbGUubG9nKGBTdWJ0b3RhbFske2p9XWAucGFkRW5kKDE0KSArIGA9ICQke0JlYXV0aWZ5KHN1YnRvdGFsUHJvZml0cywgMikucGFkRW5kKDE0KX0gJHtzdHJQcm9maXR9JHtzdHJEZWx0YU1vZGVQcm9maXRzfSR7c3RyVHJhZGVzfWApOw0KCQkJCQkJc3VidG90YWxQcm9maXRzID0gMDsNCgkJCQkJCWRlbHRhU3VidG90YWxQcm9maXRzID0gMDsNCgkJCQkJCXN1YnRvdGFsVHJhZGVzID0gMDsNCgkJCQkJfQ0KCQkJCQkNCgkJCQkJLy8gU3RhdHMgZm9yIHRvdGFscw0KCQkJCQlsZXQgaG91cmx5UHJvZml0cyA9IHRvdGFsUHJvZml0cyAqIChzdG9ja2VyTG9vcEZyZXF1ZW5jeSAvIDYwXzAwMCkgKiAzNjAwXzAwMCAvIHN0b2NrZXJVcHRpbWU7DQoJCQkJCWxldCBkYWlseVByb2ZpdHMgPSB0b3RhbFByb2ZpdHMgKiAoc3RvY2tlckxvb3BGcmVxdWVuY3kgLyA2MF8wMDApICogODZfNDAwXzAwMCAvIHN0b2NrZXJVcHRpbWU7DQoNCgkJCQkJaWYgKCFzdG9ja2VyRm9yY2VMb29wVXBkYXRlcykgew0KCQkJCQkJaG91cmx5UHJvZml0cyAqPSAyOw0KCQkJCQkJZGFpbHlQcm9maXRzICo9IDI7DQoJCQkJCX0NCgkJCQkJY29uc29sZS5sb2coYFRvdGFsIHByb2ZpdHMgPSAkJHtCZWF1dGlmeSh0b3RhbFByb2ZpdHMsIDIpLnBhZEVuZCgyMil9JHsoZGVsdGFUb3RhbFByb2ZpdHMgPyAnJCcgKyBCZWF1dGlmeShkZWx0YVRvdGFsUHJvZml0cywgMikgOiAnJykucGFkU3RhcnQoMTUpfSR7dG90YWxUcmFkZXMgPyAoJyAnICsgdG90YWxUcmFkZXMgKyAnIHRyYWRlJyArICh0b3RhbFRyYWRlcyA+IDEgPyAncycgOiAnICcpKS5wYWRTdGFydCgxMykgOiAnJ31gKTsNCgkJCQkJY29uc29sZS5sb2coYFByb2ZpdCBwZXIgaG91ciA9ICQke0JlYXV0aWZ5KGhvdXJseVByb2ZpdHMsIDIpfTsgcHJvZml0IHBlciBkYXkgPSAkJHtCZWF1dGlmeShkYWlseVByb2ZpdHMsIDIpfWApOw0KCQkJCQljb25zb2xlLmxvZyhgVGhhdCdzICR7QmVhdXRpZnkoaG91cmx5UHJvZml0cyAqIEdhbWUuY29va2llc1BzUmF3SGlnaGVzdCwgMil9IGNvb2tpZXMgYW5kICR7QmVhdXRpZnkoZGFpbHlQcm9maXRzICogR2FtZS5jb29raWVzUHNSYXdIaWdoZXN0LCAyKX0gY29va2llcywgcmVzcGVjdGl2ZWx5LiBJdCdzIGFsc28gJHtCZWF1dGlmeSgoaG91cmx5UHJvZml0cyAvIDM2MDApLCAwKX0gdGltZXMgeW91ciBoaWdoZXN0IHJhdyBjb29raWUgcHJvZHVjdGlvbiByYXRlLmApOw0KCQkJCQlpZiAoc3RvY2tlckZvcmNlTG9vcFVwZGF0ZXMpIHsNCgkJCQkJCWNvbnNvbGUubG9nKCdJbiB1bmFkanVzdGVkLCB0cnVlIG51bWJlcnM6Jyk7DQoJCQkJCQlob3VybHlQcm9maXRzICo9IDYwXzAwMCAvIHN0b2NrZXJMb29wRnJlcXVlbmN5Ow0KCQkJCQkJZGFpbHlQcm9maXRzICo9IDYwXzAwMCAvIHN0b2NrZXJMb29wRnJlcXVlbmN5Ow0KCQkJCQkJY29uc29sZS5sb2coYFByb2ZpdCBwZXIgaG91ciA9ICQke0JlYXV0aWZ5KGhvdXJseVByb2ZpdHMsIDIpfTsgcHJvZml0IHBlciBkaWVtID0gJCR7QmVhdXRpZnkoZGFpbHlQcm9maXRzLCAyKX1gKTsNCgkJCQkJCWNvbnNvbGUubG9nKGBUaGF0J3MgJHtCZWF1dGlmeShob3VybHlQcm9maXRzICogR2FtZS5jb29raWVzUHNSYXdIaWdoZXN0LCAyKX0gY29va2llcyBhbmQgJHtCZWF1dGlmeShkYWlseVByb2ZpdHMgKiBHYW1lLmNvb2tpZXNQc1Jhd0hpZ2hlc3QsIDIpfSBjb29raWVzLCByZXNwZWN0aXZlbHkuIEl0J3MgYWxzbyAke0JlYXV0aWZ5KChob3VybHlQcm9maXRzIC8gMzYwMCksIDApfSB0aW1lcyB5b3VyIGhpZ2hlc3QgcmF3IGNvb2tpZSBwcm9kdWN0aW9uIHJhdGUuYCk7DQoJCQkJCX0NCgkJCQkJY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpOw0KCQkJCX0NCgkJCX0sc3RvY2tlckFjdGl2aXR5UmVwb3J0RnJlcXVlbmN5KTsNCgkJfQ0KCX0sDQp9KTsNCg0KfQ0KZWxzZSBzZXRUaW1lb3V0KHdhaXRGb3JHYW1lLDEwMCkNCn0p"}]},{"name":"CookieAuto","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://orteil.dashnet.org/cookieclicker/","http://orteil.dashnet.org/cookieclicker/"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[],"orig_run_in":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":1734804843268,"run_in":null,"tags":[]},"storage":{"ts":1723072812247,"data":{"Business Day":"bfalse","Elder Pledge":"bfalse","Fortunes":"btrue","Golden Cookie":"bfalse","Reindeer":"bfalse","Sugar Lump":"btrue","Wrinklers":"bfalse"}},"enabled":false,"position":6,"uuid":"f502dff1-7a92-470f-8ef3-1cc3fc63b3cd","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIENvb2tpZUF1dG8KLy8gQGF1dGhvciAgICAgIHdoYXRldmVyCi8vIEBuYW1lc3BhY2UgICBjb29raWVhdXRvCi8vIEB2ZXJzaW9uICAgICAxCi8vIEBtYXRjaCAgICAgICBodHRwczovL29ydGVpbC5kYXNobmV0Lm9yZy9jb29raWVjbGlja2VyLwovLyBAbWF0Y2ggaHR0cDovL29ydGVpbC5kYXNobmV0Lm9yZy9jb29raWVjbGlja2VyLwovLyBAZ3JhbnQgR01fc2V0VmFsdWUKLy8gQGdyYW50IEdNX2dldFZhbHVlCi8vIEBncmFudCBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCBHTV91bnJlZ2lzdGVyTWVudUNvbW1hbmQKLy8gPT0vVXNlclNjcmlwdD09CgoKKGFzeW5jIGZ1bmN0aW9uICgpIHsKCiAgICB2YXIgd2FpdEdhbWVSZWFkeSA9ICgpID0+IHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBHYW1lLnJlYWR5ICE9PSAndW5kZWZpbmVkJyAmJiBHYW1lLnJlYWR5KSB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LDEwMDApOwogICAgICAgIH0pOwogICAgfTsKCiAgICBjb25zdCBnY1RvZ2dsZUtleSA9ICJHb2xkZW4gQ29va2llIjsKICAgIGNvbnN0IHJlaW5kZWVyVG9nZ2xlS2V5ID0gIlJlaW5kZWVyIjsKICAgIGNvbnN0IHBsZWRnZVRvZ2dsZUtleSA9ICJFbGRlciBQbGVkZ2UiOwogICAgY29uc3QgZm9ydHVuZVRvZ2dsZUtleSA9ICJGb3J0dW5lcyI7CiAgICBjb25zdCB3cmlua2xlclRvZ2dsZUtleSA9ICJXcmlua2xlcnMiOwogICAgY29uc3QgYnVzaW5lc3NEYXlUb2dnbGVLZXkgPSAiQnVzaW5lc3MgRGF5IjsKICAgIGNvbnN0IHN1Z2FyTHVtcFRvZ2dsZUtleSA9ICJTdWdhciBMdW1wIjsKCiAgICB2YXIgdG9nZ2xlcyA9IHt9OwoKICAgIHZhciB0b2dnbGVGdW5jID0gZnVuY3Rpb24gKHRvZ2dsZUtleSkgewogICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBHTV9nZXRWYWx1ZSh0b2dnbGVLZXksIHRydWUpOwogICAgICAgIHZhciBuZXdWYWx1ZSA9ICFjdXJyZW50VmFsdWU7CiAgICAgICAgR01fc2V0VmFsdWUodG9nZ2xlS2V5LCBuZXdWYWx1ZSk7CiAgICAgICAgc2V0TWVudSh0b2dnbGVLZXkpOwogICAgfQoKICAgIHZhciBzZXRNZW51ID0gZnVuY3Rpb24gKHRvZ2dsZUtleSkgewogICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBHTV9nZXRWYWx1ZSh0b2dnbGVLZXksIG51bGwpOwogICAgICAgIEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZCh0b2dnbGVzW3RvZ2dsZUtleV0pOwogICAgICAgIHRvZ2dsZXNbdG9nZ2xlS2V5XSA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoYCR7dG9nZ2xlS2V5fSAoJHtjdXJyZW50VmFsdWV9KWAsIGZ1bmN0aW9uICgpIHsgdG9nZ2xlRnVuYyh0b2dnbGVLZXkpIH0pOwogICAgfQoKICAgIHNldE1lbnUoYnVzaW5lc3NEYXlUb2dnbGVLZXkpOwogICAgc2V0TWVudShzdWdhckx1bXBUb2dnbGVLZXkpOwogICAgc2V0TWVudShyZWluZGVlclRvZ2dsZUtleSk7CiAgICBzZXRNZW51KGZvcnR1bmVUb2dnbGVLZXkpOwogICAgc2V0TWVudSh3cmlua2xlclRvZ2dsZUtleSk7CiAgICBzZXRNZW51KHBsZWRnZVRvZ2dsZUtleSk7CiAgICBzZXRNZW51KGdjVG9nZ2xlS2V5KTsKCiAgICB2YXIgZ2NDbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZW5hYmxlZCA9IEdNX2dldFZhbHVlKGdjVG9nZ2xlS2V5LCBmYWxzZSk7CiAgICAgICAgaWYgKGVuYWJsZWQpIHsKICAgICAgICAgICAgR2FtZS5zaGltbWVycy5mb3JFYWNoKGZ1bmN0aW9uIChzaGltbWVyKSB7IGlmIChzaGltbWVyLnR5cGUgPT0gImdvbGRlbiIgJiYgc2hpbW1lci53cmF0aCA9PSAwKSBzaGltbWVyLnBvcCgpIH0pCiAgICAgICAgfQogICAgfTsKCiAgICB2YXIgZm9ydHVuZUNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlbmFibGVkID0gR01fZ2V0VmFsdWUoZm9ydHVuZVRvZ2dsZUtleSwgZmFsc2UpOwogICAgICAgIGlmIChlbmFibGVkKSB7CiAgICAgICAgICAgIGlmIChHYW1lLlRpY2tlckVmZmVjdCAmJiBHYW1lLlRpY2tlckVmZmVjdC50eXBlID09ICdmb3J0dW5lJykgeyBHYW1lLnRpY2tlckwuY2xpY2soKTsgfQogICAgICAgIH0KICAgIH07CgogICAgdmFyIHBsZWRnZUNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlbmFibGVkID0gR01fZ2V0VmFsdWUocGxlZGdlVG9nZ2xlS2V5LCBmYWxzZSk7CiAgICAgICAgaWYgKGVuYWJsZWQpIHsKICAgICAgICAgICAgaWYgKEdhbWUuVXBncmFkZXNJblN0b3JlLmluZGV4T2YoR2FtZS5VcGdyYWRlc1siRWxkZXIgUGxlZGdlIl0pICE9IC0xKSB7CiAgICAgICAgICAgICAgICBHYW1lLlVwZ3JhZGVzWyJFbGRlciBQbGVkZ2UiXS5idXkoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CgogICAgdmFyIHJlaW5kZWVyQ2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGVuYWJsZWQgPSBHTV9nZXRWYWx1ZShyZWluZGVlclRvZ2dsZUtleSwgZmFsc2UpOwogICAgICAgIGlmIChlbmFibGVkKSB7CiAgICAgICAgICAgIEdhbWUuc2hpbW1lcnMuZm9yRWFjaChmdW5jdGlvbiAoc2hpbW1lcikgeyBpZiAoc2hpbW1lci50eXBlID09ICJyZWluZGVlciIpIHNoaW1tZXIucG9wKCkgfSkKICAgICAgICB9CiAgICB9OwoKICAgIHZhciB3cmlua2xlckNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlbmFibGVkID0gR01fZ2V0VmFsdWUod3JpbmtsZXJUb2dnbGVLZXksIGZhbHNlKTsKICAgICAgICBpZiAoZW5hYmxlZCkgewogICAgICAgICAgICBHYW1lLndyaW5rbGVycy5maWx0ZXIod3JpbmtsZXIgPT4gd3JpbmtsZXIuc3Vja2VkID4gMCAmJiB3cmlua2xlci50eXBlID09IDApLmZvckVhY2god3JpbmtsZXIgPT4gd3JpbmtsZXIuaHAgPSAwKTsKICAgICAgICB9CiAgICB9OwoKICAgIHZhciBidXNpbmVzc0RheUNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlbmFibGVkID0gR01fZ2V0VmFsdWUoYnVzaW5lc3NEYXlUb2dnbGVLZXksIGZhbHNlKTsKICAgICAgICBpZiAoZW5hYmxlZCkgewogICAgICAgICAgICB2YXIgdXBncmFkZSA9IEdhbWUuVXBncmFkZXNbIkZvb2wncyBiaXNjdWl0Il07CiAgICAgICAgICAgIGlmICh1cGdyYWRlLnVubG9ja2VkICYmICF1cGdyYWRlLmJvdWdodCAmJiB1cGdyYWRlLmNhbkJ1eSgpKSB1cGdyYWRlLmJ1eSgpOwogICAgICAgIH0KICAgIH07CgogICAgdmFyIHN1Z2FyTHVtcENsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlbmFibGVkID0gR01fZ2V0VmFsdWUoc3VnYXJMdW1wVG9nZ2xlS2V5LCBmYWxzZSk7CiAgICAgICAgaWYgKGVuYWJsZWQpIHsKICAgICAgICAgICAgdmFyIGFnZSA9IERhdGUubm93KCkgLSBHYW1lLmx1bXBUOwogICAgICAgICAgICBpZiAoR2FtZS5sdW1wQ3VycmVudFR5cGUgIT0gMiAmJiBhZ2UgPiBHYW1lLmx1bXBSaXBlQWdlKSBHYW1lLmNsaWNrTHVtcCgpOwogICAgICAgIH0KICAgIH07CgogICAgYXdhaXQgd2FpdEdhbWVSZWFkeSgpOwoKICAgIHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBwbGVkZ2VDbGljaygpOwogICAgICAgIGZvcnR1bmVDbGljaygpOwogICAgICAgIHJlaW5kZWVyQ2xpY2soKTsKICAgICAgICB3cmlua2xlckNsaWNrKCk7CiAgICAgICAgZ2NDbGljaygpOwogICAgICAgIGJ1c2luZXNzRGF5Q2xpY2soKTsKICAgICAgICBzdWdhckx1bXBDbGljaygpOwogICAgfSwgNTAwKTsKCn0pKCk7"},{"name":"Cookie Clicker Button Helpers","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://orteil.dashnet.org/cookieclicker/","http://orteil.dashnet.org/cookieclicker/"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[],"orig_run_in":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":1721604362489,"run_in":null,"tags":[]},"storage":{"ts":1717865139773,"data":{}},"enabled":false,"position":7,"uuid":"ba2f7d67-00db-4c0a-837c-54e0cbdac024","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIENvb2tpZSBDbGlja2VyIEJ1dHRvbiBIZWxwZXJzCi8vIEBhdXRob3IgICAgICB3aGF0ZXZlcgovLyBAbmFtZXNwYWNlICAgY29va2llYXV0b3NlbGxlcgovLyBAdmVyc2lvbiAgICAgMQovLyBAbWF0Y2ggICAgICAgaHR0cHM6Ly9vcnRlaWwuZGFzaG5ldC5vcmcvY29va2llY2xpY2tlci8KLy8gQG1hdGNoIGh0dHA6Ly9vcnRlaWwuZGFzaG5ldC5vcmcvY29va2llY2xpY2tlci8KLy8gQGdyYW50IG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgoKKGFzeW5jIGZ1bmN0aW9uICgpIHsKCiAgICB2YXIgd2FpdEdhbWVSZWFkeSA9ICgpID0+IHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBHYW1lLnJlYWR5ICE9PSAndW5kZWZpbmVkJyAmJiBHYW1lLnJlYWR5KSB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LDEwMDApOwogICAgICAgIH0pOwogICAgfTsKCiAgICBhd2FpdCB3YWl0R2FtZVJlYWR5KCk7CgogICAgdmFyIHNlbGxCdXR0b25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIHNlbGxCdXR0b25Db250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICdzZWxsQnV0dG9uQ29udGFpbmVyJyk7CiAgICBzZWxsQnV0dG9uQ29udGFpbmVyLmlubmVySFRNTCA9ICc8YSBjbGFzcz0ib3B0aW9uIiBpZD0iZ29kemFtb2tTZWxsIj5TZWxsPC9hPicKICAgICAgICArICc8YSBjbGFzcz0ib3B0aW9uIiBpZD0iZ29kemFtb2tSZWJ1eSI+UmUtQnV5PC9hPicKICAgICAgICArICc8YSBjbGFzcz0ib3B0aW9uIiBpZD0iYnV5VGhlTG9hbnMiPkxvYW5zPC9hPicKICAgICAgICArICc8YSBjbGFzcz0ib3B0aW9uIiBpZD0iaW5jbHVkZUxvYW4xIiBzdHlsZT0idGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZSBvdmVybGluZSI+MTwvYT4nCiAgICAgICAgKyAnPGEgY2xhc3M9Im9wdGlvbiIgaWQ9ImluY2x1ZGVMb2FuMiIgc3R5bGU9InRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmUgb3ZlcmxpbmUiPjI8L2E+JwogICAgICAgICsgJzxhIGNsYXNzPSJvcHRpb24iIGlkPSJpbmNsdWRlTG9hbjMiIHN0eWxlPSJ0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lIG92ZXJsaW5lIj4zPC9hPicKICAgICAgICArICc8YSBjbGFzcz0ib3B0aW9uIiBpZD0ia3J1bWJsb3JidXk1MCIgc3R5bGU9ImZsb2F0OnJpZ2h0Ij5CdXkgNTA8L2E+JzsKCiAgICB2YXIgc3RvcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RvcmUiKTsKICAgIHN0b3JlLmluc2VydEJlZm9yZShzZWxsQnV0dG9uQ29udGFpbmVyLCBzdG9yZS5maXJzdENoaWxkKTsKCiAgICB2YXIgbG9hbnMgPSB7ImluY2x1ZGVMb2FuMSI6IHRydWUsICJpbmNsdWRlTG9hbjIiOiB0cnVlLCAiaW5jbHVkZUxvYW4zIjogdHJ1ZX07CgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImdvZHphbW9rU2VsbCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZ29kemFtb2tTZWxsQWN0aW9uKTsKICAgIGZ1bmN0aW9uIGdvZHphbW9rU2VsbEFjdGlvbihldmVudCkgewogICAgICAgIEdhbWUuT2JqZWN0c1snRmFybSddLnNlbGwoLTEpOwogICAgICAgIEdhbWUuT2JqZWN0c1snTWluZSddLnNlbGwoLTEpOwogICAgICAgIEdhbWUuT2JqZWN0c1snRmFjdG9yeSddLnNlbGwoLTEpOwogICAgICAgIEdhbWUuT2JqZWN0c1snQmFuayddLnNlbGwoLTEpOwogICAgICAgIEdhbWUuT2JqZWN0c1snVGVtcGxlJ10uc2VsbCgtMSk7CiAgICAgICAgR2FtZS5PYmplY3RzWydTaGlwbWVudCddLnNlbGwoLTEpOwogICAgICAgIEdhbWUuT2JqZWN0c1snQWxjaGVteSBsYWInXS5zZWxsKC0xKTsKICAgICAgICBHYW1lLk9iamVjdHNbJ1BvcnRhbCddLnNlbGwoLTEpOwogICAgICAgIEdhbWUuT2JqZWN0c1snQW50aW1hdHRlciBjb25kZW5zZXInXS5zZWxsKC0xKTsKICAgIH0KCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ29kemFtb2tSZWJ1eSIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZ29kemFtb2tSZWJ1eUFjdGlvbik7CiAgICBmdW5jdGlvbiBnb2R6YW1va1JlYnV5QWN0aW9uKGV2ZW50KSB7CiAgICAgICAgdmFyIGJ1eUFtdCA9IDcwMDsKICAgICAgICBHYW1lLmJ1eU1vZGU9MTsKICAgICAgICBHYW1lLk9iamVjdHNbJ0Zhcm0nXS5idXkoYnV5QW10KTsKICAgICAgICBHYW1lLk9iamVjdHNbJ01pbmUnXS5idXkoYnV5QW10KTsKICAgICAgICBHYW1lLk9iamVjdHNbJ0ZhY3RvcnknXS5idXkoYnV5QW10KTsKICAgICAgICBHYW1lLk9iamVjdHNbJ0JhbmsnXS5idXkoYnV5QW10KTsKICAgICAgICBHYW1lLk9iamVjdHNbJ1RlbXBsZSddLmJ1eShidXlBbXQpOwogICAgICAgIEdhbWUuT2JqZWN0c1snU2hpcG1lbnQnXS5idXkoYnV5QW10KTsKICAgICAgICBHYW1lLk9iamVjdHNbJ0FsY2hlbXkgbGFiJ10uYnV5KGJ1eUFtdCk7CiAgICAgICAgR2FtZS5PYmplY3RzWydQb3J0YWwnXS5idXkoYnV5QW10KTsKICAgICAgICBHYW1lLk9iamVjdHNbJ0FudGltYXR0ZXIgY29uZGVuc2VyJ10uYnV5KGJ1eUFtdCk7CiAgICB9CgogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImtydW1ibG9yYnV5NTAiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGtydW1ibG9yYnV5NTBBY3Rpb24pOwogICAgZnVuY3Rpb24ga3J1bWJsb3JidXk1MEFjdGlvbihldmVudCkgewogICAgICAgIEdhbWUuYnV5TW9kZT0xOwogICAgICAgIEdhbWUuT2JqZWN0c0J5SWQuZm9yRWFjaChidWlsZGluZyA9PiBidWlsZGluZy5idXkoNTApKTsKICAgIH0KCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5jbHVkZUxvYW4xIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCB0b2dnbGVMb2FuKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbmNsdWRlTG9hbjIiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHRvZ2dsZUxvYW4pOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImluY2x1ZGVMb2FuMyIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdG9nZ2xlTG9hbik7CiAgICBmdW5jdGlvbiB0b2dnbGVMb2FuKGV2ZW50KSB7CiAgICAgICAgdmFyIGxvYW5JZCA9IGV2ZW50LnNyY0VsZW1lbnQuaWQ7CiAgICAgICAgdmFyIGxvYW5CdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsb2FuSWQpOwogICAgICAgIGxvYW5zW2xvYW5JZF0gPSAhbG9hbnNbbG9hbklkXTsKICAgICAgICBpZiAobG9hbnNbbG9hbklkXSkgewogICAgICAgICAgICBsb2FuQnRuLnN0eWxlLnRleHREZWNvcmF0aW9uID0gJ3VuZGVybGluZSBvdmVybGluZSc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbG9hbkJ0bi5zdHlsZS50ZXh0RGVjb3JhdGlvbiA9IG51bGw7CiAgICAgICAgfQogICAgfQoKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJidXlUaGVMb2FucyIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgYnV5TG9hbnMpOwogICAgZnVuY3Rpb24gYnV5TG9hbnMoZXZlbnQpIHsKICAgICAgICBpZiAobG9hbnMuaW5jbHVkZUxvYW4xKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmFua0xvYW4xIikuY2xpY2soKTsKICAgICAgICBpZiAobG9hbnMuaW5jbHVkZUxvYW4yKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmFua0xvYW4yIikuY2xpY2soKTsKICAgICAgICBpZiAobG9hbnMuaW5jbHVkZUxvYW4zKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmFua0xvYW4zIikuY2xpY2soKTsKICAgIH0KCn0pKCk7Cgo="},{"name":"Cookie Clicker Save Helper","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://orteil.dashnet.org/cookieclicker/","http://orteil.dashnet.org/cookieclicker/"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[],"orig_run_in":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null,"run_in":null,"tags":[]},"storage":{"ts":1722816236306,"data":{"cookieclickerautosave":"btrue"}},"enabled":true,"position":8,"uuid":"8852c90b-ef29-4a7a-bd71-92f19cb10586","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIENvb2tpZSBDbGlja2VyIFNhdmUgSGVscGVyCi8vIEBhdXRob3IgICAgICB3aGF0ZXZlcgovLyBAbmFtZXNwYWNlICAgY29va2llc2F2ZWhlbHBlcgovLyBAdmVyc2lvbiAgICAgMQovLyBAbWF0Y2ggICAgICAgaHR0cHM6Ly9vcnRlaWwuZGFzaG5ldC5vcmcvY29va2llY2xpY2tlci8KLy8gQG1hdGNoIGh0dHA6Ly9vcnRlaWwuZGFzaG5ldC5vcmcvY29va2llY2xpY2tlci8KLy8gQGdyYW50IEdNX3NldFZhbHVlCi8vIEBncmFudCBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgR01fdW5yZWdpc3Rlck1lbnVDb21tYW5kCi8vID09L1VzZXJTY3JpcHQ9PQoKCihhc3luYyBmdW5jdGlvbiAoKSB7CgogICAgY29uc3Qgb25lRGF5ID0gMTAwMCAqIDYwICogNjAgKiAyNDsKCiAgICB2YXIgd2FpdEdhbWVSZWFkeSA9ICgpID0+IHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBHYW1lLnJlYWR5ICE9PSAndW5kZWZpbmVkJyAmJiBHYW1lLnJlYWR5KSB7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LDEwMDApOwogICAgICAgIH0pOwogICAgfTsKCiAgICBjb25zdCBhdXRvU2F2ZUtleSA9ICJjb29raWVjbGlja2VyYXV0b3NhdmUiOwogICAgdmFyIG1lbnVJdGVtID0gbnVsbDsKCiAgICB2YXIgdG9nZ2xlRnVuYyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gR01fZ2V0VmFsdWUoYXV0b1NhdmVLZXksIHRydWUpOwogICAgICAgIHZhciBuZXdWYWx1ZSA9ICFjdXJyZW50VmFsdWU7CiAgICAgICAgR01fc2V0VmFsdWUoYXV0b1NhdmVLZXksIG5ld1ZhbHVlKTsKICAgICAgICBzZXRNZW51KCk7CiAgICB9CgogICAgdmFyIHNldE1lbnUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IEdNX2dldFZhbHVlKGF1dG9TYXZlS2V5LCBudWxsKTsKICAgICAgICBHTV91bnJlZ2lzdGVyTWVudUNvbW1hbmQobWVudUl0ZW0pOwogICAgICAgIG1lbnVJdGVtID0gR01fcmVnaXN0ZXJNZW51Q29tbWFuZChgQXV0b3NhdmU6ICR7Y3VycmVudFZhbHVlfWAsIGZ1bmN0aW9uICgpIHsgdG9nZ2xlRnVuYygpOyB9KTsKICAgIH0KCiAgICBzZXRNZW51KCk7CgogICAgYXdhaXQgd2FpdEdhbWVSZWFkeSgpOwoKICAgIC8vIGluY2x1ZGUgZGF0ZXRpbWUgaW4gc2F2ZSBmaWxlbmFtZQogICAgR2FtZS5GaWxlU2F2ZT1mdW5jdGlvbigpIHsKICAgICAgICBpZiAoQXBwKSByZXR1cm4gZmFsc2U7CiAgICAgICAgR2FtZS5wcmVmcy5zaG93QmFja3VwV2FybmluZz0wOwoKICAgICAgICB2YXIgY3VycmVudGRhdGUgPSBuZXcgRGF0ZSgpOwogICAgICAgIHZhciBkYXRldGltZSA9IGN1cnJlbnRkYXRlLmdldEZ1bGxZZWFyKCkKICAgICAgICArICItIiArIChjdXJyZW50ZGF0ZS5nZXRNb250aCgpKzEpCiAgICAgICAgKyAiLSIgKyBjdXJyZW50ZGF0ZS5nZXREYXRlKCkKICAgICAgICArICIgIgogICAgICAgICsgY3VycmVudGRhdGUuZ2V0SG91cnMoKSArICI6IgogICAgICAgICsgY3VycmVudGRhdGUuZ2V0TWludXRlcygpICsgIjoiCiAgICAgICAgKyBjdXJyZW50ZGF0ZS5nZXRTZWNvbmRzKCk7CgogICAgICAgIHZhciBmaWxlbmFtZT1kYXRldGltZSArICIgIiArIEdhbWUuYmFrZXJ5TmFtZS5yZXBsYWNlKC9bXmEtekEtWjAtOV0rL2csJycpKydCYWtlcnknOwogICAgICAgIHZhciB0ZXh0PUdhbWUuV3JpdGVTYXZlKDEpOwogICAgICAgIHZhciBibG9iPW5ldyBCbG9iKFt0ZXh0XSx7dHlwZTondGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04J30pOwogICAgICAgIHNhdmVBcyhibG9iLGZpbGVuYW1lKycudHh0Jyk7CiAgICB9CgogICAgLy8gc2V0dXAgZGlzcGxheSBmb3IgbmV4dCBhdXRvIHNhdmUgdGltZQogICAgdmFyIG5leHRTYXZlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBuZXh0U2F2ZUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgJ25leHRTYXZlQ29udGFpbmVyJyk7CiAgICBuZXh0U2F2ZUNvbnRhaW5lci5zdHlsZS5mbG9hdCA9ICJyaWdodCI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9wQmFyIikuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCJhZnRlcmVuZCIsIG5leHRTYXZlQ29udGFpbmVyKTsKCiAgICB2YXIgbmV4dCA9IG9uZURheTsKCiAgICB2YXIgZGlzcGxheU5leHRTYXZlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgbmV4dFNhdmVDb250YWluZXIuaW5uZXJUZXh0ID0gIk5leHQgU2F2ZTogIiArIG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgbmV4dCkudG9Mb2NhbGVTdHJpbmcoKTsKICAgIH07CgogICAgdmFyIHNhdmUgPSBmdW5jdGlvbigpIHsKICAgICAgICBkaXNwbGF5TmV4dFNhdmUoKTsKICAgICAgICB2YXIgZW5hYmxlZCA9IEdNX2dldFZhbHVlKGF1dG9TYXZlS2V5LCBmYWxzZSk7CiAgICAgICAgaWYgKGVuYWJsZWQpIEdhbWUuRmlsZVNhdmUoKTsKICAgIH07CgogICAgdmFyIGF1dG9TYXZlVGltZXIgPSBzZXRJbnRlcnZhbChzYXZlLCBuZXh0KTsKCiAgICBkaXNwbGF5TmV4dFNhdmUoKTsKCn0pKCk7Cg=="},{"name":"Cookie Clicker GC Frequency","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://orteil.dashnet.org/cookieclicker/"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[],"orig_run_in":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null,"run_in":null,"tags":[]},"storage":{"ts":1718601064606,"data":{}},"enabled":false,"position":9,"uuid":"3fe39a78-8161-4954-91d8-abc0e92d2bd3","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIENvb2tpZSBDbGlja2VyIEdDIEZyZXF1ZW5jeQovLyBAYXV0aG9yICAgICAgd2hhdGV2ZXIKLy8gQG5hbWVzcGFjZSAgIGNvb2tpZXNnY2ZyZXEKLy8gQHZlcnNpb24gICAgIDEKLy8gQG1hdGNoICAgICAgIGh0dHBzOi8vb3J0ZWlsLmRhc2huZXQub3JnL2Nvb2tpZWNsaWNrZXIvCi8vIEBncmFudCBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewoKICAgIHZhciBmcmVxcyA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB0b29sc1RleHREaXYgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImdhcmRlblBhbmVsTGFiZWwiKSkuZmlsdGVyKGEgPT4gYS5pbm5lclRleHQuc3RhcnRzV2l0aCgiVG9vbHMiKSlbMF07CiAgICAgICAgdmFyIG5ld3RleHQgPSBgVG9vbHMsIEZyZXE6ICR7R2FtZS5lZmZzLmdvbGRlbkNvb2tpZUZyZXEudG9GaXhlZCgyKX0sIEZyZXErOiAkeyhHYW1lLmVmZnMuZ29sZGVuQ29va2llRnJlcSAqIDEuMjUpLnRvRml4ZWQoMil9YDsKICAgICAgICB0b29sc1RleHREaXYuaW5uZXJUZXh0ID0gbmV3dGV4dDsKICAgIH0sIDUwMDApOwoKfSkoKTs="},{"name":"Cookie Clicker Ascender","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://orteil.dashnet.org/cookieclicker/"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[],"orig_run_in":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":null,"run_in":null,"tags":[]},"storage":{"ts":1721576427717,"data":{"cookieascender":"bfalse"}},"enabled":false,"position":10,"uuid":"d30f4bb2-152c-4129-b085-f2ddb6329a5b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIENvb2tpZSBDbGlja2VyIEFzY2VuZGVyCi8vIEBhdXRob3IgICAgICB3aGF0ZXZlcgovLyBAbmFtZXNwYWNlICAgY29va2llYXNjZW5kZXIKLy8gQHZlcnNpb24gICAgIDEKLy8gQG1hdGNoICAgICAgIGh0dHBzOi8vb3J0ZWlsLmRhc2huZXQub3JnL2Nvb2tpZWNsaWNrZXIvCi8vIEBncmFudCBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgR01fZ2V0VmFsdWUKLy8gQGdyYW50IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQGdyYW50IEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZAovLyA9PS9Vc2VyU2NyaXB0PT0KCgooYXN5bmMgZnVuY3Rpb24gKCkgewoKICAgIHZhciB3YWl0R2FtZVJlYWR5ID0gKCkgPT4gewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIEdhbWUucmVhZHkgIT09ICd1bmRlZmluZWQnICYmIEdhbWUucmVhZHkpIHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sMTAwMCk7CiAgICAgICAgfSk7CiAgICB9OwoKICAgIGNvbnN0IGF1dG9TYXZlS2V5ID0gImNvb2tpZWFzY2VuZGVyIjsKICAgIHZhciBtZW51SXRlbSA9IG51bGw7CgogICAgdmFyIHRvZ2dsZUZ1bmMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IEdNX2dldFZhbHVlKGF1dG9TYXZlS2V5LCB0cnVlKTsKICAgICAgICB2YXIgbmV3VmFsdWUgPSAhY3VycmVudFZhbHVlOwogICAgICAgIEdNX3NldFZhbHVlKGF1dG9TYXZlS2V5LCBuZXdWYWx1ZSk7CiAgICAgICAgc2V0TWVudSgpOwogICAgfQoKICAgIHZhciBzZXRNZW51ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBHTV9nZXRWYWx1ZShhdXRvU2F2ZUtleSwgbnVsbCk7CiAgICAgICAgR01fdW5yZWdpc3Rlck1lbnVDb21tYW5kKG1lbnVJdGVtKTsKICAgICAgICBtZW51SXRlbSA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoYEVuYWJsZWQ6ICR7Y3VycmVudFZhbHVlfWAsIGZ1bmN0aW9uICgpIHsgdG9nZ2xlRnVuYygpOyB9KTsKICAgIH0KCiAgICBzZXRNZW51KCk7CgogICAgYXdhaXQgd2FpdEdhbWVSZWFkeSgpOwoKICAgIHZhciB0aWNrID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGVuYWJsZWQgPSBHTV9nZXRWYWx1ZShhdXRvU2F2ZUtleSwgZmFsc2UpOwogICAgICAgIGlmIChlbmFibGVkKSBwcm9ncmVzcygpOwogICAgfTsKCiAgICB2YXIgc2hvdWxkQXNjZW5kID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIEdhbWUuYXNjZW5kTnVtYmVyLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnOwogICAgfTsKCiAgICB2YXIgaXNBc2NlbmRpbmcgPSBmYWxzZTsKICAgIHZhciBkb0FzY2VuZCA9IGFzeW5jIGZ1bmN0aW9uKCkgewogICAgICAgIGlzQXNjZW5kaW5nID0gdHJ1ZTsKICAgICAgICBHYW1lLkFzY2VuZCgxKTsKICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgMTAqMTAwMCkpOwogICAgICAgIEdhbWUuUmVpbmNhcm5hdGUoMSk7CiAgICAgICAgaXNBc2NlbmRpbmcgPSBmYWxzZTsKICAgIH07CgogICAgdmFyIHByb2dyZXNzID0gZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGlzQXNjZW5kaW5nKSB7CiAgICAgICAgfSBlbHNlIGlmIChzaG91bGRBc2NlbmQoKSkgewogICAgICAgICAgICBkb0FzY2VuZCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciB1cGdyYWRlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0b3JlQnV5QWxsQnV0dG9uIik7CiAgICAgICAgICAgIGlmICh1cGdyYWRlQnV0dG9uKSB7CiAgICAgICAgICAgICAgICB1cGdyYWRlQnV0dG9uLmNsaWNrKCk7CgogICAgICAgICAgICAgICAgR2FtZS5idXlNb2RlPTE7CiAgICAgICAgICAgICAgICBpZiAoR2FtZS5PYmplY3RzWydDdXJzb3InXS5hbW91bnQgPCA5MDAgKSB7CiAgICAgICAgICAgICAgICAgICAgR2FtZS5PYmplY3RzQnlJZC5mb3JFYWNoKGJ1aWxkaW5nID0+IGJ1aWxkaW5nLmJ1eSg1MCkpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBHYW1lLk9iamVjdHNbJ1lvdSddLmJ1eSgxMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKCiAgICB2YXIgYXNjZW5kZXJJbnRlcnZhbCA9IHNldEludGVydmFsKHRpY2ssIDEwMDApOwoKfSkoKTsK"},{"name":"TwitchAdSolutions (vaft)","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["*://*.twitch.tv/*"],"orig_noframes":null,"orig_run_at":"document-start","orig_run_in":[],"orig_tags":[],"use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"run_in":null,"sandbox":null,"tags":[],"unwrap":null,"user_modified":null},"storage":{"ts":1726358884196,"data":{}},"enabled":true,"position":11,"file_url":"https://github.com/pixeltris/TwitchAdSolutions/raw/master/vaft/vaft.user.js","uuid":"093b689d-17e5-4bb7-a259-a615bd40b716","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBUd2l0Y2hBZFNvbHV0aW9ucyAodmFmdCkKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dpdGh1Yi5jb20vcGl4ZWx0cmlzL1R3aXRjaEFkU29sdXRpb25zCi8vIEB2ZXJzaW9uICAgICAgMTcuMC4wCi8vIEBkZXNjcmlwdGlvbiAgTXVsdGlwbGUgc29sdXRpb25zIGZvciBibG9ja2luZyBUd2l0Y2ggYWRzICh2YWZ0KQovLyBAdXBkYXRlVVJMICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhlbHRyaXMvVHdpdGNoQWRTb2x1dGlvbnMvcmF3L21hc3Rlci92YWZ0L3ZhZnQudXNlci5qcwovLyBAZG93bmxvYWRVUkwgIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhlbHRyaXMvVHdpdGNoQWRTb2x1dGlvbnMvcmF3L21hc3Rlci92YWZ0L3ZhZnQudXNlci5qcwovLyBAYXV0aG9yICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9jbGVhbmxvY2svVmlkZW9BZEJsb2NrRm9yVHdpdGNoI2NyZWRpdHMKLy8gQG1hdGNoICAgICAgICAqOi8vKi50d2l0Y2gudHYvKgovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEBpbmplY3QtaW50byAgcGFnZQovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CihmdW5jdGlvbigpIHsKICAgICd1c2Ugc3RyaWN0JzsKICAgIHZhciBvdXJUd2l0Y2hBZFNvbHV0aW9uc1ZlcnNpb24gPSAyOy8vIE9ubHkgYnVtcCB0aGlzIHdoZW4gdGhlcmUncyBhIGJyZWFraW5nIGNoYW5nZSB0byBUd2l0Y2gsIHRoZSBzY3JpcHQsIG9yIHRoZXJlJ3MgYSBjb25mbGljdCB3aXRoIGFuIHVubWFpbnRhaW5lZCBleHRlbnNpb24gd2hpY2ggdXNlcyB0aGlzIHNjcmlwdAogICAgaWYgKHdpbmRvdy50d2l0Y2hBZFNvbHV0aW9uc1ZlcnNpb24gJiYgd2luZG93LnR3aXRjaEFkU29sdXRpb25zVmVyc2lvbiA+PSBvdXJUd2l0Y2hBZFNvbHV0aW9uc1ZlcnNpb24pIHsKICAgICAgICBjb25zb2xlLmxvZygic2tpcHBpbmcgdmFmdCBhcyB0aGVyZSdzIGFub3RoZXIgc2NyaXB0IGFjdGl2ZS4gb3VyVmVyc2lvbjoiICsgb3VyVHdpdGNoQWRTb2x1dGlvbnNWZXJzaW9uICsgIiBhY3RpdmVWZXJzaW9uOiIgKyB3aW5kb3cudHdpdGNoQWRTb2x1dGlvbnNWZXJzaW9uKTsKICAgICAgICB3aW5kb3cudHdpdGNoQWRTb2x1dGlvbnNWZXJzaW9uID0gb3VyVHdpdGNoQWRTb2x1dGlvbnNWZXJzaW9uOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIHdpbmRvdy50d2l0Y2hBZFNvbHV0aW9uc1ZlcnNpb24gPSBvdXJUd2l0Y2hBZFNvbHV0aW9uc1ZlcnNpb247CiAgICBmdW5jdGlvbiBkZWNsYXJlT3B0aW9ucyhzY29wZSkgewogICAgICAgIHNjb3BlLkFkU2lnbmlmaWVyID0gJ3N0aXRjaGVkJzsKICAgICAgICBzY29wZS5DbGllbnRJRCA9ICdraW1uZTc4a3gzbmN4NmJyZ280bXY2d2tpNWgxa28nOwogICAgICAgIHNjb3BlLkNsaWVudFZlcnNpb24gPSAnbnVsbCc7CiAgICAgICAgc2NvcGUuQ2xpZW50U2Vzc2lvbiA9ICdudWxsJzsKICAgICAgICBzY29wZS5QbGF5ZXJUeXBlMiA9ICdlbWJlZCc7IC8vU291cmNlCiAgICAgICAgc2NvcGUuUGxheWVyVHlwZTMgPSAnc2l0ZSc7IC8vU291cmNlCiAgICAgICAgc2NvcGUuUGxheWVyVHlwZTQgPSAnYXV0b3BsYXknOyAvLzM2MHAKICAgICAgICBzY29wZS5DdXJyZW50Q2hhbm5lbE5hbWUgPSBudWxsOwogICAgICAgIHNjb3BlLlVzaGVyUGFyYW1zID0gbnVsbDsKICAgICAgICBzY29wZS5XYXNTaG93aW5nQWQgPSBmYWxzZTsKICAgICAgICBzY29wZS5HUUxEZXZpY2VJRCA9IG51bGw7CiAgICAgICAgc2NvcGUuSXNTcXVhZFN0cmVhbSA9IGZhbHNlOwogICAgICAgIHNjb3BlLlN0cmVhbUluZm9zID0gW107CiAgICAgICAgc2NvcGUuU3RyZWFtSW5mb3NCeVVybCA9IFtdOwogICAgICAgIHNjb3BlLk1haW5VcmxCeVVybCA9IFtdOwogICAgICAgIHNjb3BlLkVuY29kaW5nQ2FjaGVUaW1lb3V0ID0gNjAwMDA7CiAgICAgICAgc2NvcGUuQ2xpZW50SW50ZWdyaXR5SGVhZGVyID0gbnVsbDsKICAgICAgICBzY29wZS5BdXRob3JpemF0aW9uSGVhZGVyID0gbnVsbDsKICAgIH0KICAgIHZhciB0d2l0Y2hXb3JrZXJzID0gW107CiAgICB2YXIgYWRCbG9ja0RpdiA9IG51bGw7CiAgICB2YXIgT3JpZ2luYWxWaWRlb1BsYXllclF1YWxpdHkgPSBudWxsOwogICAgdmFyIElzUGxheWVyQXV0b1F1YWxpdHkgPSBudWxsOwogICAgdmFyIHdvcmtlclN0cmluZ0NvbmZsaWN0cyA9IFsKICAgICAgICAndHdpdGNoJywKICAgICAgICAnaXNWYXJpYW50QScvLyBUd2l0Y2hOb1N1YgogICAgXTsKICAgIHZhciB3b3JrZXJTdHJpbmdBbGxvdyA9IFtdOwogICAgdmFyIHdvcmtlclN0cmluZ1JlaW5zZXJ0ID0gWwogICAgICAgICdpc1ZhcmlhbnRBJywvLyBUd2l0Y2hOb1N1YiAocHJpb3IgdG8gKDAuOSkpCiAgICAgICAgJ2Jlc3VwZXIvJywvLyBUd2l0Y2hOb1N1YiAoMC45KQogICAgICAgICcke3BhdGNoX3VybH0nLy8gVHdpdGNoTm9TdWIgKDAuOS4xKQogICAgXTsKICAgIGZ1bmN0aW9uIGdldENsZWFuV29ya2VyKHdvcmtlcikgewogICAgICAgIHZhciByb290ID0gbnVsbDsKICAgICAgICB2YXIgcGFyZW50ID0gbnVsbDsKICAgICAgICB2YXIgcHJvdG8gPSB3b3JrZXI7CiAgICAgICAgd2hpbGUgKHByb3RvKSB7CiAgICAgICAgICAgIHZhciB3b3JrZXJTdHJpbmcgPSBwcm90by50b1N0cmluZygpOwogICAgICAgICAgICBpZiAod29ya2VyU3RyaW5nQ29uZmxpY3RzLnNvbWUoKHgpID0+IHdvcmtlclN0cmluZy5pbmNsdWRlcyh4KSkgJiYgIXdvcmtlclN0cmluZ0FsbG93LnNvbWUoKHgpID0+IHdvcmtlclN0cmluZy5pbmNsdWRlcyh4KSkpIHsKICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YocGFyZW50LCBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmIChyb290ID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgcm9vdCA9IHByb3RvOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcGFyZW50ID0gcHJvdG87CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcm9vdDsKICAgIH0KICAgIGZ1bmN0aW9uIGdldFdvcmtlcnNGb3JSZWluc2VydCh3b3JrZXIpIHsKICAgICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgICAgdmFyIHByb3RvID0gd29ya2VyOwogICAgICAgIHdoaWxlIChwcm90bykgewogICAgICAgICAgICB2YXIgd29ya2VyU3RyaW5nID0gcHJvdG8udG9TdHJpbmcoKTsKICAgICAgICAgICAgaWYgKHdvcmtlclN0cmluZ1JlaW5zZXJ0LnNvbWUoKHgpID0+IHdvcmtlclN0cmluZy5pbmNsdWRlcyh4KSkpIHsKICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHByb3RvKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgfQogICAgICAgICAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICBmdW5jdGlvbiByZWluc2VydFdvcmtlcnMod29ya2VyLCByZWluc2VydCkgewogICAgICAgIHZhciBwYXJlbnQgPSB3b3JrZXI7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWluc2VydC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YocmVpbnNlcnRbaV0sIHBhcmVudCk7CiAgICAgICAgICAgIHBhcmVudCA9IHJlaW5zZXJ0W2ldOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcGFyZW50OwogICAgfQogICAgZnVuY3Rpb24gaXNWYWxpZFdvcmtlcih3b3JrZXIpIHsKICAgICAgICB2YXIgd29ya2VyU3RyaW5nID0gd29ya2VyLnRvU3RyaW5nKCk7CiAgICAgICAgcmV0dXJuICF3b3JrZXJTdHJpbmdDb25mbGljdHMuc29tZSgoeCkgPT4gd29ya2VyU3RyaW5nLmluY2x1ZGVzKHgpKQogICAgICAgICAgICB8fCB3b3JrZXJTdHJpbmdBbGxvdy5zb21lKCh4KSA9PiB3b3JrZXJTdHJpbmcuaW5jbHVkZXMoeCkpCiAgICAgICAgICAgIHx8IHdvcmtlclN0cmluZ1JlaW5zZXJ0LnNvbWUoKHgpID0+IHdvcmtlclN0cmluZy5pbmNsdWRlcyh4KSk7CiAgICB9CiAgICBmdW5jdGlvbiBob29rV2luZG93V29ya2VyKCkgewogICAgICAgIHZhciByZWluc2VydCA9IGdldFdvcmtlcnNGb3JSZWluc2VydCh3aW5kb3cuV29ya2VyKTsKICAgICAgICB2YXIgbmV3V29ya2VyID0gY2xhc3MgV29ya2VyIGV4dGVuZHMgZ2V0Q2xlYW5Xb3JrZXIod2luZG93LldvcmtlcikgewogICAgICAgICAgICBjb25zdHJ1Y3Rvcih0d2l0Y2hCbG9iVXJsLCBvcHRpb25zKSB7CiAgICAgICAgICAgICAgICB2YXIgaXNUd2l0Y2hXb3JrZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgaXNUd2l0Y2hXb3JrZXIgPSBuZXcgVVJMKHR3aXRjaEJsb2JVcmwpLm9yaWdpbi5lbmRzV2l0aCgnLnR3aXRjaC50dicpOwogICAgICAgICAgICAgICAgfSBjYXRjaCB7fQogICAgICAgICAgICAgICAgaWYgKCFpc1R3aXRjaFdvcmtlcikgewogICAgICAgICAgICAgICAgICAgIHN1cGVyKHR3aXRjaEJsb2JVcmwsIG9wdGlvbnMpOwogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBuZXdCbG9iU3RyID0gYAogICAgICAgICAgICAgICAgICAgICR7Z2V0U3RyZWFtVXJsRm9yUmVzb2x1dGlvbi50b1N0cmluZygpfQogICAgICAgICAgICAgICAgICAgICR7Z2V0U3RyZWFtRm9yUmVzb2x1dGlvbi50b1N0cmluZygpfQogICAgICAgICAgICAgICAgICAgICR7c3RyaXBVbnVzZWRQYXJhbXMudG9TdHJpbmcoKX0KICAgICAgICAgICAgICAgICAgICAke3Byb2Nlc3NNM1U4LnRvU3RyaW5nKCl9CiAgICAgICAgICAgICAgICAgICAgJHtob29rV29ya2VyRmV0Y2gudG9TdHJpbmcoKX0KICAgICAgICAgICAgICAgICAgICAke2RlY2xhcmVPcHRpb25zLnRvU3RyaW5nKCl9CiAgICAgICAgICAgICAgICAgICAgJHtnZXRBY2Nlc3NUb2tlbi50b1N0cmluZygpfQogICAgICAgICAgICAgICAgICAgICR7Z3FsUmVxdWVzdC50b1N0cmluZygpfQogICAgICAgICAgICAgICAgICAgICR7YWRSZWNvcmRncWxQYWNrZXQudG9TdHJpbmcoKX0KICAgICAgICAgICAgICAgICAgICAke3RyeU5vdGlmeVR3aXRjaC50b1N0cmluZygpfQogICAgICAgICAgICAgICAgICAgICR7cGFyc2VBdHRyaWJ1dGVzLnRvU3RyaW5nKCl9CiAgICAgICAgICAgICAgICAgICAgJHtnZXRXYXNtV29ya2VySnMudG9TdHJpbmcoKX0KICAgICAgICAgICAgICAgICAgICB2YXIgd29ya2VyU3RyaW5nID0gZ2V0V2FzbVdvcmtlckpzKCcke3R3aXRjaEJsb2JVcmwucmVwbGFjZUFsbCgiJyIsICIlMjciKX0nKTsKICAgICAgICAgICAgICAgICAgICBkZWNsYXJlT3B0aW9ucyhzZWxmKTsKICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmRhdGEua2V5ID09ICdVcGRhdGVJc1NxdWFkU3RyZWFtJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgSXNTcXVhZFN0cmVhbSA9IGUuZGF0YS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmRhdGEua2V5ID09ICdVcGRhdGVDbGllbnRWZXJzaW9uJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2xpZW50VmVyc2lvbiA9IGUuZGF0YS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmRhdGEua2V5ID09ICdVcGRhdGVDbGllbnRTZXNzaW9uJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2xpZW50U2Vzc2lvbiA9IGUuZGF0YS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmRhdGEua2V5ID09ICdVcGRhdGVDbGllbnRJZCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIENsaWVudElEID0gZS5kYXRhLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuZGF0YS5rZXkgPT0gJ1VwZGF0ZURldmljZUlkJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgR1FMRGV2aWNlSUQgPSBlLmRhdGEudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5kYXRhLmtleSA9PSAnVXBkYXRlQ2xpZW50SW50ZWdyaXR5SGVhZGVyJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2xpZW50SW50ZWdyaXR5SGVhZGVyID0gZS5kYXRhLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuZGF0YS5rZXkgPT0gJ1VwZGF0ZUF1dGhvcml6YXRpb25IZWFkZXInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uSGVhZGVyID0gZS5kYXRhLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgaG9va1dvcmtlckZldGNoKCk7CiAgICAgICAgICAgICAgICAgICAgZXZhbCh3b3JrZXJTdHJpbmcpOwogICAgICAgICAgICAgICAgYDsKICAgICAgICAgICAgICAgIHN1cGVyKFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW25ld0Jsb2JTdHJdKSksIG9wdGlvbnMpOwogICAgICAgICAgICAgICAgdHdpdGNoV29ya2Vycy5wdXNoKHRoaXMpOwogICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZS5kYXRhLmtleSA9PSAnU2hvd0FkQmxvY2tCYW5uZXInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZEJsb2NrRGl2ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkQmxvY2tEaXYgPSBnZXRBZEJsb2NrRGl2KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYWRCbG9ja0Rpdi5QLnRleHRDb250ZW50ID0gJ0Jsb2NraW5nIGFkcyc7CiAgICAgICAgICAgICAgICAgICAgICAgIGFkQmxvY2tEaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmRhdGEua2V5ID09ICdIaWRlQWRCbG9ja0Jhbm5lcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkQmxvY2tEaXYgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRCbG9ja0RpdiA9IGdldEFkQmxvY2tEaXYoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBhZEJsb2NrRGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmRhdGEua2V5ID09ICdQYXVzZVJlc3VtZVBsYXllcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9Ud2l0Y2hQbGF5ZXJUYXNrKHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUuZGF0YS5rZXkgPT0gJ0ZvcmNlQ2hhbmdlUXVhbGl0eScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy9UaGlzIGlzIHVzZWQgdG8gZml4IHRoZSBidWcgd2hlcmUgdGhlIHZpZGVvIHdvdWxkIGZyZWV6ZS4KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdmaXJlZm94JykgPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdXRvUXVhbGl0eSA9IGRvVHdpdGNoUGxheWVyVGFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCB0cnVlLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFF1YWxpdHkgPSBkb1R3aXRjaFBsYXllclRhc2soZmFsc2UsIHRydWUsIGZhbHNlLCBmYWxzZSwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKElzUGxheWVyQXV0b1F1YWxpdHkgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzUGxheWVyQXV0b1F1YWxpdHkgPSBhdXRvUXVhbGl0eTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPcmlnaW5hbFZpZGVvUGxheWVyUXVhbGl0eSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT3JpZ2luYWxWaWRlb1BsYXllclF1YWxpdHkgPSBjdXJyZW50UXVhbGl0eTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudFF1YWxpdHkuaW5jbHVkZXMoJzM2MCcpIHx8IGUuZGF0YS52YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFPcmlnaW5hbFZpZGVvUGxheWVyUXVhbGl0eS5pbmNsdWRlcygnMzYwJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdltkYXRhLWEtdGFyZ2V0PSJwbGF5ZXItc2V0dGluZ3MtbWVudSJdJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nc01lbnUgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzQ29nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW2RhdGEtYS10YXJnZXQ9InBsYXllci1zZXR0aW5ncy1idXR0b24iXScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzQ29nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NDb2cuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVhbGl0eU1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1hLXRhcmdldD0icGxheWVyLXNldHRpbmdzLW1lbnUtaXRlbS1xdWFsaXR5Il0nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVhbGl0eU1lbnUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eU1lbnUuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvd1F1YWxpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtkYXRhLWEtdGFyZ2V0PSJ0dy1yYWRpbyInKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobG93UXVhbGl0eSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVhbGl0eVRvU2VsZWN0ID0gbG93UXVhbGl0eS5sZW5ndGggLSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5kYXRhLnZhbHVlICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmRhdGEudmFsdWUuaW5jbHVkZXMoJ29yaWdpbmFsJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmRhdGEudmFsdWUgPSBPcmlnaW5hbFZpZGVvUGxheWVyUXVhbGl0eTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoSXNQbGF5ZXJBdXRvUXVhbGl0eSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmRhdGEudmFsdWUgPSAnYXV0byc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuZGF0YS52YWx1ZS5pbmNsdWRlcygnMTYwcCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eVRvU2VsZWN0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmRhdGEudmFsdWUuaW5jbHVkZXMoJzM2MHAnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHlUb1NlbGVjdCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5kYXRhLnZhbHVlLmluY2x1ZGVzKCc0ODBwJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5VG9TZWxlY3QgPSAzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuZGF0YS52YWx1ZS5pbmNsdWRlcygnNzIwcCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eVRvU2VsZWN0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmRhdGEudmFsdWUuaW5jbHVkZXMoJzgyMnAnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHlUb1NlbGVjdCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5kYXRhLnZhbHVlLmluY2x1ZGVzKCc4NjRwJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5VG9TZWxlY3QgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuZGF0YS52YWx1ZS5pbmNsdWRlcygnOTAwcCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eVRvU2VsZWN0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmRhdGEudmFsdWUuaW5jbHVkZXMoJzkzNnAnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHlUb1NlbGVjdCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5kYXRhLnZhbHVlLmluY2x1ZGVzKCc5NjBwJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5VG9TZWxlY3QgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuZGF0YS52YWx1ZS5pbmNsdWRlcygnMTA4MHAnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHlUb1NlbGVjdCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5kYXRhLnZhbHVlLmluY2x1ZGVzKCdzb3VyY2UnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHlUb1NlbGVjdCA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5kYXRhLnZhbHVlLmluY2x1ZGVzKCdhdXRvJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5VG9TZWxlY3QgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50UXVhbGl0eUxTID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2aWRlby1xdWFsaXR5Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd1F1YWxpdHlbcXVhbGl0eVRvU2VsZWN0XS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc0NvZy5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZpZGVvLXF1YWxpdHknLCBjdXJyZW50UXVhbGl0eUxTKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUuZGF0YS52YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcmlnaW5hbFZpZGVvUGxheWVyUXVhbGl0eSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc1BsYXllckF1dG9RdWFsaXR5ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvVHdpdGNoUGxheWVyVGFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCB0cnVlLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcmlnaW5hbFZpZGVvUGxheWVyUXVhbGl0eSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJc1BsYXllckF1dG9RdWFsaXR5ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QWRCbG9ja0RpdigpIHsKICAgICAgICAgICAgICAgICAgICAvL1RvIGRpc3BsYXkgYSBub3RpZmljYXRpb24gdG8gdGhlIHVzZXIsIHRoYXQgYW4gYWQgaXMgYmVpbmcgYmxvY2tlZC4KICAgICAgICAgICAgICAgICAgICB2YXIgcGxheWVyUm9vdERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlby1wbGF5ZXInKTsKICAgICAgICAgICAgICAgICAgICB2YXIgYWRCbG9ja0RpdiA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllclJvb3REaXYgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICBhZEJsb2NrRGl2ID0gcGxheWVyUm9vdERpdi5xdWVyeVNlbGVjdG9yKCcuYWRibG9jay1vdmVybGF5Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZEJsb2NrRGl2ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkQmxvY2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkQmxvY2tEaXYuY2xhc3NOYW1lID0gJ2FkYmxvY2stb3ZlcmxheSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZEJsb2NrRGl2LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJwbGF5ZXItYWRibG9jay1ub3RpY2UiIHN0eWxlPSJjb2xvcjogd2hpdGU7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44KTsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDBweDsgbGVmdDogMHB4OyBwYWRkaW5nOiA1cHg7Ij48cD48L3A+PC9kaXY+JzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkQmxvY2tEaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkQmxvY2tEaXYuUCA9IGFkQmxvY2tEaXYucXVlcnlTZWxlY3RvcigncCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyUm9vdERpdi5hcHBlbmRDaGlsZChhZEJsb2NrRGl2KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRCbG9ja0RpdjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgdmFyIHdvcmtlckluc3RhbmNlID0gcmVpbnNlcnRXb3JrZXJzKG5ld1dvcmtlciwgcmVpbnNlcnQpOwogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdXb3JrZXInLCB7CiAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VySW5zdGFuY2U7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkV29ya2VyKHZhbHVlKSkgewogICAgICAgICAgICAgICAgICAgIHdvcmtlckluc3RhbmNlID0gdmFsdWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBdHRlbXB0IHRvIHNldCB0d2l0Y2ggd29ya2VyIGRlbmllZCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CiAgICBmdW5jdGlvbiBnZXRXYXNtV29ya2VySnModHdpdGNoQmxvYlVybCkgewogICAgICAgIHZhciByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICByZXEub3BlbignR0VUJywgdHdpdGNoQmxvYlVybCwgZmFsc2UpOwogICAgICAgIHJlcS5vdmVycmlkZU1pbWVUeXBlKCJ0ZXh0L2phdmFzY3JpcHQiKTsKICAgICAgICByZXEuc2VuZCgpOwogICAgICAgIHJldHVybiByZXEucmVzcG9uc2VUZXh0OwogICAgfQogICAgZnVuY3Rpb24gaG9va1dvcmtlckZldGNoKCkgewogICAgICAgIGNvbnNvbGUubG9nKCdob29rV29ya2VyRmV0Y2ggKHZhZnQpJyk7CiAgICAgICAgdmFyIHJlYWxGZXRjaCA9IGZldGNoOwogICAgICAgIGZldGNoID0gYXN5bmMgZnVuY3Rpb24odXJsLCBvcHRpb25zKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgaWYgKHVybC5lbmRzV2l0aCgnbTN1OCcpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvY2Vzc0FmdGVyID0gYXN5bmMgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vSGVyZSB3ZSBjaGVjayB0aGUgbTN1OCBmb3IgYW55IGFkcyBhbmQgYWxzbyB0cnkgZmFsbGJhY2sgcGxheWVyIHR5cGVzIGlmIG5lZWRlZC4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3ZWF2ZXJUZXh0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWF2ZXJUZXh0ID0gYXdhaXQgcHJvY2Vzc00zVTgodXJsLCByZXNwb25zZVRleHQsIHJlYWxGZXRjaCwgUGxheWVyVHlwZTIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3ZWF2ZXJUZXh0LmluY2x1ZGVzKEFkU2lnbmlmaWVyKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWF2ZXJUZXh0ID0gYXdhaXQgcHJvY2Vzc00zVTgodXJsLCByZXNwb25zZVRleHQsIHJlYWxGZXRjaCwgUGxheWVyVHlwZTMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2VhdmVyVGV4dC5pbmNsdWRlcyhBZFNpZ25pZmllcikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VhdmVyVGV4dCA9IGF3YWl0IHByb2Nlc3NNM1U4KHVybCwgcmVzcG9uc2VUZXh0LCByZWFsRmV0Y2gsIFBsYXllclR5cGU0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShuZXcgUmVzcG9uc2Uod2VhdmVyVGV4dCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWFsRmV0Y2godXJsLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pWydjYXRjaCddKGZ1bmN0aW9uKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmQoKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2NoYW5uZWwvaGxzLycpKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYW5uZWxOYW1lID0gKG5ldyBVUkwodXJsKSkucGF0aG5hbWUubWF0Y2goLyhbXlwvXSspKD89XC5cdyskKS8pWzBdOwogICAgICAgICAgICAgICAgICAgIFVzaGVyUGFyYW1zID0gKG5ldyBVUkwodXJsKSkuc2VhcmNoOwogICAgICAgICAgICAgICAgICAgIEN1cnJlbnRDaGFubmVsTmFtZSA9IGNoYW5uZWxOYW1lOwogICAgICAgICAgICAgICAgICAgIC8vVG8gcHJldmVudCBwYXVzZS9yZXN1bWUgbG9vcCBmb3IgbWlkLXJvbGxzLgogICAgICAgICAgICAgICAgICAgIHZhciBpc1BCWVBSZXF1ZXN0ID0gdXJsLmluY2x1ZGVzKCdwaWN0dXJlLWJ5LXBpY3R1cmUnKTsKICAgICAgICAgICAgICAgICAgICBpZiAoaXNQQllQUmVxdWVzdCkgewogICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSAnJzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvY2Vzc0FmdGVyID0gYXN5bmMgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5jb2RpbmdzTTN1OCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyZWFtSW5mbyA9IFN0cmVhbUluZm9zW2NoYW5uZWxOYW1lXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RyZWFtSW5mbyA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmVhbUluZm9zW2NoYW5uZWxOYW1lXSA9IHN0cmVhbUluZm8gPSB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtSW5mby5DaGFubmVsTmFtZSA9IGNoYW5uZWxOYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUluZm8uUmVxdWVzdGVkQWRzID0gbmV3IFNldCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUluZm8uVXJscyA9IFtdOy8vIHh4eC5tM3U4IC0+IHsgUmVzb2x1dGlvbjogIjI4NHgxNjAiLCBGcmFtZVJhdGU6IDMwLjAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUluZm8uRW5jb2RpbmdzTTNVOENhY2hlID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtSW5mby5FbmNvZGluZ3NNM1U4ID0gZW5jb2RpbmdzTTN1ODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGluZXMgPSBlbmNvZGluZ3NNM3U4LnJlcGxhY2UoJ1xyJywgJycpLnNwbGl0KCdcbicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5lc1tpXS5zdGFydHNXaXRoKCcjJykgJiYgbGluZXNbaV0uaW5jbHVkZXMoJy5tM3U4JykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUluZm8uVXJsc1tsaW5lc1tpXV0gPSAtMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCAmJiBsaW5lc1tpIC0gMV0uc3RhcnRzV2l0aCgnI0VYVC1YLVNUUkVBTS1JTkYnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVzID0gcGFyc2VBdHRyaWJ1dGVzKGxpbmVzW2kgLSAxXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBhdHRyaWJ1dGVzWydSRVNPTFVUSU9OJ107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyYW1lUmF0ZSA9IGF0dHJpYnV0ZXNbJ0ZSQU1FLVJBVEUnXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x1dGlvbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1JbmZvLlVybHNbbGluZXNbaV1dID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzb2x1dGlvbjogcmVzb2x1dGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZyYW1lUmF0ZTogZnJhbWVSYXRlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyZWFtSW5mb3NCeVVybFtsaW5lc1tpXV0gPSBzdHJlYW1JbmZvOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWFpblVybEJ5VXJsW2xpbmVzW2ldXSA9IHVybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShlbmNvZGluZ3NNM3U4KSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWxGZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQWZ0ZXIocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlbJ2NhdGNoJ10oZnVuY3Rpb24oZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgc2VuZCgpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZWFsRmV0Y2guYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgfQogICAgZnVuY3Rpb24gZ2V0U3RyZWFtVXJsRm9yUmVzb2x1dGlvbihlbmNvZGluZ3NNM3U4LCByZXNvbHV0aW9uSW5mbywgcXVhbGl0eU92ZXJyaWRlU3RyKSB7CiAgICAgICAgdmFyIHF1YWxpdHlPdmVycmlkZSA9IDA7CiAgICAgICAgaWYgKHF1YWxpdHlPdmVycmlkZVN0ciAmJiBxdWFsaXR5T3ZlcnJpZGVTdHIuZW5kc1dpdGgoJ3AnKSkgewogICAgICAgICAgICBxdWFsaXR5T3ZlcnJpZGUgPSBxdWFsaXR5T3ZlcnJpZGVTdHIuc3Vic3RyKDAsIHF1YWxpdHlPdmVycmlkZVN0ci5sZW5ndGggLSAxKSB8IDA7CiAgICAgICAgfQogICAgICAgIHZhciBxdWFsaXR5T3ZlcnJpZGVGb3VuZFF1YWxpdHkgPSAwOwogICAgICAgIHZhciBxdWFsaXR5T3ZlcnJpZGVGb3VuZEZyYW1lUmF0ZSA9IDA7CiAgICAgICAgdmFyIGVuY29kaW5nc0xpbmVzID0gZW5jb2RpbmdzTTN1OC5yZXBsYWNlKCdccicsICcnKS5zcGxpdCgnXG4nKTsKICAgICAgICB2YXIgZmlyc3RVcmwgPSBudWxsOwogICAgICAgIHZhciBsYXN0VXJsID0gbnVsbDsKICAgICAgICB2YXIgbWF0Y2hlZFJlc29sdXRpb25VcmwgPSBudWxsOwogICAgICAgIHZhciBtYXRjaGVkRnJhbWVSYXRlID0gZmFsc2U7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbmNvZGluZ3NMaW5lcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAoIWVuY29kaW5nc0xpbmVzW2ldLnN0YXJ0c1dpdGgoJyMnKSAmJiBlbmNvZGluZ3NMaW5lc1tpXS5pbmNsdWRlcygnLm0zdTgnKSkgewogICAgICAgICAgICAgICAgaWYgKGkgPiAwICYmIGVuY29kaW5nc0xpbmVzW2kgLSAxXS5zdGFydHNXaXRoKCcjRVhULVgtU1RSRUFNLUlORicpKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBwYXJzZUF0dHJpYnV0ZXMoZW5jb2RpbmdzTGluZXNbaSAtIDFdKTsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGF0dHJpYnV0ZXNbJ1JFU09MVVRJT04nXTsKICAgICAgICAgICAgICAgICAgICB2YXIgZnJhbWVSYXRlID0gYXR0cmlidXRlc1snRlJBTUUtUkFURSddOwogICAgICAgICAgICAgICAgICAgIGlmIChyZXNvbHV0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWFsaXR5T3ZlcnJpZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWFsaXR5ID0gcmVzb2x1dGlvbi50b0xvd2VyQ2FzZSgpLnNwbGl0KCd4JylbMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVhbGl0eSA9PSBxdWFsaXR5T3ZlcnJpZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFsaXR5T3ZlcnJpZGVGb3VuZFF1YWxpdHkgPSBxdWFsaXR5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpdHlPdmVycmlkZUZvdW5kRnJhbWVSYXRlID0gZnJhbWVSYXRlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRSZXNvbHV0aW9uVXJsID0gZW5jb2RpbmdzTGluZXNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYW1lUmF0ZSA8IDQwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coYHF1YWxpdHlPdmVycmlkZShBKSBxdWFsaXR5OiR7cXVhbGl0eX0gZnJhbWVSYXRlOiR7ZnJhbWVSYXRlfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlZFJlc29sdXRpb25Vcmw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChxdWFsaXR5IDwgcXVhbGl0eU92ZXJyaWRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAobWF0Y2hlZFJlc29sdXRpb25VcmwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBjb25zb2xlLmxvZyhgcXVhbGl0eU92ZXJyaWRlKEIpIHF1YWxpdHk6JHtxdWFsaXR5T3ZlcnJpZGVGb3VuZFF1YWxpdHl9IGZyYW1lUmF0ZToke3F1YWxpdHlPdmVycmlkZUZvdW5kRnJhbWVSYXRlfWApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBjb25zb2xlLmxvZyhgcXVhbGl0eU92ZXJyaWRlKEMpIHF1YWxpdHk6JHtxdWFsaXR5fSBmcmFtZVJhdGU6JHtmcmFtZVJhdGV9YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy99CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZWRSZXNvbHV0aW9uVXJsID8gbWF0Y2hlZFJlc29sdXRpb25VcmwgOiBlbmNvZGluZ3NMaW5lc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoIXJlc29sdXRpb25JbmZvIHx8IHJlc29sdXRpb24gPT0gcmVzb2x1dGlvbkluZm8uUmVzb2x1dGlvbikgJiYKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIW1hdGNoZWRSZXNvbHV0aW9uVXJsIHx8ICghbWF0Y2hlZEZyYW1lUmF0ZSAmJiBmcmFtZVJhdGUgPT0gcmVzb2x1dGlvbkluZm8uRnJhbWVSYXRlKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRSZXNvbHV0aW9uVXJsID0gZW5jb2RpbmdzTGluZXNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVkRnJhbWVSYXRlID0gZnJhbWVSYXRlID09IHJlc29sdXRpb25JbmZvLkZyYW1lUmF0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkRnJhbWVSYXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZWRSZXNvbHV0aW9uVXJsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdFVybCA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0VXJsID0gZW5jb2RpbmdzTGluZXNbaV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxhc3RVcmwgPSBlbmNvZGluZ3NMaW5lc1tpXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAocXVhbGl0eU92ZXJyaWRlKSB7CiAgICAgICAgICAgIHJldHVybiBsYXN0VXJsOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbWF0Y2hlZFJlc29sdXRpb25VcmwgPyBtYXRjaGVkUmVzb2x1dGlvblVybCA6IGZpcnN0VXJsOwogICAgfQogICAgYXN5bmMgZnVuY3Rpb24gZ2V0U3RyZWFtRm9yUmVzb2x1dGlvbihzdHJlYW1JbmZvLCByZXNvbHV0aW9uSW5mbywgZW5jb2RpbmdzTTN1OCwgZmFsbGJhY2tTdHJlYW1TdHIsIHBsYXllclR5cGUsIHJlYWxGZXRjaCkgewogICAgICAgIHZhciBxdWFsaXR5T3ZlcnJpZGUgPSBudWxsOwogICAgICAgIGlmIChzdHJlYW1JbmZvLkVuY29kaW5nc00zVThDYWNoZVtwbGF5ZXJUeXBlXS5SZXNvbHV0aW9uICE9IHJlc29sdXRpb25JbmZvLlJlc29sdXRpb24gfHwKICAgICAgICAgICAgc3RyZWFtSW5mby5FbmNvZGluZ3NNM1U4Q2FjaGVbcGxheWVyVHlwZV0uUmVxdWVzdFRpbWUgPCBEYXRlLm5vdygpIC0gRW5jb2RpbmdDYWNoZVRpbWVvdXQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coYEJsb2NraW5nIGFkcyAodHlwZToke3BsYXllclR5cGV9LCByZXNvbHV0aW9uOiR7cmVzb2x1dGlvbkluZm8uUmVzb2x1dGlvbn0sIGZyYW1lUmF0ZToke3Jlc29sdXRpb25JbmZvLkZyYW1lUmF0ZX0sIHF1YWxpdHlPdmVycmlkZToke3F1YWxpdHlPdmVycmlkZX0pYCk7CiAgICAgICAgfQogICAgICAgIHN0cmVhbUluZm8uRW5jb2RpbmdzTTNVOENhY2hlW3BsYXllclR5cGVdLlJlcXVlc3RUaW1lID0gRGF0ZS5ub3coKTsKICAgICAgICBzdHJlYW1JbmZvLkVuY29kaW5nc00zVThDYWNoZVtwbGF5ZXJUeXBlXS5WYWx1ZSA9IGVuY29kaW5nc00zdTg7CiAgICAgICAgc3RyZWFtSW5mby5FbmNvZGluZ3NNM1U4Q2FjaGVbcGxheWVyVHlwZV0uUmVzb2x1dGlvbiA9IHJlc29sdXRpb25JbmZvLlJlc29sdXRpb247CiAgICAgICAgdmFyIHN0cmVhbU0zdThVcmwgPSBnZXRTdHJlYW1VcmxGb3JSZXNvbHV0aW9uKGVuY29kaW5nc00zdTgsIHJlc29sdXRpb25JbmZvLCBxdWFsaXR5T3ZlcnJpZGUpOwogICAgICAgIHZhciBzdHJlYW1NM3U4UmVzcG9uc2UgPSBhd2FpdCByZWFsRmV0Y2goc3RyZWFtTTN1OFVybCk7CiAgICAgICAgaWYgKHN0cmVhbU0zdThSZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgIHZhciBtM3U4VGV4dCA9IGF3YWl0IHN0cmVhbU0zdThSZXNwb25zZS50ZXh0KCk7CiAgICAgICAgICAgIFdhc1Nob3dpbmdBZCA9IHRydWU7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIGtleTogJ1Nob3dBZEJsb2NrQmFubmVyJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgICAga2V5OiAnRm9yY2VDaGFuZ2VRdWFsaXR5JwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKCFtM3U4VGV4dCB8fCBtM3U4VGV4dC5pbmNsdWRlcyhBZFNpZ25pZmllcikpIHsKICAgICAgICAgICAgICAgIHN0cmVhbUluZm8uRW5jb2RpbmdzTTNVOENhY2hlW3BsYXllclR5cGVdLlZhbHVlID0gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gbTN1OFRleHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3RyZWFtSW5mby5FbmNvZGluZ3NNM1U4Q2FjaGVbcGxheWVyVHlwZV0uVmFsdWUgPSBudWxsOwogICAgICAgICAgICByZXR1cm4gZmFsbGJhY2tTdHJlYW1TdHI7CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gc3RyaXBVbnVzZWRQYXJhbXMoc3RyLCBwYXJhbXMpIHsKICAgICAgICBpZiAoIXBhcmFtcykgewogICAgICAgICAgICBwYXJhbXMgPSBbICd0b2tlbicsICdzaWcnIF07CiAgICAgICAgfQogICAgICAgIHZhciB0ZW1wVXJsID0gbmV3IFVSTCgnaHR0cHM6Ly9sb2NhbGhvc3QvJyArIHN0cik7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGVtcFVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKHBhcmFtc1tpXSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0ZW1wVXJsLnBhdGhuYW1lLnN1YnN0cmluZygxKSArIHRlbXBVcmwuc2VhcmNoOwogICAgfQogICAgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc00zVTgodXJsLCB0ZXh0U3RyLCByZWFsRmV0Y2gsIHBsYXllclR5cGUpIHsKICAgICAgICAvL0NoZWNrcyB0aGUgbTN1OCBmb3IgYWRzIGFuZCBpZiBpdCBmaW5kcyBvbmUsIGluc3RlYWQgcmV0dXJucyBhbiBhZC1mcmVlIHN0cmVhbS4KICAgICAgICB2YXIgc3RyZWFtSW5mbyA9IFN0cmVhbUluZm9zQnlVcmxbdXJsXTsKICAgICAgICAvL0FkIGJsb2NraW5nIGZvciBzcXVhZCBzdHJlYW1zIGlzIGRpc2FibGVkIGR1ZSB0byB0aGUgd2F5IG11bHRpcGxlIHdlYXZlciB1cmxzIGFyZSB1c2VkLiBObyB3b3JrYXJvdW5kIHNvIGZhci4KICAgICAgICBpZiAoSXNTcXVhZFN0cmVhbSA9PSB0cnVlKSB7CiAgICAgICAgICAgIHJldHVybiB0ZXh0U3RyOwogICAgICAgIH0KICAgICAgICBpZiAoIXRleHRTdHIpIHsKICAgICAgICAgICAgcmV0dXJuIHRleHRTdHI7CiAgICAgICAgfQogICAgICAgIC8vU29tZSBsaXZlIHN0cmVhbXMgdXNlIG1wNC4KICAgICAgICBpZiAoIXRleHRTdHIuaW5jbHVkZXMoJy50cycpICYmICF0ZXh0U3RyLmluY2x1ZGVzKCcubXA0JykpIHsKICAgICAgICAgICAgcmV0dXJuIHRleHRTdHI7CiAgICAgICAgfQogICAgICAgIHZhciBoYXZlQWRUYWdzID0gdGV4dFN0ci5pbmNsdWRlcyhBZFNpZ25pZmllcik7CiAgICAgICAgaWYgKGhhdmVBZFRhZ3MpIHsKICAgICAgICAgICAgdmFyIGlzTWlkcm9sbCA9IHRleHRTdHIuaW5jbHVkZXMoJyJNSURST0xMIicpIHx8IHRleHRTdHIuaW5jbHVkZXMoJyJtaWRyb2xsIicpOwogICAgICAgICAgICAvL1JlZHVjZXMgYWQgZnJlcXVlbmN5LiBUT0RPOiBSZWR1Y2UgdGhlIG51bWJlciBvZiByZXF1ZXN0cy4gVGhpcyBpcyByZWFsbHkgc3BhbW1pbmcgVHdpdGNoIHdpdGggcmVxdWVzdHMuCiAgICAgICAgICAgIGlmICghaXNNaWRyb2xsKSB7CiAgICAgICAgICAgICAgICBpZiAocGxheWVyVHlwZSA9PT0gUGxheWVyVHlwZTIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgbGluZXMgPSB0ZXh0U3RyLnJlcGxhY2UoJ1xyJywgJycpLnNwbGl0KCdcbicpOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmUgPSBsaW5lc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUuc3RhcnRzV2l0aCgnI0VYVElORicpICYmIGxpbmVzLmxlbmd0aCA+IGkgKyAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpbmUuaW5jbHVkZXMoJyxsaXZlJykgJiYgIXN0cmVhbUluZm8uUmVxdWVzdGVkQWRzLmhhcyhsaW5lc1tpICsgMV0pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSByZXF1ZXN0IG9uZSAudHMgZmlsZSBwZXIgLm0zdTggcmVxdWVzdCB0byBhdm9pZCBtYWtpbmcgdG9vIG1hbnkgcmVxdWVzdHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdGZXRjaCBhZCAudHMgZmlsZScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUluZm8uUmVxdWVzdGVkQWRzLmFkZChsaW5lc1tpICsgMV0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKGxpbmVzW2kgKyAxXSkudGhlbigocmVzcG9uc2UpPT57cmVzcG9uc2UuYmxvYigpfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIC8vdHJ5Tm90aWZ5VHdpdGNoKHRleHRTdHIpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7fQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBjdXJyZW50UmVzb2x1dGlvbiA9IG51bGw7CiAgICAgICAgICAgIGlmIChzdHJlYW1JbmZvICYmIHN0cmVhbUluZm8uVXJscykgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCBbcmVzVXJsLCByZXNJbmZvXSBvZiBPYmplY3QuZW50cmllcyhzdHJlYW1JbmZvLlVybHMpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc1VybCA9PSB1cmwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFJlc29sdXRpb24gPSByZXNJbmZvOwogICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHJlc0luZm8uUmVzb2x1dGlvbik7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBLZWVwIHRoZSBtM3U4IGFyb3VuZCBmb3IgYSBsaXR0bGUgd2hpbGUgKG9uY2UgcGVyIGFkKSBiZWZvcmUgcmVxdWVzdGluZyBhIG5ldyBvbmUKICAgICAgICAgICAgdmFyIGVuY29kaW5nc00zVThDYWNoZSA9IHN0cmVhbUluZm8uRW5jb2RpbmdzTTNVOENhY2hlW3BsYXllclR5cGVdOwogICAgICAgICAgICBpZiAoZW5jb2RpbmdzTTNVOENhY2hlKSB7CiAgICAgICAgICAgICAgICBpZiAoZW5jb2RpbmdzTTNVOENhY2hlLlZhbHVlICYmIGVuY29kaW5nc00zVThDYWNoZS5SZXF1ZXN0VGltZSA+PSBEYXRlLm5vdygpIC0gRW5jb2RpbmdDYWNoZVRpbWVvdXQpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZ2V0U3RyZWFtRm9yUmVzb2x1dGlvbihzdHJlYW1JbmZvLCBjdXJyZW50UmVzb2x1dGlvbiwgZW5jb2RpbmdzTTNVOENhY2hlLlZhbHVlLCBudWxsLCBwbGF5ZXJUeXBlLCByZWFsRmV0Y2gpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kaW5nc00zVThDYWNoZS5WYWx1ZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc3RyZWFtSW5mby5FbmNvZGluZ3NNM1U4Q2FjaGVbcGxheWVyVHlwZV0gPSB7CiAgICAgICAgICAgICAgICAgICAgUmVxdWVzdFRpbWU6IERhdGUubm93KCksCiAgICAgICAgICAgICAgICAgICAgVmFsdWU6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgUmVzb2x1dGlvbjogbnVsbAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgYWNjZXNzVG9rZW5SZXNwb25zZSA9IGF3YWl0IGdldEFjY2Vzc1Rva2VuKEN1cnJlbnRDaGFubmVsTmFtZSwgcGxheWVyVHlwZSk7CiAgICAgICAgICAgIGlmIChhY2Nlc3NUb2tlblJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICB2YXIgYWNjZXNzVG9rZW4gPSBhd2FpdCBhY2Nlc3NUb2tlblJlc3BvbnNlLmpzb24oKTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHVybEluZm8gPSBuZXcgVVJMKCdodHRwczovL3VzaGVyLnR0dm53Lm5ldC9hcGkvY2hhbm5lbC9obHMvJyArIEN1cnJlbnRDaGFubmVsTmFtZSArICcubTN1OCcgKyBVc2hlclBhcmFtcyk7CiAgICAgICAgICAgICAgICAgICAgdXJsSW5mby5zZWFyY2hQYXJhbXMuc2V0KCdzaWcnLCBhY2Nlc3NUb2tlbi5kYXRhLnN0cmVhbVBsYXliYWNrQWNjZXNzVG9rZW4uc2lnbmF0dXJlKTsKICAgICAgICAgICAgICAgICAgICB1cmxJbmZvLnNlYXJjaFBhcmFtcy5zZXQoJ3Rva2VuJywgYWNjZXNzVG9rZW4uZGF0YS5zdHJlYW1QbGF5YmFja0FjY2Vzc1Rva2VuLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICB2YXIgZW5jb2RpbmdzTTN1OFJlc3BvbnNlID0gYXdhaXQgcmVhbEZldGNoKHVybEluZm8uaHJlZik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVuY29kaW5nc00zdThSZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U3RyZWFtRm9yUmVzb2x1dGlvbihzdHJlYW1JbmZvLCBjdXJyZW50UmVzb2x1dGlvbiwgYXdhaXQgZW5jb2RpbmdzTTN1OFJlc3BvbnNlLnRleHQoKSwgdGV4dFN0ciwgcGxheWVyVHlwZSwgcmVhbEZldGNoKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGV4dFN0cjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHt9CiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dFN0cjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0U3RyOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKFdhc1Nob3dpbmdBZCkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZpbmlzaGVkIGJsb2NraW5nIGFkcycpOwogICAgICAgICAgICAgICAgV2FzU2hvd2luZ0FkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAvL0hlcmUgd2UgcHV0IHBsYXllciBiYWNrIHRvIG9yaWdpbmFsIHF1YWxpdHkgYW5kIHJlbW92ZSB0aGUgYmxvY2tpbmcgbWVzc2FnZS4KICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBrZXk6ICdGb3JjZUNoYW5nZVF1YWxpdHknLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnb3JpZ2luYWwnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICBrZXk6ICdQYXVzZVJlc3VtZVBsYXllcicKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIGtleTogJ0hpZGVBZEJsb2NrQmFubmVyJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRleHRTdHI7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0ZXh0U3RyOwogICAgfQogICAgZnVuY3Rpb24gcGFyc2VBdHRyaWJ1dGVzKHN0cikgewogICAgICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoCiAgICAgICAgICAgIHN0ci5zcGxpdCgvKD86XnwsKSgoPzpbXj1dKik9KD86IlteIl0qInxbXixdKikpLykKICAgICAgICAgICAgLmZpbHRlcihCb29sZWFuKQogICAgICAgICAgICAubWFwKHggPT4gewogICAgICAgICAgICAgICAgY29uc3QgaWR4ID0geC5pbmRleE9mKCc9Jyk7CiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSB4LnN1YnN0cmluZygwLCBpZHgpOwogICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB4LnN1YnN0cmluZyhpZHggKyAxKTsKICAgICAgICAgICAgICAgIGNvbnN0IG51bSA9IE51bWJlcih2YWx1ZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gW2tleSwgTnVtYmVyLmlzTmFOKG51bSkgPyB2YWx1ZS5zdGFydHNXaXRoKCciJykgPyBKU09OLnBhcnNlKHZhbHVlKSA6IHZhbHVlIDogbnVtXTsKICAgICAgICAgICAgfSkpOwogICAgfQogICAgYXN5bmMgZnVuY3Rpb24gdHJ5Tm90aWZ5VHdpdGNoKHN0cmVhbU0zdTgpIHsKICAgICAgICAvL1dlIG5vdGlmeSB0aGF0IGFuIGFkIHdhcyByZXF1ZXN0ZWQgYnV0IHdhcyBub3QgdmlzaWJsZSBhbmQgd2FzIGFsc28gbXV0ZWQuCiAgICAgICAgdmFyIG1hdGNoZXMgPSBzdHJlYW1NM3U4Lm1hdGNoKC8jRVhULVgtREFURVJBTkdFOihJRD0ic3RpdGNoZWQtYWQtW15cbl0rKVxuLyk7CiAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID4gMSkgewogICAgICAgICAgICBjb25zdCBhdHRyU3RyaW5nID0gbWF0Y2hlc1sxXTsKICAgICAgICAgICAgY29uc3QgYXR0ciA9IHBhcnNlQXR0cmlidXRlcyhhdHRyU3RyaW5nKTsKICAgICAgICAgICAgdmFyIHBvZExlbmd0aCA9IHBhcnNlSW50KGF0dHJbJ1gtVFYtVFdJVENILUFELVBPRC1MRU5HVEgnXSA/IGF0dHJbJ1gtVFYtVFdJVENILUFELVBPRC1MRU5HVEgnXSA6ICcxJyk7CiAgICAgICAgICAgIHZhciBwb2RQb3NpdGlvbiA9IHBhcnNlSW50KGF0dHJbJ1gtVFYtVFdJVENILUFELVBPRC1QT1NJVElPTiddID8gYXR0clsnWC1UVi1UV0lUQ0gtQUQtUE9ELVBPU0lUSU9OJ10gOiAnMCcpOwogICAgICAgICAgICB2YXIgcmFkVG9rZW4gPSBhdHRyWydYLVRWLVRXSVRDSC1BRC1SQURTLVRPS0VOJ107CiAgICAgICAgICAgIHZhciBsaW5lSXRlbUlkID0gYXR0clsnWC1UVi1UV0lUQ0gtQUQtTElORS1JVEVNLUlEJ107CiAgICAgICAgICAgIHZhciBvcmRlcklkID0gYXR0clsnWC1UVi1UV0lUQ0gtQUQtT1JERVItSUQnXTsKICAgICAgICAgICAgdmFyIGNyZWF0aXZlSWQgPSBhdHRyWydYLVRWLVRXSVRDSC1BRC1DUkVBVElWRS1JRCddOwogICAgICAgICAgICB2YXIgYWRJZCA9IGF0dHJbJ1gtVFYtVFdJVENILUFELUFEVkVSVElTRVItSUQnXTsKICAgICAgICAgICAgdmFyIHJvbGxUeXBlID0gYXR0clsnWC1UVi1UV0lUQ0gtQUQtUk9MTC1UWVBFJ10udG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgY29uc3QgYmFzZURhdGEgPSB7CiAgICAgICAgICAgICAgICBzdGl0Y2hlZDogdHJ1ZSwKICAgICAgICAgICAgICAgIHJvbGxfdHlwZTogcm9sbFR5cGUsCiAgICAgICAgICAgICAgICBwbGF5ZXJfbXV0ZTogdHJ1ZSwKICAgICAgICAgICAgICAgIHBsYXllcl92b2x1bWU6IDAuMCwKICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgICAgICB9OwogICAgICAgICAgICBmb3IgKGxldCBwb2RQb3NpdGlvbiA9IDA7IHBvZFBvc2l0aW9uIDwgcG9kTGVuZ3RoOyBwb2RQb3NpdGlvbisrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBleHRlbmRlZERhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgLi4uYmFzZURhdGEsCiAgICAgICAgICAgICAgICAgICAgYWRfaWQ6IGFkSWQsCiAgICAgICAgICAgICAgICAgICAgYWRfcG9zaXRpb246IHBvZFBvc2l0aW9uLAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIGNyZWF0aXZlX2lkOiBjcmVhdGl2ZUlkLAogICAgICAgICAgICAgICAgICAgIHRvdGFsX2FkczogcG9kTGVuZ3RoLAogICAgICAgICAgICAgICAgICAgIG9yZGVyX2lkOiBvcmRlcklkLAogICAgICAgICAgICAgICAgICAgIGxpbmVfaXRlbV9pZDogbGluZUl0ZW1JZCwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBhd2FpdCBncWxSZXF1ZXN0KGFkUmVjb3JkZ3FsUGFja2V0KCd2aWRlb19hZF9pbXByZXNzaW9uJywgcmFkVG9rZW4sIGV4dGVuZGVkRGF0YSkpOwogICAgICAgICAgICAgICAgZm9yIChsZXQgcXVhcnRpbGUgPSAwOyBxdWFydGlsZSA8IDQ7IHF1YXJ0aWxlKyspIHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCBncWxSZXF1ZXN0KAogICAgICAgICAgICAgICAgICAgICAgICBhZFJlY29yZGdxbFBhY2tldCgndmlkZW9fYWRfcXVhcnRpbGVfY29tcGxldGUnLCByYWRUb2tlbiwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZXh0ZW5kZWREYXRhLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhcnRpbGU6IHF1YXJ0aWxlICsgMSwKICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYXdhaXQgZ3FsUmVxdWVzdChhZFJlY29yZGdxbFBhY2tldCgndmlkZW9fYWRfcG9kX2NvbXBsZXRlJywgcmFkVG9rZW4sIGJhc2VEYXRhKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBhZFJlY29yZGdxbFBhY2tldChldmVudCwgcmFkVG9rZW4sIHBheWxvYWQpIHsKICAgICAgICByZXR1cm4gW3sKICAgICAgICAgICAgb3BlcmF0aW9uTmFtZTogJ0NsaWVudFNpZGVBZEV2ZW50SGFuZGxpbmdfUmVjb3JkQWRFdmVudCcsCiAgICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICAgICAgaW5wdXQ6IHsKICAgICAgICAgICAgICAgICAgICBldmVudE5hbWU6IGV2ZW50LAogICAgICAgICAgICAgICAgICAgIGV2ZW50UGF5bG9hZDogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksCiAgICAgICAgICAgICAgICAgICAgcmFkVG9rZW4sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgICBleHRlbnNpb25zOiB7CiAgICAgICAgICAgICAgICBwZXJzaXN0ZWRRdWVyeTogewogICAgICAgICAgICAgICAgICAgIHZlcnNpb246IDEsCiAgICAgICAgICAgICAgICAgICAgc2hhMjU2SGFzaDogJzdlNmM2OWU2ZWI1OWY4Y2NiOTdhYjczNjg2ZjNkOGI3ZDg1YTcyYTAyOTg3NDVjY2Q4YmZjNjhlNDA1NGNhNWInLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICB9XTsKICAgIH0KICAgIGZ1bmN0aW9uIGdldEFjY2Vzc1Rva2VuKGNoYW5uZWxOYW1lLCBwbGF5ZXJUeXBlLCByZWFsRmV0Y2gpIHsKICAgICAgICB2YXIgYm9keSA9IG51bGw7CiAgICAgICAgdmFyIHRlbXBsYXRlUXVlcnkgPSAncXVlcnkgUGxheWJhY2tBY2Nlc3NUb2tlbl9UZW1wbGF0ZSgkbG9naW46IFN0cmluZyEsICRpc0xpdmU6IEJvb2xlYW4hLCAkdm9kSUQ6IElEISwgJGlzVm9kOiBCb29sZWFuISwgJHBsYXllclR5cGU6IFN0cmluZyEpIHsgIHN0cmVhbVBsYXliYWNrQWNjZXNzVG9rZW4oY2hhbm5lbE5hbWU6ICRsb2dpbiwgcGFyYW1zOiB7cGxhdGZvcm06ICJpb3MiLCBwbGF5ZXJCYWNrZW5kOiAibWVkaWFwbGF5ZXIiLCBwbGF5ZXJUeXBlOiAkcGxheWVyVHlwZX0pIEBpbmNsdWRlKGlmOiAkaXNMaXZlKSB7ICAgIHZhbHVlICAgIHNpZ25hdHVyZSAgICBfX3R5cGVuYW1lICB9ICB2aWRlb1BsYXliYWNrQWNjZXNzVG9rZW4oaWQ6ICR2b2RJRCwgcGFyYW1zOiB7cGxhdGZvcm06ICJpb3MiLCBwbGF5ZXJCYWNrZW5kOiAibWVkaWFwbGF5ZXIiLCBwbGF5ZXJUeXBlOiAkcGxheWVyVHlwZX0pIEBpbmNsdWRlKGlmOiAkaXNWb2QpIHsgICAgdmFsdWUgICAgc2lnbmF0dXJlICAgIF9fdHlwZW5hbWUgIH19JzsKICAgICAgICBib2R5ID0gewogICAgICAgICAgICBvcGVyYXRpb25OYW1lOiAnUGxheWJhY2tBY2Nlc3NUb2tlbl9UZW1wbGF0ZScsCiAgICAgICAgICAgIHF1ZXJ5OiB0ZW1wbGF0ZVF1ZXJ5LAogICAgICAgICAgICB2YXJpYWJsZXM6IHsKICAgICAgICAgICAgICAgICdpc0xpdmUnOiB0cnVlLAogICAgICAgICAgICAgICAgJ2xvZ2luJzogY2hhbm5lbE5hbWUsCiAgICAgICAgICAgICAgICAnaXNWb2QnOiBmYWxzZSwKICAgICAgICAgICAgICAgICd2b2RJRCc6ICcnLAogICAgICAgICAgICAgICAgJ3BsYXllclR5cGUnOiBwbGF5ZXJUeXBlCiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHJldHVybiBncWxSZXF1ZXN0KGJvZHksIHJlYWxGZXRjaCk7CiAgICB9CiAgICBmdW5jdGlvbiBncWxSZXF1ZXN0KGJvZHksIHJlYWxGZXRjaCkgewogICAgICAgIGlmIChDbGllbnRJbnRlZ3JpdHlIZWFkZXIgPT0gbnVsbCkgewogICAgICAgICAgICAvL2NvbnNvbGUud2FybignQ2xpZW50SW50ZWdyaXR5SGVhZGVyIGlzIG51bGwnKTsKICAgICAgICAgICAgLy90aHJvdyAnQ2xpZW50SW50ZWdyaXR5SGVhZGVyIGlzIG51bGwnOwogICAgICAgIH0KICAgICAgICB2YXIgZmV0Y2hGdW5jID0gcmVhbEZldGNoID8gcmVhbEZldGNoIDogZmV0Y2g7CiAgICAgICAgaWYgKCFHUUxEZXZpY2VJRCkgewogICAgICAgICAgICB2YXIgZGNoYXJhY3RlcnMgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JzsKICAgICAgICAgICAgdmFyIGRjaGFyYWN0ZXJzTGVuZ3RoID0gZGNoYXJhY3RlcnMubGVuZ3RoOwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMyOyBpKyspIHsKICAgICAgICAgICAgICAgIEdRTERldmljZUlEICs9IGRjaGFyYWN0ZXJzLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBkY2hhcmFjdGVyc0xlbmd0aCkpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmZXRjaEZ1bmMoJ2h0dHBzOi8vZ3FsLnR3aXRjaC50di9ncWwnLCB7CiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgJ0NsaWVudC1JRCc6IENsaWVudElELAogICAgICAgICAgICAgICAgJ0NsaWVudC1JbnRlZ3JpdHknOiBDbGllbnRJbnRlZ3JpdHlIZWFkZXIsCiAgICAgICAgICAgICAgICAnRGV2aWNlLUlEJzogR1FMRGV2aWNlSUQsCiAgICAgICAgICAgICAgICAnWC1EZXZpY2UtSWQnOiBHUUxEZXZpY2VJRCwKICAgICAgICAgICAgICAgICdDbGllbnQtVmVyc2lvbic6IENsaWVudFZlcnNpb24sCiAgICAgICAgICAgICAgICAnQ2xpZW50LVNlc3Npb24tSWQnOiBDbGllbnRTZXNzaW9uLAogICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBBdXRob3JpemF0aW9uSGVhZGVyCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KICAgIGZ1bmN0aW9uIGRvVHdpdGNoUGxheWVyVGFzayhpc1BhdXNlUGxheSwgaXNDaGVja1F1YWxpdHksIGlzQ29ycmVjdEJ1ZmZlciwgaXNBdXRvUXVhbGl0eSwgc2V0QXV0b1F1YWxpdHkpIHsKICAgICAgICAvL1RoaXMgd2lsbCBkbyBhbiBpbnN0YW50IHBhdXNlL3BsYXkgdG8gcmV0dXJuIHRvIG9yaWdpbmFsIHF1YWxpdHkgb25jZSB0aGUgYWQgaXMgZmluaXNoZWQuCiAgICAgICAgLy9XZSBhbHNvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGdldCB0aGUgY3VycmVudCB2aWRlbyBwbGF5ZXIgcXVhbGl0eSBzZXQgYnkgdGhlIHVzZXIuCiAgICAgICAgLy9XZSBhbHNvIHVzZSB0aGlzIGZ1bmN0aW9uIHRvIHF1aWNrbHkgcGF1c2UvcGxheSB0aGUgcGxheWVyIHdoZW4gc3dpdGNoaW5nIHRhYnMgdG8gc3RvcCBkZWxheXMuCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIHZpZGVvQ29udHJvbGxlciA9IG51bGw7CiAgICAgICAgICAgIHZhciB2aWRlb1BsYXllciA9IG51bGw7CiAgICAgICAgICAgIGZ1bmN0aW9uIGZpbmRSZWFjdE5vZGUocm9vdCwgY29uc3RyYWludCkgewogICAgICAgICAgICAgICAgaWYgKHJvb3Quc3RhdGVOb2RlICYmIGNvbnN0cmFpbnQocm9vdC5zdGF0ZU5vZGUpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvb3Quc3RhdGVOb2RlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGV0IG5vZGUgPSByb290LmNoaWxkOwogICAgICAgICAgICAgICAgd2hpbGUgKG5vZGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmaW5kUmVhY3ROb2RlKG5vZGUsIGNvbnN0cmFpbnQpOwogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUuc2libGluZzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGZpbmRSZWFjdFJvb3ROb2RlKCkgewogICAgICAgICAgICAgICAgdmFyIHJlYWN0Um9vdE5vZGUgPSBudWxsOwogICAgICAgICAgICAgICAgdmFyIHJvb3ROb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jvb3QnKTsKICAgICAgICAgICAgICAgIGlmIChyb290Tm9kZSAmJiByb290Tm9kZS5fcmVhY3RSb290Q29udGFpbmVyICYmIHJvb3ROb2RlLl9yZWFjdFJvb3RDb250YWluZXIuX2ludGVybmFsUm9vdCAmJiByb290Tm9kZS5fcmVhY3RSb290Q29udGFpbmVyLl9pbnRlcm5hbFJvb3QuY3VycmVudCkgewogICAgICAgICAgICAgICAgICAgIHJlYWN0Um9vdE5vZGUgPSByb290Tm9kZS5fcmVhY3RSb290Q29udGFpbmVyLl9pbnRlcm5hbFJvb3QuY3VycmVudDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChyZWFjdFJvb3ROb2RlID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyTmFtZSA9IE9iamVjdC5rZXlzKHJvb3ROb2RlKS5maW5kKHggPT4geC5zdGFydHNXaXRoKCdfX3JlYWN0Q29udGFpbmVyJykpOwogICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJOYW1lICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVhY3RSb290Tm9kZSA9IHJvb3ROb2RlW2NvbnRhaW5lck5hbWVdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiByZWFjdFJvb3ROb2RlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciByZWFjdFJvb3ROb2RlID0gZmluZFJlYWN0Um9vdE5vZGUoKTsKICAgICAgICAgICAgaWYgKCFyZWFjdFJvb3ROb2RlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ291bGQgbm90IGZpbmQgcmVhY3Qgcm9vdCcpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZpZGVvUGxheWVyID0gZmluZFJlYWN0Tm9kZShyZWFjdFJvb3ROb2RlLCBub2RlID0+IG5vZGUuc2V0UGxheWVyQWN0aXZlICYmIG5vZGUucHJvcHMgJiYgbm9kZS5wcm9wcy5tZWRpYVBsYXllckluc3RhbmNlKTsKICAgICAgICAgICAgdmlkZW9QbGF5ZXIgPSB2aWRlb1BsYXllciAmJiB2aWRlb1BsYXllci5wcm9wcyAmJiB2aWRlb1BsYXllci5wcm9wcy5tZWRpYVBsYXllckluc3RhbmNlID8gdmlkZW9QbGF5ZXIucHJvcHMubWVkaWFQbGF5ZXJJbnN0YW5jZSA6IG51bGw7CiAgICAgICAgICAgIGlmIChpc1BhdXNlUGxheSkgewogICAgICAgICAgICAgICAgdmlkZW9QbGF5ZXIucGF1c2UoKTsKICAgICAgICAgICAgICAgIHZpZGVvUGxheWVyLnBsYXkoKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaXNDaGVja1F1YWxpdHkpIHsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmlkZW9QbGF5ZXIuZ2V0UXVhbGl0eSgpID09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIHBsYXllclF1YWxpdHkgPSBKU09OLnN0cmluZ2lmeSh2aWRlb1BsYXllci5nZXRRdWFsaXR5KCkpOwogICAgICAgICAgICAgICAgaWYgKHBsYXllclF1YWxpdHkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVyUXVhbGl0eTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc0F1dG9RdWFsaXR5KSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZpZGVvUGxheWVyLmlzQXV0b1F1YWxpdHlNb2RlKCkgPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgYXV0b1F1YWxpdHkgPSB2aWRlb1BsYXllci5pc0F1dG9RdWFsaXR5TW9kZSgpOwogICAgICAgICAgICAgICAgaWYgKGF1dG9RdWFsaXR5KSB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9QbGF5ZXIuc2V0QXV0b1F1YWxpdHlNb2RlKGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXV0b1F1YWxpdHk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2V0QXV0b1F1YWxpdHkpIHsKICAgICAgICAgICAgICAgIHZpZGVvUGxheWVyLnNldEF1dG9RdWFsaXR5TW9kZSh0cnVlKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAvL1RoaXMgb25seSBoYXBwZW5zIHdoZW4gc3dpdGNoaW5nIHRhYnMgYW5kIGlzIHRvIGNvcnJlY3QgdGhlIGhpZ2ggbGF0ZW5jeSBjYXVzZWQgd2hlbiBvcGVuaW5nIGJhY2tncm91bmQgdGFicyBhbmQgZ29pbmcgdG8gdGhlbSBhdCBhIGxhdGVyIHRpbWUuCiAgICAgICAgICAgIC8vV2UgY2hlY2sgdGhhdCB0aGlzIGlzIGEgbGl2ZSBzdHJlYW0gYnkgdGhlIHBhZ2UgVVJMLCB0byBwcmV2ZW50IHZvZC9jbGlwIHBhdXNlL3BsYXlzLgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlVVJMID0gZG9jdW1lbnQuVVJMOwogICAgICAgICAgICAgICAgdmFyIGlzTGl2ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBhZ2VVUkwuaW5jbHVkZXMoJ3ZpZGVvcy8nKSB8fCBjdXJyZW50UGFnZVVSTC5pbmNsdWRlcygnY2xpcC8nKSkgewogICAgICAgICAgICAgICAgICAgIGlzTGl2ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGlzQ29ycmVjdEJ1ZmZlciAmJiBpc0xpdmUpIHsKICAgICAgICAgICAgICAgICAgICAvL0EgdGltZXIgaXMgbmVlZGVkIGR1ZSB0byB0aGUgcGxheWVyIG5vdCByZXN1bWluZyB3aXRob3V0IGl0LgogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vSWYgbGF0ZW5jeSB0byBicm9hZGNhc3RlciBpcyBhYm92ZSA1IG9yIDE1IHNlY29uZHMgdXBvbiBzd2l0Y2hpbmcgdGFicywgd2UgcGF1c2UgYW5kIHBsYXkgdGhlIHBsYXllciB0byByZXNldCB0aGUgbGF0ZW5jeS4KICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiBsYXRlbmN5IGlzIGJldHdlZW4gMC02LCB1c2VyIGNhbiBtYW51YWxseSBwYXVzZSBhbmQgcmVzdW1lIHRvIHJlc2V0IGxhdGVuY3kgZnVydGhlci4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpZGVvUGxheWVyLmlzTGl2ZUxvd0xhdGVuY3koKSAmJiB2aWRlb1BsYXllci5nZXRMaXZlTGF0ZW5jeSgpID4gNSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9QbGF5ZXIucGF1c2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvUGxheWVyLnBsYXkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2aWRlb1BsYXllci5nZXRMaXZlTGF0ZW5jeSgpID4gMTUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvUGxheWVyLnBhdXNlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlb1BsYXllci5wbGF5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7fQogICAgICAgIH0gY2F0Y2ggKGVycikge30KICAgIH0KICAgIHdpbmRvdy5yZWxvYWRUd2l0Y2hQbGF5ZXIgPSBkb1R3aXRjaFBsYXllclRhc2s7CiAgICB2YXIgbG9jYWxEZXZpY2VJRCA9IG51bGw7CiAgICBsb2NhbERldmljZUlEID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhbF9jb3B5X3VuaXF1ZV9pZCcpOwogICAgZnVuY3Rpb24gcG9zdFR3aXRjaFdvcmtlck1lc3NhZ2Uoa2V5LCB2YWx1ZSkgewogICAgICAgIHR3aXRjaFdvcmtlcnMuZm9yRWFjaCgod29ya2VyKSA9PiB7CiAgICAgICAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7a2V5OiBrZXksIHZhbHVlOiB2YWx1ZX0pOwogICAgICAgIH0pOwogICAgfQogICAgZnVuY3Rpb24gaG9va0ZldGNoKCkgewogICAgICAgIHZhciByZWFsRmV0Y2ggPSB3aW5kb3cuZmV0Y2g7CiAgICAgICAgd2luZG93LmZldGNoID0gZnVuY3Rpb24odXJsLCBpbml0LCAuLi5hcmdzKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgLy9DaGVjayBpZiBzcXVhZCBzdHJlYW0uCiAgICAgICAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCcvc3F1YWQnKSkgewogICAgICAgICAgICAgICAgICAgIHBvc3RUd2l0Y2hXb3JrZXJNZXNzYWdlKCdVcGRhdGVJc1NxdWFkU3RyZWFtJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHBvc3RUd2l0Y2hXb3JrZXJNZXNzYWdlKCdVcGRhdGVJc1NxdWFkU3RyZWFtJywgZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnL2FjY2Vzc190b2tlbicpIHx8IHVybC5pbmNsdWRlcygnZ3FsJykpIHsKICAgICAgICAgICAgICAgICAgICAvL0RldmljZSBJRCBpcyB1c2VkIHdoZW4gbm90aWZ5aW5nIFR3aXRjaCBvZiBhZHMuCiAgICAgICAgICAgICAgICAgICAgdmFyIGRldmljZUlkID0gaW5pdC5oZWFkZXJzWydYLURldmljZS1JZCddOwogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGV2aWNlSWQgIT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZUlkID0gaW5pdC5oZWFkZXJzWydEZXZpY2UtSUQnXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy9BZGRlZCB0byBwcmV2ZW50IGV2ZW50dWFsIFVCbG9jayBjb25mbGljdHMuCiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXZpY2VJZCA9PT0gJ3N0cmluZycgJiYgIWRldmljZUlkLmluY2x1ZGVzKCd0d2l0Y2gtd2ViLXdhbGwtbWFzb24nKSkgewogICAgICAgICAgICAgICAgICAgICAgICBHUUxEZXZpY2VJRCA9IGRldmljZUlkOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxEZXZpY2VJRCkgewogICAgICAgICAgICAgICAgICAgICAgICBHUUxEZXZpY2VJRCA9IGxvY2FsRGV2aWNlSUQucmVwbGFjZSgnIicsICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgR1FMRGV2aWNlSUQgPSBHUUxEZXZpY2VJRC5yZXBsYWNlKCciJywgJycpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoR1FMRGV2aWNlSUQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbml0LmhlYWRlcnNbJ1gtRGV2aWNlLUlkJ10gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0LmhlYWRlcnNbJ1gtRGV2aWNlLUlkJ10gPSBHUUxEZXZpY2VJRDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGluaXQuaGVhZGVyc1snRGV2aWNlLUlEJ10gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0LmhlYWRlcnNbJ0RldmljZS1JRCddID0gR1FMRGV2aWNlSUQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFR3aXRjaFdvcmtlck1lc3NhZ2UoJ1VwZGF0ZURldmljZUlkJywgR1FMRGV2aWNlSUQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvL0NsaWVudCB2ZXJzaW9uIGlzIHVzZWQgaW4gR1FMIHJlcXVlc3RzLgogICAgICAgICAgICAgICAgICAgIHZhciBjbGllbnRWZXJzaW9uID0gaW5pdC5oZWFkZXJzWydDbGllbnQtVmVyc2lvbiddOwogICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRWZXJzaW9uICYmIHR5cGVvZiBjbGllbnRWZXJzaW9uID09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIENsaWVudFZlcnNpb24gPSBjbGllbnRWZXJzaW9uOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoQ2xpZW50VmVyc2lvbikgewogICAgICAgICAgICAgICAgICAgICAgICBwb3N0VHdpdGNoV29ya2VyTWVzc2FnZSgnVXBkYXRlQ2xpZW50VmVyc2lvbicsIENsaWVudFZlcnNpb24pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvL0NsaWVudCBzZXNzaW9uIGlzIHVzZWQgaW4gR1FMIHJlcXVlc3RzLgogICAgICAgICAgICAgICAgICAgIHZhciBjbGllbnRTZXNzaW9uID0gaW5pdC5oZWFkZXJzWydDbGllbnQtU2Vzc2lvbi1JZCddOwogICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRTZXNzaW9uICYmIHR5cGVvZiBjbGllbnRTZXNzaW9uID09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIENsaWVudFNlc3Npb24gPSBjbGllbnRTZXNzaW9uOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoQ2xpZW50U2Vzc2lvbikgewogICAgICAgICAgICAgICAgICAgICAgICBwb3N0VHdpdGNoV29ya2VyTWVzc2FnZSgnVXBkYXRlQ2xpZW50U2Vzc2lvbicsIENsaWVudFNlc3Npb24pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvL0NsaWVudCBJRCBpcyB1c2VkIGluIEdRTCByZXF1ZXN0cy4KICAgICAgICAgICAgICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCdncWwnKSAmJiBpbml0ICYmIHR5cGVvZiBpbml0LmJvZHkgPT09ICdzdHJpbmcnICYmIGluaXQuYm9keS5pbmNsdWRlcygnUGxheWJhY2tBY2Nlc3NUb2tlbicpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGllbnRJZCA9IGluaXQuaGVhZGVyc1snQ2xpZW50LUlEJ107CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRJZCAmJiB0eXBlb2YgY2xpZW50SWQgPT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIENsaWVudElEID0gY2xpZW50SWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRJZCA9IGluaXQuaGVhZGVyc1snQ2xpZW50LUlkJ107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpZW50SWQgJiYgdHlwZW9mIGNsaWVudElkID09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2xpZW50SUQgPSBjbGllbnRJZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ2xpZW50SUQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RUd2l0Y2hXb3JrZXJNZXNzYWdlKCdVcGRhdGVDbGllbnRJZCcsIENsaWVudElEKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvL0NsaWVudCBpbnRlZ3JpdHkgaGVhZGVyCiAgICAgICAgICAgICAgICAgICAgICAgIENsaWVudEludGVncml0eUhlYWRlciA9IGluaXQuaGVhZGVyc1snQ2xpZW50LUludGVncml0eSddOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ2xpZW50SW50ZWdyaXR5SGVhZGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0VHdpdGNoV29ya2VyTWVzc2FnZSgnVXBkYXRlQ2xpZW50SW50ZWdyaXR5SGVhZGVyJywgQ2xpZW50SW50ZWdyaXR5SGVhZGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvL0F1dGhvcml6YXRpb24gaGVhZGVyCiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb25IZWFkZXIgPSBpbml0LmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEF1dGhvcml6YXRpb25IZWFkZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RUd2l0Y2hXb3JrZXJNZXNzYWdlKCdVcGRhdGVBdXRob3JpemF0aW9uSGVhZGVyJywgQXV0aG9yaXphdGlvbkhlYWRlcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy9UbyBwcmV2ZW50IHBhdXNlL3Jlc3VtZSBsb29wIGZvciBtaWQtcm9sbHMuCiAgICAgICAgICAgICAgICAgICAgaWYgKHVybC5pbmNsdWRlcygnZ3FsJykgJiYgaW5pdCAmJiB0eXBlb2YgaW5pdC5ib2R5ID09PSAnc3RyaW5nJyAmJiBpbml0LmJvZHkuaW5jbHVkZXMoJ1BsYXliYWNrQWNjZXNzVG9rZW4nKSAmJiBpbml0LmJvZHkuaW5jbHVkZXMoJ3BpY3R1cmUtYnktcGljdHVyZScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGluaXQuYm9keSA9ICcnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgaXNQQllQUmVxdWVzdCA9IHVybC5pbmNsdWRlcygncGljdHVyZS1ieS1waWN0dXJlJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUEJZUFJlcXVlc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gJyc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiByZWFsRmV0Y2guYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgfQogICAgZnVuY3Rpb24gb25Db250ZW50TG9hZGVkKCkgewogICAgICAgIC8vIFRoaXMgc3RvcHMgVHdpdGNoIGZyb20gcGF1c2luZyB0aGUgcGxheWVyIHdoZW4gaW4gYW5vdGhlciB0YWIgYW5kIGFuIGFkIHNob3dzLgogICAgICAgIC8vIFRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3NhdWNldHR2L1ZpZGVvQWRCbG9ja0ZvclR3aXRjaC9ibG9iL2NlZmNlOWQyYjU2NTc2OWM3N2UzNjY2YWM4MjM0YzNhY2ZlMjBkODMvY2hyb21lL2NvbnRlbnQuanMjTDMwCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCAndmlzaWJpbGl0eVN0YXRlJywgewogICAgICAgICAgICAgICAgZ2V0KCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAndmlzaWJsZSc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH1jYXRjaHt9CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCAnaGlkZGVuJywgewogICAgICAgICAgICAgICAgZ2V0KCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfWNhdGNoe30KICAgICAgICB2YXIgYmxvY2sgPSBlID0+IHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwogICAgICAgIH07CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGJsb2NrLCB0cnVlKTsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlJywgYmxvY2ssIHRydWUpOwogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21venZpc2liaWxpdHljaGFuZ2UnLCBibG9jaywgdHJ1ZSk7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaGFzRm9jdXMnLCBibG9jaywgdHJ1ZSk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKC9GaXJlZm94Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7CiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsICdtb3pIaWRkZW4nLCB7CiAgICAgICAgICAgICAgICAgICAgZ2V0KCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsICd3ZWJraXRIaWRkZW4nLCB7CiAgICAgICAgICAgICAgICAgICAgZ2V0KCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9Y2F0Y2h7fQogICAgfQogICAgZGVjbGFyZU9wdGlvbnMod2luZG93KTsKICAgIGhvb2tXaW5kb3dXb3JrZXIoKTsKICAgIGhvb2tGZXRjaCgpOwogICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gImxvYWRlZCIgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gImludGVyYWN0aXZlIikgewogICAgICAgIG9uQ29udGVudExvYWRlZCgpOwogICAgfSBlbHNlIHsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICBvbkNvbnRlbnRMb2FkZWQoKTsKICAgICAgICB9KTsKICAgIH0KfSkoKTsK"},{"name":"MFL Logo","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www49.myfantasyleague.com/*"],"orig_noframes":null,"orig_run_at":"document-idle","use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[],"orig_run_in":[]},"run_at":null,"sandbox":null,"tab_types":null,"unwrap":null,"user_modified":1728617496869,"run_in":null,"tags":[]},"storage":{"ts":1728617358626,"data":{}},"enabled":true,"position":12,"uuid":"492f773b-2fa7-4e99-ad80-1f6af213deef","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBNRkwgTG9nbwovLyBAbmFtZXNwYWNlICAgIGh0dHA6Ly90YW1wZXJtb25rZXkubmV0LwovLyBAdmVyc2lvbiAgICAgIDIwMjQtMTAtMTEKLy8gQGRlc2NyaXB0aW9uICB0cnkgdG8gdGFrZSBvdmVyIHRoZSB3b3JsZCEKLy8gQGF1dGhvciAgICAgICBZb3UKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dzQ5Lm15ZmFudGFzeWxlYWd1ZS5jb20vKgovLyBAaWNvbiAgICAgICAgIGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vczIvZmF2aWNvbnM/c3o9NjQmZG9tYWluPW15ZmFudGFzeWxlYWd1ZS5jb20KLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibGVhZ3VlbG9nbyIpWzBdLnJlbW92ZSgpOwp9KSgpOw=="}]}